(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(l){if(l.ep)return;l.ep=!0;const c=n(l);fetch(l.href,c)}})();function kA(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var fd={exports:{}},cl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ty;function UA(){if(ty)return cl;ty=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,l,c){var f=null;if(c!==void 0&&(f=""+c),l.key!==void 0&&(f=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:r,type:s,key:f,ref:l!==void 0?l:null,props:c}}return cl.Fragment=t,cl.jsx=n,cl.jsxs=n,cl}var ey;function LA(){return ey||(ey=1,fd.exports=UA()),fd.exports}var X=LA(),dd={exports:{}},wt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ny;function xA(){if(ny)return wt;ny=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),f=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),R=Symbol.iterator;function P(D){return D===null||typeof D!="object"?null:(D=R&&D[R]||D["@@iterator"],typeof D=="function"?D:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Q=Object.assign,J={};function $(D,W,ot){this.props=D,this.context=W,this.refs=J,this.updater=ot||j}$.prototype.isReactComponent={},$.prototype.setState=function(D,W){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,W,"setState")},$.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function vt(){}vt.prototype=$.prototype;function mt(D,W,ot){this.props=D,this.context=W,this.refs=J,this.updater=ot||j}var Et=mt.prototype=new vt;Et.constructor=mt,Q(Et,$.prototype),Et.isPureReactComponent=!0;var dt=Array.isArray,lt={H:null,A:null,T:null,S:null},st=Object.prototype.hasOwnProperty;function O(D,W,ot,et,nt,Rt){return ot=Rt.ref,{$$typeof:r,type:D,key:W,ref:ot!==void 0?ot:null,props:Rt}}function b(D,W){return O(D.type,W,void 0,void 0,void 0,D.props)}function S(D){return typeof D=="object"&&D!==null&&D.$$typeof===r}function I(D){var W={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(ot){return W[ot]})}var M=/\/+/g;function U(D,W){return typeof D=="object"&&D!==null&&D.key!=null?I(""+D.key):W.toString(36)}function C(){}function Xt(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(C,C):(D.status="pending",D.then(function(W){D.status==="pending"&&(D.status="fulfilled",D.value=W)},function(W){D.status==="pending"&&(D.status="rejected",D.reason=W)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function te(D,W,ot,et,nt){var Rt=typeof D;(Rt==="undefined"||Rt==="boolean")&&(D=null);var bt=!1;if(D===null)bt=!0;else switch(Rt){case"bigint":case"string":case"number":bt=!0;break;case"object":switch(D.$$typeof){case r:case t:bt=!0;break;case A:return bt=D._init,te(bt(D._payload),W,ot,et,nt)}}if(bt)return nt=nt(D),bt=et===""?"."+U(D,0):et,dt(nt)?(ot="",bt!=null&&(ot=bt.replace(M,"$&/")+"/"),te(nt,W,ot,"",function(se){return se})):nt!=null&&(S(nt)&&(nt=b(nt,ot+(nt.key==null||D&&D.key===nt.key?"":(""+nt.key).replace(M,"$&/")+"/")+bt)),W.push(nt)),1;bt=0;var de=et===""?".":et+":";if(dt(D))for(var xt=0;xt<D.length;xt++)et=D[xt],Rt=de+U(et,xt),bt+=te(et,W,ot,Rt,nt);else if(xt=P(D),typeof xt=="function")for(D=xt.call(D),xt=0;!(et=D.next()).done;)et=et.value,Rt=de+U(et,xt++),bt+=te(et,W,ot,Rt,nt);else if(Rt==="object"){if(typeof D.then=="function")return te(Xt(D),W,ot,et,nt);throw W=String(D),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return bt}function tt(D,W,ot){if(D==null)return D;var et=[],nt=0;return te(D,et,"","",function(Rt){return W.call(ot,Rt,nt++)}),et}function _t(D){if(D._status===-1){var W=D._result;W=W(),W.then(function(ot){(D._status===0||D._status===-1)&&(D._status=1,D._result=ot)},function(ot){(D._status===0||D._status===-1)&&(D._status=2,D._result=ot)}),D._status===-1&&(D._status=0,D._result=W)}if(D._status===1)return D._result.default;throw D._result}var ht=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function Ht(){}return wt.Children={map:tt,forEach:function(D,W,ot){tt(D,function(){W.apply(this,arguments)},ot)},count:function(D){var W=0;return tt(D,function(){W++}),W},toArray:function(D){return tt(D,function(W){return W})||[]},only:function(D){if(!S(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},wt.Component=$,wt.Fragment=n,wt.Profiler=l,wt.PureComponent=mt,wt.StrictMode=s,wt.Suspense=p,wt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=lt,wt.act=function(){throw Error("act(...) is not supported in production builds of React.")},wt.cache=function(D){return function(){return D.apply(null,arguments)}},wt.cloneElement=function(D,W,ot){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var et=Q({},D.props),nt=D.key,Rt=void 0;if(W!=null)for(bt in W.ref!==void 0&&(Rt=void 0),W.key!==void 0&&(nt=""+W.key),W)!st.call(W,bt)||bt==="key"||bt==="__self"||bt==="__source"||bt==="ref"&&W.ref===void 0||(et[bt]=W[bt]);var bt=arguments.length-2;if(bt===1)et.children=ot;else if(1<bt){for(var de=Array(bt),xt=0;xt<bt;xt++)de[xt]=arguments[xt+2];et.children=de}return O(D.type,nt,void 0,void 0,Rt,et)},wt.createContext=function(D){return D={$$typeof:f,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:c,_context:D},D},wt.createElement=function(D,W,ot){var et,nt={},Rt=null;if(W!=null)for(et in W.key!==void 0&&(Rt=""+W.key),W)st.call(W,et)&&et!=="key"&&et!=="__self"&&et!=="__source"&&(nt[et]=W[et]);var bt=arguments.length-2;if(bt===1)nt.children=ot;else if(1<bt){for(var de=Array(bt),xt=0;xt<bt;xt++)de[xt]=arguments[xt+2];nt.children=de}if(D&&D.defaultProps)for(et in bt=D.defaultProps,bt)nt[et]===void 0&&(nt[et]=bt[et]);return O(D,Rt,void 0,void 0,null,nt)},wt.createRef=function(){return{current:null}},wt.forwardRef=function(D){return{$$typeof:g,render:D}},wt.isValidElement=S,wt.lazy=function(D){return{$$typeof:A,_payload:{_status:-1,_result:D},_init:_t}},wt.memo=function(D,W){return{$$typeof:_,type:D,compare:W===void 0?null:W}},wt.startTransition=function(D){var W=lt.T,ot={};lt.T=ot;try{var et=D(),nt=lt.S;nt!==null&&nt(ot,et),typeof et=="object"&&et!==null&&typeof et.then=="function"&&et.then(Ht,ht)}catch(Rt){ht(Rt)}finally{lt.T=W}},wt.unstable_useCacheRefresh=function(){return lt.H.useCacheRefresh()},wt.use=function(D){return lt.H.use(D)},wt.useActionState=function(D,W,ot){return lt.H.useActionState(D,W,ot)},wt.useCallback=function(D,W){return lt.H.useCallback(D,W)},wt.useContext=function(D){return lt.H.useContext(D)},wt.useDebugValue=function(){},wt.useDeferredValue=function(D,W){return lt.H.useDeferredValue(D,W)},wt.useEffect=function(D,W){return lt.H.useEffect(D,W)},wt.useId=function(){return lt.H.useId()},wt.useImperativeHandle=function(D,W,ot){return lt.H.useImperativeHandle(D,W,ot)},wt.useInsertionEffect=function(D,W){return lt.H.useInsertionEffect(D,W)},wt.useLayoutEffect=function(D,W){return lt.H.useLayoutEffect(D,W)},wt.useMemo=function(D,W){return lt.H.useMemo(D,W)},wt.useOptimistic=function(D,W){return lt.H.useOptimistic(D,W)},wt.useReducer=function(D,W,ot){return lt.H.useReducer(D,W,ot)},wt.useRef=function(D){return lt.H.useRef(D)},wt.useState=function(D){return lt.H.useState(D)},wt.useSyncExternalStore=function(D,W,ot){return lt.H.useSyncExternalStore(D,W,ot)},wt.useTransition=function(){return lt.H.useTransition()},wt.version="19.0.0",wt}var iy;function sm(){return iy||(iy=1,dd.exports=xA()),dd.exports}var qt=sm();const zA=kA(qt);var md={exports:{}},hl={},gd={exports:{}},pd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ry;function jA(){return ry||(ry=1,function(r){function t(tt,_t){var ht=tt.length;tt.push(_t);t:for(;0<ht;){var Ht=ht-1>>>1,D=tt[Ht];if(0<l(D,_t))tt[Ht]=_t,tt[ht]=D,ht=Ht;else break t}}function n(tt){return tt.length===0?null:tt[0]}function s(tt){if(tt.length===0)return null;var _t=tt[0],ht=tt.pop();if(ht!==_t){tt[0]=ht;t:for(var Ht=0,D=tt.length,W=D>>>1;Ht<W;){var ot=2*(Ht+1)-1,et=tt[ot],nt=ot+1,Rt=tt[nt];if(0>l(et,ht))nt<D&&0>l(Rt,et)?(tt[Ht]=Rt,tt[nt]=ht,Ht=nt):(tt[Ht]=et,tt[ot]=ht,Ht=ot);else if(nt<D&&0>l(Rt,ht))tt[Ht]=Rt,tt[nt]=ht,Ht=nt;else break t}}return _t}function l(tt,_t){var ht=tt.sortIndex-_t.sortIndex;return ht!==0?ht:tt.id-_t.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var f=Date,g=f.now();r.unstable_now=function(){return f.now()-g}}var p=[],_=[],A=1,R=null,P=3,j=!1,Q=!1,J=!1,$=typeof setTimeout=="function"?setTimeout:null,vt=typeof clearTimeout=="function"?clearTimeout:null,mt=typeof setImmediate<"u"?setImmediate:null;function Et(tt){for(var _t=n(_);_t!==null;){if(_t.callback===null)s(_);else if(_t.startTime<=tt)s(_),_t.sortIndex=_t.expirationTime,t(p,_t);else break;_t=n(_)}}function dt(tt){if(J=!1,Et(tt),!Q)if(n(p)!==null)Q=!0,Xt();else{var _t=n(_);_t!==null&&te(dt,_t.startTime-tt)}}var lt=!1,st=-1,O=5,b=-1;function S(){return!(r.unstable_now()-b<O)}function I(){if(lt){var tt=r.unstable_now();b=tt;var _t=!0;try{t:{Q=!1,J&&(J=!1,vt(st),st=-1),j=!0;var ht=P;try{e:{for(Et(tt),R=n(p);R!==null&&!(R.expirationTime>tt&&S());){var Ht=R.callback;if(typeof Ht=="function"){R.callback=null,P=R.priorityLevel;var D=Ht(R.expirationTime<=tt);if(tt=r.unstable_now(),typeof D=="function"){R.callback=D,Et(tt),_t=!0;break e}R===n(p)&&s(p),Et(tt)}else s(p);R=n(p)}if(R!==null)_t=!0;else{var W=n(_);W!==null&&te(dt,W.startTime-tt),_t=!1}}break t}finally{R=null,P=ht,j=!1}_t=void 0}}finally{_t?M():lt=!1}}}var M;if(typeof mt=="function")M=function(){mt(I)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,C=U.port2;U.port1.onmessage=I,M=function(){C.postMessage(null)}}else M=function(){$(I,0)};function Xt(){lt||(lt=!0,M())}function te(tt,_t){st=$(function(){tt(r.unstable_now())},_t)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(tt){tt.callback=null},r.unstable_continueExecution=function(){Q||j||(Q=!0,Xt())},r.unstable_forceFrameRate=function(tt){0>tt||125<tt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<tt?Math.floor(1e3/tt):5},r.unstable_getCurrentPriorityLevel=function(){return P},r.unstable_getFirstCallbackNode=function(){return n(p)},r.unstable_next=function(tt){switch(P){case 1:case 2:case 3:var _t=3;break;default:_t=P}var ht=P;P=_t;try{return tt()}finally{P=ht}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(tt,_t){switch(tt){case 1:case 2:case 3:case 4:case 5:break;default:tt=3}var ht=P;P=tt;try{return _t()}finally{P=ht}},r.unstable_scheduleCallback=function(tt,_t,ht){var Ht=r.unstable_now();switch(typeof ht=="object"&&ht!==null?(ht=ht.delay,ht=typeof ht=="number"&&0<ht?Ht+ht:Ht):ht=Ht,tt){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=ht+D,tt={id:A++,callback:_t,priorityLevel:tt,startTime:ht,expirationTime:D,sortIndex:-1},ht>Ht?(tt.sortIndex=ht,t(_,tt),n(p)===null&&tt===n(_)&&(J?(vt(st),st=-1):J=!0,te(dt,ht-Ht))):(tt.sortIndex=D,t(p,tt),Q||j||(Q=!0,Xt())),tt},r.unstable_shouldYield=S,r.unstable_wrapCallback=function(tt){var _t=P;return function(){var ht=P;P=_t;try{return tt.apply(this,arguments)}finally{P=ht}}}}(pd)),pd}var sy;function BA(){return sy||(sy=1,gd.exports=jA()),gd.exports}var _d={exports:{}},Ge={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ay;function qA(){if(ay)return Ge;ay=1;var r=sm();function t(p){var _="https://react.dev/errors/"+p;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+p+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(p,_,A){var R=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:R==null?null:""+R,children:p,containerInfo:_,implementation:A}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,_){if(p==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Ge.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ge.createPortal=function(p,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return c(p,_,null,A)},Ge.flushSync=function(p){var _=f.T,A=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=_,s.p=A,s.d.f()}},Ge.preconnect=function(p,_){typeof p=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,s.d.C(p,_))},Ge.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Ge.preinit=function(p,_){if(typeof p=="string"&&_&&typeof _.as=="string"){var A=_.as,R=g(A,_.crossOrigin),P=typeof _.integrity=="string"?_.integrity:void 0,j=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?s.d.S(p,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:R,integrity:P,fetchPriority:j}):A==="script"&&s.d.X(p,{crossOrigin:R,integrity:P,fetchPriority:j,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Ge.preinitModule=function(p,_){if(typeof p=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=g(_.as,_.crossOrigin);s.d.M(p,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&s.d.M(p)},Ge.preload=function(p,_){if(typeof p=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,R=g(A,_.crossOrigin);s.d.L(p,A,{crossOrigin:R,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Ge.preloadModule=function(p,_){if(typeof p=="string")if(_){var A=g(_.as,_.crossOrigin);s.d.m(p,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else s.d.m(p)},Ge.requestFormReset=function(p){s.d.r(p)},Ge.unstable_batchedUpdates=function(p,_){return p(_)},Ge.useFormState=function(p,_,A){return f.H.useFormState(p,_,A)},Ge.useFormStatus=function(){return f.H.useHostTransitionStatus()},Ge.version="19.0.0",Ge}var oy;function HA(){if(oy)return _d.exports;oy=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),_d.exports=qA(),_d.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ly;function FA(){if(ly)return hl;ly=1;var r=BA(),t=sm(),n=HA();function s(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}var c=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),R=Symbol.for("react.provider"),P=Symbol.for("react.consumer"),j=Symbol.for("react.context"),Q=Symbol.for("react.forward_ref"),J=Symbol.for("react.suspense"),$=Symbol.for("react.suspense_list"),vt=Symbol.for("react.memo"),mt=Symbol.for("react.lazy"),Et=Symbol.for("react.offscreen"),dt=Symbol.for("react.memo_cache_sentinel"),lt=Symbol.iterator;function st(e){return e===null||typeof e!="object"?null:(e=lt&&e[lt]||e["@@iterator"],typeof e=="function"?e:null)}var O=Symbol.for("react.client.reference");function b(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===O?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case p:return"Fragment";case g:return"Portal";case A:return"Profiler";case _:return"StrictMode";case J:return"Suspense";case $:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case j:return(e.displayName||"Context")+".Provider";case P:return(e._context.displayName||"Context")+".Consumer";case Q:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case vt:return i=e.displayName||null,i!==null?i:b(e.type)||"Memo";case mt:i=e._payload,e=e._init;try{return b(e(i))}catch{}}return null}var S=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=Object.assign,M,U;function C(e){if(M===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);M=i&&i[1]||"",U=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+M+e+U}var Xt=!1;function te(e,i){if(!e||Xt)return"";Xt=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(i){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(q){var z=q}Reflect.construct(e,[],K)}else{try{K.call()}catch(q){z=q}e.call(K.prototype)}}else{try{throw Error()}catch(q){z=q}(K=e())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(q){if(q&&z&&typeof q.stack=="string")return[q.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=o.DetermineComponentFrameRoot(),v=d[0],E=d[1];if(v&&E){var w=v.split(`
`),V=E.split(`
`);for(h=o=0;o<w.length&&!w[o].includes("DetermineComponentFrameRoot");)o++;for(;h<V.length&&!V[h].includes("DetermineComponentFrameRoot");)h++;if(o===w.length||h===V.length)for(o=w.length-1,h=V.length-1;1<=o&&0<=h&&w[o]!==V[h];)h--;for(;1<=o&&0<=h;o--,h--)if(w[o]!==V[h]){if(o!==1||h!==1)do if(o--,h--,0>h||w[o]!==V[h]){var H=`
`+w[o].replace(" at new "," at ");return e.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",e.displayName)),H}while(1<=o&&0<=h);break}}}finally{Xt=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?C(a):""}function tt(e){switch(e.tag){case 26:case 27:case 5:return C(e.type);case 16:return C("Lazy");case 13:return C("Suspense");case 19:return C("SuspenseList");case 0:case 15:return e=te(e.type,!1),e;case 11:return e=te(e.type.render,!1),e;case 1:return e=te(e.type,!0),e;default:return""}}function _t(e){try{var i="";do i+=tt(e),e=e.return;while(e);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function ht(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function Ht(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function D(e){if(ht(e)!==e)throw Error(s(188))}function W(e){var i=e.alternate;if(!i){if(i=ht(e),i===null)throw Error(s(188));return i!==e?null:e}for(var a=e,o=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return D(h),e;if(d===o)return D(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==o.return)a=h,o=d;else{for(var v=!1,E=h.child;E;){if(E===a){v=!0,a=h,o=d;break}if(E===o){v=!0,o=h,a=d;break}E=E.sibling}if(!v){for(E=d.child;E;){if(E===a){v=!0,a=d,o=h;break}if(E===o){v=!0,o=d,a=h;break}E=E.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==o)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:i}function ot(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=ot(e),i!==null)return i;e=e.sibling}return null}var et=Array.isArray,nt=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Rt={pending:!1,data:null,method:null,action:null},bt=[],de=-1;function xt(e){return{current:e}}function se(e){0>de||(e.current=bt[de],bt[de]=null,de--)}function Kt(e,i){de++,bt[de]=e.current,e.current=i}var $e=xt(null),di=xt(null),_n=xt(null),Xi=xt(null);function $i(e,i){switch(Kt(_n,i),Kt(di,e),Kt($e,null),e=i.nodeType,e){case 9:case 11:i=(i=i.documentElement)&&(i=i.namespaceURI)?D_(i):0;break;default:if(e=e===8?i.parentNode:i,i=e.tagName,e=e.namespaceURI)e=D_(e),i=O_(e,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}se($e),Kt($e,i)}function mi(){se($e),se(di),se(_n)}function ro(e){e.memoizedState!==null&&Kt(Xi,e);var i=$e.current,a=O_(i,e.type);i!==a&&(Kt(di,e),Kt($e,a))}function Gs(e){di.current===e&&(se($e),se(di)),Xi.current===e&&(se(Xi),sl._currentValue=Rt)}var Ks=Object.prototype.hasOwnProperty,es=r.unstable_scheduleCallback,Qs=r.unstable_cancelCallback,dh=r.unstable_shouldYield,so=r.unstable_requestPaint,nn=r.unstable_now,Fl=r.unstable_getCurrentPriorityLevel,ye=r.unstable_ImmediatePriority,Ie=r.unstable_UserBlockingPriority,gi=r.unstable_NormalPriority,Gl=r.unstable_LowPriority,ao=r.unstable_IdlePriority,mh=r.log,ns=r.unstable_setDisableYieldValue,Wi=null,He=null;function oo(e){if(He&&typeof He.onCommitFiberRoot=="function")try{He.onCommitFiberRoot(Wi,e,void 0,(e.current.flags&128)===128)}catch{}}function Fn(e){if(typeof mh=="function"&&ns(e),He&&typeof He.setStrictMode=="function")try{He.setStrictMode(Wi,e)}catch{}}var We=Math.clz32?Math.clz32:Ql,lo=Math.log,Kl=Math.LN2;function Ql(e){return e>>>=0,e===0?32:31-(lo(e)/Kl|0)|0}var Gn=128,Zi=4194304;function kn(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function yn(e,i){var a=e.pendingLanes;if(a===0)return 0;var o=0,h=e.suspendedLanes,d=e.pingedLanes,v=e.warmLanes;e=e.finishedLanes!==0;var E=a&134217727;return E!==0?(a=E&~h,a!==0?o=kn(a):(d&=E,d!==0?o=kn(d):e||(v=E&~v,v!==0&&(o=kn(v))))):(E=a&~h,E!==0?o=kn(E):d!==0?o=kn(d):e||(v=a&~v,v!==0&&(o=kn(v)))),o===0?0:i!==0&&i!==o&&(i&h)===0&&(h=o&-o,v=i&-i,h>=v||h===32&&(v&4194176)!==0)?i:o}function Ji(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function Ys(e,i){switch(e){case 1:case 2:case 4:case 8:return i+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uo(){var e=Gn;return Gn<<=1,(Gn&4194176)===0&&(Gn=128),e}function tr(){var e=Zi;return Zi<<=1,(Zi&62914560)===0&&(Zi=4194304),e}function Xs(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function ce(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Yl(e,i,a,o,h,d){var v=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var E=e.entanglements,w=e.expirationTimes,V=e.hiddenUpdates;for(a=v&~a;0<a;){var H=31-We(a),K=1<<H;E[H]=0,w[H]=-1;var z=V[H];if(z!==null)for(V[H]=null,H=0;H<z.length;H++){var q=z[H];q!==null&&(q.lane&=-536870913)}a&=~K}o!==0&&er(e,o,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(v&~i))}function er(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var o=31-We(i);e.entangledLanes|=i,e.entanglements[o]=e.entanglements[o]|1073741824|a&4194218}function nr(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var o=31-We(a),h=1<<o;h&i|e[o]&i&&(e[o]|=i),a&=~h}}function Xl(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function $l(){var e=nt.p;return e!==0?e:(e=window.event,e===void 0?32:Y_(e.type))}function ir(e,i){var a=nt.p;try{return nt.p=e,i()}finally{nt.p=a}}var Kn=Math.random().toString(36).slice(2),Ce="__reactFiber$"+Kn,ve="__reactProps$"+Kn,pi="__reactContainer$"+Kn,is="__reactEvents$"+Kn,$s="__reactListeners$"+Kn,Qn="__reactHandles$"+Kn,co="__reactResources$"+Kn,rr="__reactMarker$"+Kn;function rs(e){delete e[Ce],delete e[ve],delete e[is],delete e[$s],delete e[Qn]}function Un(e){var i=e[Ce];if(i)return i;for(var a=e.parentNode;a;){if(i=a[pi]||a[Ce]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=V_(e);e!==null;){if(a=e[Ce])return a;e=V_(e)}return i}e=a,a=e.parentNode}return null}function _i(e){if(e=e[Ce]||e[pi]){var i=e.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return e}return null}function sr(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(s(33))}function ar(e){var i=e[co];return i||(i=e[co]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ee(e){e[rr]=!0}var ho=new Set,Ws={};function un(e,i){rn(e,i),rn(e+"Capture",i)}function rn(e,i){for(Ws[e]=i,e=0;e<i.length;e++)ho.add(i[e])}var cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),fo={},mo={};function Wl(e){return Ks.call(mo,e)?!0:Ks.call(fo,e)?!1:gh.test(e)?mo[e]=!0:(fo[e]=!0,!1)}function or(e,i,a){if(Wl(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var o=i.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function lr(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function vn(e,i,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+o)}}function Ze(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Zl(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function ph(e){var i=Zl(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,i),o=""+e[i];if(!e.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){o=""+v,d.call(this,v)}}),Object.defineProperty(e,i,{enumerable:a.enumerable}),{getValue:function(){return o},setValue:function(v){o=""+v},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function ss(e){e._valueTracker||(e._valueTracker=ph(e))}function go(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),o="";return e&&(o=Zl(e)?e.checked?"true":"false":e.value),e=o,e!==a?(i.setValue(e),!0):!1}function Zs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var yi=/[\n"\\]/g;function ae(e){return e.replace(yi,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ur(e,i,a,o,h,d,v,E){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),i!=null?v==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+Ze(i)):e.value!==""+Ze(i)&&(e.value=""+Ze(i)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),i!=null?Js(e,v,Ze(i)):a!=null?Js(e,v,Ze(a)):o!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Ze(E):e.removeAttribute("name")}function as(e,i,a,o,h,d,v,E){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+Ze(a):"",i=i!=null?""+Ze(i):a,E||i===e.value||(e.value=i),e.defaultValue=i}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v)}function Js(e,i,a){i==="number"&&Zs(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function zt(e,i,a,o){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&o&&(e[a].defaultSelected=!0)}else{for(a=""+Ze(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function os(e,i,a){if(i!=null&&(i=""+Ze(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+Ze(a):""}function cr(e,i,a,o){if(i==null){if(o!=null){if(a!=null)throw Error(s(92));if(et(o)){if(1<o.length)throw Error(s(93));o=o[0]}a=o}a==null&&(a=""),i=a}a=Ze(i),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o)}function En(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var _h=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function po(e,i,a){var o=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":o?e.setProperty(i,a):typeof a!="number"||a===0||_h.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function Jl(e,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||i!=null&&i.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in i)o=i[h],i.hasOwnProperty(h)&&a[h]!==o&&po(e,h,o)}else for(var d in i)i.hasOwnProperty(d)&&po(e,d,i[d])}function _o(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),vh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Yn(e){return vh.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Tn=null;function ta(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var vi=null,Ei=null;function Ti(e){var i=_i(e);if(i&&(e=i.stateNode)){var a=e[ve]||null;t:switch(e=i.stateNode,i.type){case"input":if(ur(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ae(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var o=a[i];if(o!==e&&o.form===e.form){var h=o[ve]||null;if(!h)throw Error(s(90));ur(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)o=a[i],o.form===e.form&&go(o)}break t;case"textarea":os(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&zt(e,!!a.multiple,i,!1)}}}var yo=!1;function tu(e,i,a){if(yo)return e(i,a);yo=!0;try{var o=e(i);return o}finally{if(yo=!1,(vi!==null||Ei!==null)&&(Gu(),vi&&(i=vi,e=Ei,Ei=vi=null,Ti(i),e)))for(i=0;i<e.length;i++)Ti(e[i])}}function ls(e,i){var a=e.stateNode;if(a===null)return null;var o=a[ve]||null;if(o===null)return null;a=o[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var An=!1;if(cn)try{var us={};Object.defineProperty(us,"passive",{get:function(){An=!0}}),window.addEventListener("test",us,us),window.removeEventListener("test",us,us)}catch{An=!1}var Xn=null,hr=null,Ai=null;function vo(){if(Ai)return Ai;var e,i=hr,a=i.length,o,h="value"in Xn?Xn.value:Xn.textContent,d=h.length;for(e=0;e<a&&i[e]===h[e];e++);var v=a-e;for(o=1;o<=v&&i[a-o]===h[d-o];o++);return Ai=h.slice(e,1<o?1-o:void 0)}function $n(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function Wn(){return!0}function Eo(){return!1}function De(e){function i(a,o,h,d,v){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(a=e[E],this[E]=a?a(d):d[E]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Wn:Eo,this.isPropagationStopped=Eo,this}return I(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Wn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Wn)},persist:function(){},isPersistent:Wn}),i}var Ft={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ea=De(Ft),cs=I({},Ft,{view:0,detail:0}),eu=De(cs),na,ia,Zn,hs=I({},cs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ms,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Zn&&(Zn&&e.type==="mousemove"?(na=e.screenX-Zn.screenX,ia=e.screenY-Zn.screenY):ia=na=0,Zn=e),na)},movementY:function(e){return"movementY"in e?e.movementY:ia}}),Sn=De(hs),nu=I({},hs,{dataTransfer:0}),Eh=De(nu),fs=I({},cs,{relatedTarget:0}),ra=De(fs),To=I({},Ft,{animationName:0,elapsedTime:0,pseudoElement:0}),sa=De(To),iu=I({},Ft,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),aa=De(iu),Th=I({},Ft,{data:0}),Ao=De(Th),ds={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ru={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},su={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function So(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=su[e])?!!i[e]:!1}function ms(){return So}var au=I({},cs,{key:function(e){if(e.key){var i=ds[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=$n(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ru[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ms,charCode:function(e){return e.type==="keypress"?$n(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?$n(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),oa=De(au),ou=I({},hs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bo=De(ou),Si=I({},cs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ms}),lu=De(Si),uu=I({},Ft,{propertyName:0,elapsedTime:0,pseudoElement:0}),cu=De(uu),hu=I({},hs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),la=De(hu),Je=I({},Ft,{newState:0,oldState:0}),fu=De(Je),du=[9,13,27,32],Jn=cn&&"CompositionEvent"in window,u=null;cn&&"documentMode"in document&&(u=document.documentMode);var m=cn&&"TextEvent"in window&&!u,y=cn&&(!Jn||u&&8<u&&11>=u),T=" ",L=!1;function B(e,i){switch(e){case"keyup":return du.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Z(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Pt=!1;function Ee(e,i){switch(e){case"compositionend":return Z(i);case"keypress":return i.which!==32?null:(L=!0,T);case"textInput":return e=i.data,e===T&&L?null:e;default:return null}}function kt(e,i){if(Pt)return e==="compositionend"||!Jn&&B(e,i)?(e=vo(),Ai=hr=Xn=null,Pt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return y&&i.locale!=="ko"?null:i.data;default:return null}}var Oe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Te(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!Oe[e.type]:i==="textarea"}function bi(e,i,a,o){vi?Ei?Ei.push(o):Ei=[o]:vi=o,i=$u(i,"onChange"),0<i.length&&(a=new ea("onChange","change",null,a,o),e.push({event:a,listeners:i}))}var ke=null,ti=null;function wo(e){b_(e,0)}function mu(e){var i=sr(e);if(go(i))return e}function Jm(e,i){if(e==="change")return i}var tg=!1;if(cn){var Ah;if(cn){var Sh="oninput"in document;if(!Sh){var eg=document.createElement("div");eg.setAttribute("oninput","return;"),Sh=typeof eg.oninput=="function"}Ah=Sh}else Ah=!1;tg=Ah&&(!document.documentMode||9<document.documentMode)}function ng(){ke&&(ke.detachEvent("onpropertychange",ig),ti=ke=null)}function ig(e){if(e.propertyName==="value"&&mu(ti)){var i=[];bi(i,ti,e,ta(e)),tu(wo,i)}}function h0(e,i,a){e==="focusin"?(ng(),ke=i,ti=a,ke.attachEvent("onpropertychange",ig)):e==="focusout"&&ng()}function f0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return mu(ti)}function d0(e,i){if(e==="click")return mu(i)}function m0(e,i){if(e==="input"||e==="change")return mu(i)}function g0(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var hn=typeof Object.is=="function"?Object.is:g0;function Ro(e,i){if(hn(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),o=Object.keys(i);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!Ks.call(i,h)||!hn(e[h],i[h]))return!1}return!0}function rg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function sg(e,i){var a=rg(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=i&&o>=i)return{node:a,offset:i-e};e=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=rg(a)}}function ag(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?ag(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function og(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=Zs(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=Zs(e.document)}return i}function bh(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}function p0(e,i){var a=og(i);i=e.focusedElem;var o=e.selectionRange;if(a!==i&&i&&i.ownerDocument&&ag(i.ownerDocument.documentElement,i)){if(o!==null&&bh(i)){if(e=o.start,a=o.end,a===void 0&&(a=e),"selectionStart"in i)i.selectionStart=e,i.selectionEnd=Math.min(a,i.value.length);else if(a=(e=i.ownerDocument||document)&&e.defaultView||window,a.getSelection){a=a.getSelection();var h=i.textContent.length,d=Math.min(o.start,h);o=o.end===void 0?d:Math.min(o.end,h),!a.extend&&d>o&&(h=o,o=d,d=h),h=sg(i,d);var v=sg(i,o);h&&v&&(a.rangeCount!==1||a.anchorNode!==h.node||a.anchorOffset!==h.offset||a.focusNode!==v.node||a.focusOffset!==v.offset)&&(e=e.createRange(),e.setStart(h.node,h.offset),a.removeAllRanges(),d>o?(a.addRange(e),a.extend(v.node,v.offset)):(e.setEnd(v.node,v.offset),a.addRange(e)))}}for(e=[],a=i;a=a.parentNode;)a.nodeType===1&&e.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<e.length;i++)a=e[i],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var _0=cn&&"documentMode"in document&&11>=document.documentMode,ua=null,wh=null,Io=null,Rh=!1;function lg(e,i,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Rh||ua==null||ua!==Zs(o)||(o=ua,"selectionStart"in o&&bh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Io&&Ro(Io,o)||(Io=o,o=$u(wh,"onSelect"),0<o.length&&(i=new ea("onSelect","select",null,i,a),e.push({event:i,listeners:o}),i.target=ua)))}function gs(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var ca={animationend:gs("Animation","AnimationEnd"),animationiteration:gs("Animation","AnimationIteration"),animationstart:gs("Animation","AnimationStart"),transitionrun:gs("Transition","TransitionRun"),transitionstart:gs("Transition","TransitionStart"),transitioncancel:gs("Transition","TransitionCancel"),transitionend:gs("Transition","TransitionEnd")},Ih={},ug={};cn&&(ug=document.createElement("div").style,"AnimationEvent"in window||(delete ca.animationend.animation,delete ca.animationiteration.animation,delete ca.animationstart.animation),"TransitionEvent"in window||delete ca.transitionend.transition);function ps(e){if(Ih[e])return Ih[e];if(!ca[e])return e;var i=ca[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in ug)return Ih[e]=i[a];return e}var cg=ps("animationend"),hg=ps("animationiteration"),fg=ps("animationstart"),y0=ps("transitionrun"),v0=ps("transitionstart"),E0=ps("transitioncancel"),dg=ps("transitionend"),mg=new Map,gg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Ln(e,i){mg.set(e,i),un(i,[e])}var bn=[],ha=0,Ch=0;function gu(){for(var e=ha,i=Ch=ha=0;i<e;){var a=bn[i];bn[i++]=null;var o=bn[i];bn[i++]=null;var h=bn[i];bn[i++]=null;var d=bn[i];if(bn[i++]=null,o!==null&&h!==null){var v=o.pending;v===null?h.next=h:(h.next=v.next,v.next=h),o.pending=h}d!==0&&pg(a,h,d)}}function pu(e,i,a,o){bn[ha++]=e,bn[ha++]=i,bn[ha++]=a,bn[ha++]=o,Ch|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Dh(e,i,a,o){return pu(e,i,a,o),_u(e)}function fr(e,i){return pu(e,null,null,i),_u(e)}function pg(e,i,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var h=!1,d=e.return;d!==null;)d.childLanes|=a,o=d.alternate,o!==null&&(o.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;h&&i!==null&&e.tag===3&&(d=e.stateNode,h=31-We(a),d=d.hiddenUpdates,e=d[h],e===null?d[h]=[i]:e.push(i),i.lane=a|536870912)}function _u(e){if(50<Zo)throw Zo=0,Uf=null,Error(s(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var fa={},_g=new WeakMap;function wn(e,i){if(typeof e=="object"&&e!==null){var a=_g.get(e);return a!==void 0?a:(i={value:e,source:i,stack:_t(i)},_g.set(e,i),i)}return{value:e,source:i,stack:_t(i)}}var da=[],ma=0,yu=null,vu=0,Rn=[],In=0,_s=null,wi=1,Ri="";function ys(e,i){da[ma++]=vu,da[ma++]=yu,yu=e,vu=i}function yg(e,i,a){Rn[In++]=wi,Rn[In++]=Ri,Rn[In++]=_s,_s=e;var o=wi;e=Ri;var h=32-We(o)-1;o&=~(1<<h),a+=1;var d=32-We(i)+h;if(30<d){var v=h-h%5;d=(o&(1<<v)-1).toString(32),o>>=v,h-=v,wi=1<<32-We(i)+h|a<<h|o,Ri=d+e}else wi=1<<d|a<<h|o,Ri=e}function Oh(e){e.return!==null&&(ys(e,1),yg(e,1,0))}function Nh(e){for(;e===yu;)yu=da[--ma],da[ma]=null,vu=da[--ma],da[ma]=null;for(;e===_s;)_s=Rn[--In],Rn[In]=null,Ri=Rn[--In],Rn[In]=null,wi=Rn[--In],Rn[In]=null}var tn=null,Ue=null,jt=!1,xn=null,ei=!1,Mh=Error(s(519));function vs(e){var i=Error(s(418,""));throw Oo(wn(i,e)),Mh}function vg(e){var i=e.stateNode,a=e.type,o=e.memoizedProps;switch(i[Ce]=e,i[ve]=o,a){case"dialog":Vt("cancel",i),Vt("close",i);break;case"iframe":case"object":case"embed":Vt("load",i);break;case"video":case"audio":for(a=0;a<tl.length;a++)Vt(tl[a],i);break;case"source":Vt("error",i);break;case"img":case"image":case"link":Vt("error",i),Vt("load",i);break;case"details":Vt("toggle",i);break;case"input":Vt("invalid",i),as(i,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),ss(i);break;case"select":Vt("invalid",i);break;case"textarea":Vt("invalid",i),cr(i,o.value,o.defaultValue,o.children),ss(i)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||o.suppressHydrationWarning===!0||C_(i.textContent,a)?(o.popover!=null&&(Vt("beforetoggle",i),Vt("toggle",i)),o.onScroll!=null&&Vt("scroll",i),o.onScrollEnd!=null&&Vt("scrollend",i),o.onClick!=null&&(i.onclick=Wu),i=!0):i=!1,i||vs(e)}function Eg(e){for(tn=e.return;tn;)switch(tn.tag){case 3:case 27:ei=!0;return;case 5:case 13:ei=!1;return;default:tn=tn.return}}function Co(e){if(e!==tn)return!1;if(!jt)return Eg(e),jt=!0,!1;var i=!1,a;if((a=e.tag!==3&&e.tag!==27)&&((a=e.tag===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Jf(e.type,e.memoizedProps)),a=!a),a&&(i=!0),i&&Ue&&vs(e),Eg(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));t:{for(e=e.nextSibling,i=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(i===0){Ue=jn(e.nextSibling);break t}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;e=e.nextSibling}Ue=null}}else Ue=tn?jn(e.stateNode.nextSibling):null;return!0}function Do(){Ue=tn=null,jt=!1}function Oo(e){xn===null?xn=[e]:xn.push(e)}var No=Error(s(460)),Tg=Error(s(474)),Vh={then:function(){}};function Ag(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Eu(){}function Sg(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(Eu,Eu),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,e===No?Error(s(483)):e;default:if(typeof i.status=="string")i.then(Eu,Eu);else{if(e=Wt,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=i,e.status="pending",e.then(function(o){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=o}},function(o){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=o}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,e===No?Error(s(483)):e}throw Mo=i,No}}var Mo=null;function bg(){if(Mo===null)throw Error(s(459));var e=Mo;return Mo=null,e}var ga=null,Vo=0;function Tu(e){var i=Vo;return Vo+=1,ga===null&&(ga=[]),Sg(ga,e,i)}function Po(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function Au(e,i){throw i.$$typeof===c?Error(s(525)):(e=Object.prototype.toString.call(i),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function wg(e){var i=e._init;return i(e._payload)}function Rg(e){function i(k,N){if(e){var x=k.deletions;x===null?(k.deletions=[N],k.flags|=16):x.push(N)}}function a(k,N){if(!e)return null;for(;N!==null;)i(k,N),N=N.sibling;return null}function o(k){for(var N=new Map;k!==null;)k.key!==null?N.set(k.key,k):N.set(k.index,k),k=k.sibling;return N}function h(k,N){return k=br(k,N),k.index=0,k.sibling=null,k}function d(k,N,x){return k.index=x,e?(x=k.alternate,x!==null?(x=x.index,x<N?(k.flags|=33554434,N):x):(k.flags|=33554434,N)):(k.flags|=1048576,N)}function v(k){return e&&k.alternate===null&&(k.flags|=33554434),k}function E(k,N,x,F){return N===null||N.tag!==6?(N=Cf(x,k.mode,F),N.return=k,N):(N=h(N,x),N.return=k,N)}function w(k,N,x,F){var rt=x.type;return rt===p?H(k,N,x.props.children,F,x.key):N!==null&&(N.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===mt&&wg(rt)===N.type)?(N=h(N,x.props),Po(N,x),N.return=k,N):(N=ju(x.type,x.key,x.props,null,k.mode,F),Po(N,x),N.return=k,N)}function V(k,N,x,F){return N===null||N.tag!==4||N.stateNode.containerInfo!==x.containerInfo||N.stateNode.implementation!==x.implementation?(N=Df(x,k.mode,F),N.return=k,N):(N=h(N,x.children||[]),N.return=k,N)}function H(k,N,x,F,rt){return N===null||N.tag!==7?(N=Ds(x,k.mode,F,rt),N.return=k,N):(N=h(N,x),N.return=k,N)}function K(k,N,x){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Cf(""+N,k.mode,x),N.return=k,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case f:return x=ju(N.type,N.key,N.props,null,k.mode,x),Po(x,N),x.return=k,x;case g:return N=Df(N,k.mode,x),N.return=k,N;case mt:var F=N._init;return N=F(N._payload),K(k,N,x)}if(et(N)||st(N))return N=Ds(N,k.mode,x,null),N.return=k,N;if(typeof N.then=="function")return K(k,Tu(N),x);if(N.$$typeof===j)return K(k,Lu(k,N),x);Au(k,N)}return null}function z(k,N,x,F){var rt=N!==null?N.key:null;if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return rt!==null?null:E(k,N,""+x,F);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case f:return x.key===rt?w(k,N,x,F):null;case g:return x.key===rt?V(k,N,x,F):null;case mt:return rt=x._init,x=rt(x._payload),z(k,N,x,F)}if(et(x)||st(x))return rt!==null?null:H(k,N,x,F,null);if(typeof x.then=="function")return z(k,N,Tu(x),F);if(x.$$typeof===j)return z(k,N,Lu(k,x),F);Au(k,x)}return null}function q(k,N,x,F,rt){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return k=k.get(x)||null,E(N,k,""+F,rt);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case f:return k=k.get(F.key===null?x:F.key)||null,w(N,k,F,rt);case g:return k=k.get(F.key===null?x:F.key)||null,V(N,k,F,rt);case mt:var Dt=F._init;return F=Dt(F._payload),q(k,N,x,F,rt)}if(et(F)||st(F))return k=k.get(x)||null,H(N,k,F,rt,null);if(typeof F.then=="function")return q(k,N,x,Tu(F),rt);if(F.$$typeof===j)return q(k,N,x,Lu(N,F),rt);Au(N,F)}return null}function at(k,N,x,F){for(var rt=null,Dt=null,ut=N,gt=N=0,Ve=null;ut!==null&&gt<x.length;gt++){ut.index>gt?(Ve=ut,ut=null):Ve=ut.sibling;var Bt=z(k,ut,x[gt],F);if(Bt===null){ut===null&&(ut=Ve);break}e&&ut&&Bt.alternate===null&&i(k,ut),N=d(Bt,N,gt),Dt===null?rt=Bt:Dt.sibling=Bt,Dt=Bt,ut=Ve}if(gt===x.length)return a(k,ut),jt&&ys(k,gt),rt;if(ut===null){for(;gt<x.length;gt++)ut=K(k,x[gt],F),ut!==null&&(N=d(ut,N,gt),Dt===null?rt=ut:Dt.sibling=ut,Dt=ut);return jt&&ys(k,gt),rt}for(ut=o(ut);gt<x.length;gt++)Ve=q(ut,k,gt,x[gt],F),Ve!==null&&(e&&Ve.alternate!==null&&ut.delete(Ve.key===null?gt:Ve.key),N=d(Ve,N,gt),Dt===null?rt=Ve:Dt.sibling=Ve,Dt=Ve);return e&&ut.forEach(function(Nr){return i(k,Nr)}),jt&&ys(k,gt),rt}function At(k,N,x,F){if(x==null)throw Error(s(151));for(var rt=null,Dt=null,ut=N,gt=N=0,Ve=null,Bt=x.next();ut!==null&&!Bt.done;gt++,Bt=x.next()){ut.index>gt?(Ve=ut,ut=null):Ve=ut.sibling;var Nr=z(k,ut,Bt.value,F);if(Nr===null){ut===null&&(ut=Ve);break}e&&ut&&Nr.alternate===null&&i(k,ut),N=d(Nr,N,gt),Dt===null?rt=Nr:Dt.sibling=Nr,Dt=Nr,ut=Ve}if(Bt.done)return a(k,ut),jt&&ys(k,gt),rt;if(ut===null){for(;!Bt.done;gt++,Bt=x.next())Bt=K(k,Bt.value,F),Bt!==null&&(N=d(Bt,N,gt),Dt===null?rt=Bt:Dt.sibling=Bt,Dt=Bt);return jt&&ys(k,gt),rt}for(ut=o(ut);!Bt.done;gt++,Bt=x.next())Bt=q(ut,k,gt,Bt.value,F),Bt!==null&&(e&&Bt.alternate!==null&&ut.delete(Bt.key===null?gt:Bt.key),N=d(Bt,N,gt),Dt===null?rt=Bt:Dt.sibling=Bt,Dt=Bt);return e&&ut.forEach(function(PA){return i(k,PA)}),jt&&ys(k,gt),rt}function ue(k,N,x,F){if(typeof x=="object"&&x!==null&&x.type===p&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case f:t:{for(var rt=x.key;N!==null;){if(N.key===rt){if(rt=x.type,rt===p){if(N.tag===7){a(k,N.sibling),F=h(N,x.props.children),F.return=k,k=F;break t}}else if(N.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===mt&&wg(rt)===N.type){a(k,N.sibling),F=h(N,x.props),Po(F,x),F.return=k,k=F;break t}a(k,N);break}else i(k,N);N=N.sibling}x.type===p?(F=Ds(x.props.children,k.mode,F,x.key),F.return=k,k=F):(F=ju(x.type,x.key,x.props,null,k.mode,F),Po(F,x),F.return=k,k=F)}return v(k);case g:t:{for(rt=x.key;N!==null;){if(N.key===rt)if(N.tag===4&&N.stateNode.containerInfo===x.containerInfo&&N.stateNode.implementation===x.implementation){a(k,N.sibling),F=h(N,x.children||[]),F.return=k,k=F;break t}else{a(k,N);break}else i(k,N);N=N.sibling}F=Df(x,k.mode,F),F.return=k,k=F}return v(k);case mt:return rt=x._init,x=rt(x._payload),ue(k,N,x,F)}if(et(x))return at(k,N,x,F);if(st(x)){if(rt=st(x),typeof rt!="function")throw Error(s(150));return x=rt.call(x),At(k,N,x,F)}if(typeof x.then=="function")return ue(k,N,Tu(x),F);if(x.$$typeof===j)return ue(k,N,Lu(k,x),F);Au(k,x)}return typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint"?(x=""+x,N!==null&&N.tag===6?(a(k,N.sibling),F=h(N,x),F.return=k,k=F):(a(k,N),F=Cf(x,k.mode,F),F.return=k,k=F),v(k)):a(k,N)}return function(k,N,x,F){try{Vo=0;var rt=ue(k,N,x,F);return ga=null,rt}catch(ut){if(ut===No)throw ut;var Dt=Nn(29,ut,null,k.mode);return Dt.lanes=F,Dt.return=k,Dt}finally{}}}var Es=Rg(!0),Ig=Rg(!1),pa=xt(null),Su=xt(0);function Cg(e,i){e=Li,Kt(Su,e),Kt(pa,i),Li=e|i.baseLanes}function Ph(){Kt(Su,Li),Kt(pa,pa.current)}function kh(){Li=Su.current,se(pa),se(Su)}var Cn=xt(null),ni=null;function dr(e){var i=e.alternate;Kt(Ae,Ae.current&1),Kt(Cn,e),ni===null&&(i===null||pa.current!==null||i.memoizedState!==null)&&(ni=e)}function Dg(e){if(e.tag===22){if(Kt(Ae,Ae.current),Kt(Cn,e),ni===null){var i=e.alternate;i!==null&&i.memoizedState!==null&&(ni=e)}}else mr()}function mr(){Kt(Ae,Ae.current),Kt(Cn,Cn.current)}function Ii(e){se(Cn),ni===e&&(ni=null),se(Ae)}var Ae=xt(0);function bu(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var T0=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},A0=r.unstable_scheduleCallback,S0=r.unstable_NormalPriority,Se={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Uh(){return{controller:new T0,data:new Map,refCount:0}}function ko(e){e.refCount--,e.refCount===0&&A0(S0,function(){e.controller.abort()})}var Uo=null,Lh=0,_a=0,ya=null;function b0(e,i){if(Uo===null){var a=Uo=[];Lh=0,_a=Ff(),ya={status:"pending",value:void 0,then:function(o){a.push(o)}}}return Lh++,i.then(Og,Og),i}function Og(){if(--Lh===0&&Uo!==null){ya!==null&&(ya.status="fulfilled");var e=Uo;Uo=null,_a=0,ya=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function w0(e,i){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){o.status="fulfilled",o.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var Ng=S.S;S.S=function(e,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&b0(e,i),Ng!==null&&Ng(e,i)};var Ts=xt(null);function xh(){var e=Ts.current;return e!==null?e:Wt.pooledCache}function wu(e,i){i===null?Kt(Ts,Ts.current):Kt(Ts,i.pool)}function Mg(){var e=xh();return e===null?null:{parent:Se._currentValue,pool:e}}var gr=0,It=null,Qt=null,me=null,Ru=!1,va=!1,As=!1,Iu=0,Lo=0,Ea=null,R0=0;function he(){throw Error(s(321))}function zh(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!hn(e[a],i[a]))return!1;return!0}function jh(e,i,a,o,h,d){return gr=d,It=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,S.H=e===null||e.memoizedState===null?Ss:pr,As=!1,d=a(o,h),As=!1,va&&(d=Pg(i,a,o,h)),Vg(e),d}function Vg(e){S.H=ii;var i=Qt!==null&&Qt.next!==null;if(gr=0,me=Qt=It=null,Ru=!1,Lo=0,Ea=null,i)throw Error(s(300));e===null||Ne||(e=e.dependencies,e!==null&&Uu(e)&&(Ne=!0))}function Pg(e,i,a,o){It=e;var h=0;do{if(va&&(Ea=null),Lo=0,va=!1,25<=h)throw Error(s(301));if(h+=1,me=Qt=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}S.H=bs,d=i(a,o)}while(va);return d}function I0(){var e=S.H,i=e.useState()[0];return i=typeof i.then=="function"?xo(i):i,e=e.useState()[0],(Qt!==null?Qt.memoizedState:null)!==e&&(It.flags|=1024),i}function Bh(){var e=Iu!==0;return Iu=0,e}function qh(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function Hh(e){if(Ru){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}Ru=!1}gr=0,me=Qt=It=null,va=!1,Lo=Iu=0,Ea=null}function sn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return me===null?It.memoizedState=me=e:me=me.next=e,me}function ge(){if(Qt===null){var e=It.alternate;e=e!==null?e.memoizedState:null}else e=Qt.next;var i=me===null?It.memoizedState:me.next;if(i!==null)me=i,Qt=e;else{if(e===null)throw It.alternate===null?Error(s(467)):Error(s(310));Qt=e,e={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},me===null?It.memoizedState=me=e:me=me.next=e}return me}var Cu;Cu=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function xo(e){var i=Lo;return Lo+=1,Ea===null&&(Ea=[]),e=Sg(Ea,e,i),i=It,(me===null?i.memoizedState:me.next)===null&&(i=i.alternate,S.H=i===null||i.memoizedState===null?Ss:pr),e}function Du(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return xo(e);if(e.$$typeof===j)return Fe(e)}throw Error(s(438,String(e)))}function Fh(e){var i=null,a=It.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var o=It.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(i={data:o.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Cu(),It.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),o=0;o<e;o++)a[o]=dt;return i.index++,a}function Ci(e,i){return typeof i=="function"?i(e):i}function Ou(e){var i=ge();return Gh(i,Qt,e)}function Gh(e,i,a){var o=e.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=a;var h=e.baseQueue,d=o.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,o.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{i=h.next;var E=v=null,w=null,V=i,H=!1;do{var K=V.lane&-536870913;if(K!==V.lane?(Ut&K)===K:(gr&K)===K){var z=V.revertLane;if(z===0)w!==null&&(w=w.next={lane:0,revertLane:0,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null}),K===_a&&(H=!0);else if((gr&z)===z){V=V.next,z===_a&&(H=!0);continue}else K={lane:0,revertLane:V.revertLane,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null},w===null?(E=w=K,v=d):w=w.next=K,It.lanes|=z,wr|=z;K=V.action,As&&a(d,K),d=V.hasEagerState?V.eagerState:a(d,K)}else z={lane:K,revertLane:V.revertLane,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null},w===null?(E=w=z,v=d):w=w.next=z,It.lanes|=K,wr|=K;V=V.next}while(V!==null&&V!==i);if(w===null?v=d:w.next=E,!hn(d,e.memoizedState)&&(Ne=!0,H&&(a=ya,a!==null)))throw a;e.memoizedState=d,e.baseState=v,e.baseQueue=w,o.lastRenderedState=d}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Kh(e){var i=ge(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var o=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=e(d,v.action),v=v.next;while(v!==h);hn(d,i.memoizedState)||(Ne=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,o]}function kg(e,i,a){var o=It,h=ge(),d=jt;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!hn((Qt||h).memoizedState,a);if(v&&(h.memoizedState=a,Ne=!0),h=h.queue,Xh(xg.bind(null,o,h,e),[e]),h.getSnapshot!==i||v||me!==null&&me.memoizedState.tag&1){if(o.flags|=2048,Ta(9,Lg.bind(null,o,h,a,i),{destroy:void 0},null),Wt===null)throw Error(s(349));d||(gr&60)!==0||Ug(o,i,a)}return a}function Ug(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=It.updateQueue,i===null?(i=Cu(),It.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function Lg(e,i,a,o){i.value=a,i.getSnapshot=o,zg(i)&&jg(e)}function xg(e,i,a){return a(function(){zg(i)&&jg(e)})}function zg(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!hn(e,a)}catch{return!0}}function jg(e){var i=fr(e,2);i!==null&&en(i,e,2)}function Qh(e){var i=sn();if(typeof e=="function"){var a=e;if(e=a(),As){Fn(!0);try{a()}finally{Fn(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:e},i}function Bg(e,i,a,o){return e.baseState=a,Gh(e,Qt,typeof o=="function"?o:Ci)}function C0(e,i,a,o,h){if(Vu(e))throw Error(s(485));if(e=i.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};S.T!==null?a(!0):d.isTransition=!1,o(d),a=i.pending,a===null?(d.next=i.pending=d,qg(i,d)):(d.next=a.next,i.pending=a.next=d)}}function qg(e,i){var a=i.action,o=i.payload,h=e.state;if(i.isTransition){var d=S.T,v={};S.T=v;try{var E=a(h,o),w=S.S;w!==null&&w(v,E),Hg(e,i,E)}catch(V){Yh(e,i,V)}finally{S.T=d}}else try{d=a(h,o),Hg(e,i,d)}catch(V){Yh(e,i,V)}}function Hg(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Fg(e,i,o)},function(o){return Yh(e,i,o)}):Fg(e,i,a)}function Fg(e,i,a){i.status="fulfilled",i.value=a,Gg(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,qg(e,a)))}function Yh(e,i,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do i.status="rejected",i.reason=a,Gg(i),i=i.next;while(i!==o)}e.action=null}function Gg(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function Kg(e,i){return i}function Qg(e,i){if(jt){var a=Wt.formState;if(a!==null){t:{var o=It;if(jt){if(Ue){e:{for(var h=Ue,d=ei;h.nodeType!==8;){if(!d){h=null;break e}if(h=jn(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){Ue=jn(h.nextSibling),o=h.data==="F!";break t}}vs(o)}o=!1}o&&(i=a[0])}}return a=sn(),a.memoizedState=a.baseState=i,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kg,lastRenderedState:i},a.queue=o,a=hp.bind(null,It,o),o.dispatch=a,o=Qh(!1),d=tf.bind(null,It,!1,o.queue),o=sn(),h={state:i,dispatch:null,action:e,pending:null},o.queue=h,a=C0.bind(null,It,h,d,a),h.dispatch=a,o.memoizedState=e,[i,a,!1]}function Yg(e){var i=ge();return Xg(i,Qt,e)}function Xg(e,i,a){i=Gh(e,i,Kg)[0],e=Ou(Ci)[0],i=typeof i=="object"&&i!==null&&typeof i.then=="function"?xo(i):i;var o=ge(),h=o.queue,d=h.dispatch;return a!==o.memoizedState&&(It.flags|=2048,Ta(9,D0.bind(null,h,a),{destroy:void 0},null)),[i,d,e]}function D0(e,i){e.action=i}function $g(e){var i=ge(),a=Qt;if(a!==null)return Xg(i,a,e);ge(),i=i.memoizedState,a=ge();var o=a.queue.dispatch;return a.memoizedState=e,[i,o,!1]}function Ta(e,i,a,o){return e={tag:e,create:i,inst:a,deps:o,next:null},i=It.updateQueue,i===null&&(i=Cu(),It.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,i.lastEffect=e),e}function Wg(){return ge().memoizedState}function Nu(e,i,a,o){var h=sn();It.flags|=e,h.memoizedState=Ta(1|i,a,{destroy:void 0},o===void 0?null:o)}function Mu(e,i,a,o){var h=ge();o=o===void 0?null:o;var d=h.memoizedState.inst;Qt!==null&&o!==null&&zh(o,Qt.memoizedState.deps)?h.memoizedState=Ta(i,a,d,o):(It.flags|=e,h.memoizedState=Ta(1|i,a,d,o))}function Zg(e,i){Nu(8390656,8,e,i)}function Xh(e,i){Mu(2048,8,e,i)}function Jg(e,i){return Mu(4,2,e,i)}function tp(e,i){return Mu(4,4,e,i)}function ep(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function np(e,i,a){a=a!=null?a.concat([e]):null,Mu(4,4,ep.bind(null,i,e),a)}function $h(){}function ip(e,i){var a=ge();i=i===void 0?null:i;var o=a.memoizedState;return i!==null&&zh(i,o[1])?o[0]:(a.memoizedState=[e,i],e)}function rp(e,i){var a=ge();i=i===void 0?null:i;var o=a.memoizedState;if(i!==null&&zh(i,o[1]))return o[0];if(o=e(),As){Fn(!0);try{e()}finally{Fn(!1)}}return a.memoizedState=[o,i],o}function Wh(e,i,a){return a===void 0||(gr&1073741824)!==0?e.memoizedState=i:(e.memoizedState=a,e=a_(),It.lanes|=e,wr|=e,a)}function sp(e,i,a,o){return hn(a,i)?a:pa.current!==null?(e=Wh(e,a,o),hn(e,i)||(Ne=!0),e):(gr&42)===0?(Ne=!0,e.memoizedState=a):(e=a_(),It.lanes|=e,wr|=e,i)}function ap(e,i,a,o,h){var d=nt.p;nt.p=d!==0&&8>d?d:8;var v=S.T,E={};S.T=E,tf(e,!1,i,a);try{var w=h(),V=S.S;if(V!==null&&V(E,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var H=w0(w,o);zo(e,i,H,gn(e))}else zo(e,i,o,gn(e))}catch(K){zo(e,i,{then:function(){},status:"rejected",reason:K},gn())}finally{nt.p=d,S.T=v}}function O0(){}function Zh(e,i,a,o){if(e.tag!==5)throw Error(s(476));var h=op(e).queue;ap(e,h,i,Rt,a===null?O0:function(){return lp(e),a(o)})}function op(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:Rt,baseState:Rt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:Rt},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function lp(e){var i=op(e).next.queue;zo(e,i,{},gn())}function Jh(){return Fe(sl)}function up(){return ge().memoizedState}function cp(){return ge().memoizedState}function N0(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=gn();e=vr(a);var o=Er(i,e,a);o!==null&&(en(o,i,a),qo(o,i,a)),i={cache:Uh()},e.payload=i;return}i=i.return}}function M0(e,i,a){var o=gn();a={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Vu(e)?fp(i,a):(a=Dh(e,i,a,o),a!==null&&(en(a,e,o),dp(a,i,o)))}function hp(e,i,a){var o=gn();zo(e,i,a,o)}function zo(e,i,a,o){var h={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Vu(e))fp(i,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,E=d(v,a);if(h.hasEagerState=!0,h.eagerState=E,hn(E,v))return pu(e,i,h,0),Wt===null&&gu(),!1}catch{}finally{}if(a=Dh(e,i,h,o),a!==null)return en(a,e,o),dp(a,i,o),!0}return!1}function tf(e,i,a,o){if(o={lane:2,revertLane:Ff(),action:o,hasEagerState:!1,eagerState:null,next:null},Vu(e)){if(i)throw Error(s(479))}else i=Dh(e,a,o,2),i!==null&&en(i,e,2)}function Vu(e){var i=e.alternate;return e===It||i!==null&&i===It}function fp(e,i){va=Ru=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function dp(e,i,a){if((a&4194176)!==0){var o=i.lanes;o&=e.pendingLanes,a|=o,i.lanes=a,nr(e,a)}}var ii={readContext:Fe,use:Du,useCallback:he,useContext:he,useEffect:he,useImperativeHandle:he,useLayoutEffect:he,useInsertionEffect:he,useMemo:he,useReducer:he,useRef:he,useState:he,useDebugValue:he,useDeferredValue:he,useTransition:he,useSyncExternalStore:he,useId:he};ii.useCacheRefresh=he,ii.useMemoCache=he,ii.useHostTransitionStatus=he,ii.useFormState=he,ii.useActionState=he,ii.useOptimistic=he;var Ss={readContext:Fe,use:Du,useCallback:function(e,i){return sn().memoizedState=[e,i===void 0?null:i],e},useContext:Fe,useEffect:Zg,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,Nu(4194308,4,ep.bind(null,i,e),a)},useLayoutEffect:function(e,i){return Nu(4194308,4,e,i)},useInsertionEffect:function(e,i){Nu(4,2,e,i)},useMemo:function(e,i){var a=sn();i=i===void 0?null:i;var o=e();if(As){Fn(!0);try{e()}finally{Fn(!1)}}return a.memoizedState=[o,i],o},useReducer:function(e,i,a){var o=sn();if(a!==void 0){var h=a(i);if(As){Fn(!0);try{a(i)}finally{Fn(!1)}}}else h=i;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=M0.bind(null,It,e),[o.memoizedState,e]},useRef:function(e){var i=sn();return e={current:e},i.memoizedState=e},useState:function(e){e=Qh(e);var i=e.queue,a=hp.bind(null,It,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:$h,useDeferredValue:function(e,i){var a=sn();return Wh(a,e,i)},useTransition:function(){var e=Qh(!1);return e=ap.bind(null,It,e.queue,!0,!1),sn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var o=It,h=sn();if(jt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),Wt===null)throw Error(s(349));(Ut&60)!==0||Ug(o,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,Zg(xg.bind(null,o,d,e),[e]),o.flags|=2048,Ta(9,Lg.bind(null,o,d,a,i),{destroy:void 0},null),a},useId:function(){var e=sn(),i=Wt.identifierPrefix;if(jt){var a=Ri,o=wi;a=(o&~(1<<32-We(o)-1)).toString(32)+a,i=":"+i+"R"+a,a=Iu++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=R0++,i=":"+i+"r"+a.toString(32)+":";return e.memoizedState=i},useCacheRefresh:function(){return sn().memoizedState=N0.bind(null,It)}};Ss.useMemoCache=Fh,Ss.useHostTransitionStatus=Jh,Ss.useFormState=Qg,Ss.useActionState=Qg,Ss.useOptimistic=function(e){var i=sn();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=tf.bind(null,It,!0,a),a.dispatch=i,[e,i]};var pr={readContext:Fe,use:Du,useCallback:ip,useContext:Fe,useEffect:Xh,useImperativeHandle:np,useInsertionEffect:Jg,useLayoutEffect:tp,useMemo:rp,useReducer:Ou,useRef:Wg,useState:function(){return Ou(Ci)},useDebugValue:$h,useDeferredValue:function(e,i){var a=ge();return sp(a,Qt.memoizedState,e,i)},useTransition:function(){var e=Ou(Ci)[0],i=ge().memoizedState;return[typeof e=="boolean"?e:xo(e),i]},useSyncExternalStore:kg,useId:up};pr.useCacheRefresh=cp,pr.useMemoCache=Fh,pr.useHostTransitionStatus=Jh,pr.useFormState=Yg,pr.useActionState=Yg,pr.useOptimistic=function(e,i){var a=ge();return Bg(a,Qt,e,i)};var bs={readContext:Fe,use:Du,useCallback:ip,useContext:Fe,useEffect:Xh,useImperativeHandle:np,useInsertionEffect:Jg,useLayoutEffect:tp,useMemo:rp,useReducer:Kh,useRef:Wg,useState:function(){return Kh(Ci)},useDebugValue:$h,useDeferredValue:function(e,i){var a=ge();return Qt===null?Wh(a,e,i):sp(a,Qt.memoizedState,e,i)},useTransition:function(){var e=Kh(Ci)[0],i=ge().memoizedState;return[typeof e=="boolean"?e:xo(e),i]},useSyncExternalStore:kg,useId:up};bs.useCacheRefresh=cp,bs.useMemoCache=Fh,bs.useHostTransitionStatus=Jh,bs.useFormState=$g,bs.useActionState=$g,bs.useOptimistic=function(e,i){var a=ge();return Qt!==null?Bg(a,Qt,e,i):(a.baseState=e,[e,a.queue.dispatch])};function ef(e,i,a,o){i=e.memoizedState,a=a(o,i),a=a==null?i:I({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var nf={isMounted:function(e){return(e=e._reactInternals)?ht(e)===e:!1},enqueueSetState:function(e,i,a){e=e._reactInternals;var o=gn(),h=vr(o);h.payload=i,a!=null&&(h.callback=a),i=Er(e,h,o),i!==null&&(en(i,e,o),qo(i,e,o))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var o=gn(),h=vr(o);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Er(e,h,o),i!==null&&(en(i,e,o),qo(i,e,o))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=gn(),o=vr(a);o.tag=2,i!=null&&(o.callback=i),i=Er(e,o,a),i!==null&&(en(i,e,a),qo(i,e,a))}};function mp(e,i,a,o,h,d,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,d,v):i.prototype&&i.prototype.isPureReactComponent?!Ro(a,o)||!Ro(h,d):!0}function gp(e,i,a,o){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,o),i.state!==e&&nf.enqueueReplaceState(i,i.state,null)}function ws(e,i){var a=i;if("ref"in i){a={};for(var o in i)o!=="ref"&&(a[o]=i[o])}if(e=e.defaultProps){a===i&&(a=I({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}var Pu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function pp(e){Pu(e)}function _p(e){console.error(e)}function yp(e){Pu(e)}function ku(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(o){setTimeout(function(){throw o})}}function vp(e,i,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function rf(e,i,a){return a=vr(a),a.tag=3,a.payload={element:null},a.callback=function(){ku(e,i)},a}function Ep(e){return e=vr(e),e.tag=3,e}function Tp(e,i,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=o.value;e.payload=function(){return h(d)},e.callback=function(){vp(i,a,o)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){vp(i,a,o),typeof h!="function"&&(Rr===null?Rr=new Set([this]):Rr.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function V0(e,i,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(i=a.alternate,i!==null&&Bo(i,a,h,!0),a=Cn.current,a!==null){switch(a.tag){case 13:return ni===null?zf():a.alternate===null&&le===0&&(le=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Vh?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([o]):i.add(o),Bf(e,o,h)),!1;case 22:return a.flags|=65536,o===Vh?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([o]):a.add(o)),Bf(e,o,h)),!1}throw Error(s(435,a.tag))}return Bf(e,o,h),zf(),!1}if(jt)return i=Cn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,o!==Mh&&(e=Error(s(422),{cause:o}),Oo(wn(e,a)))):(o!==Mh&&(i=Error(s(423),{cause:o}),Oo(wn(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=wn(o,a),h=rf(e.stateNode,o,h),vf(e,h),le!==4&&(le=2)),!1;var d=Error(s(520),{cause:o});if(d=wn(d,a),$o===null?$o=[d]:$o.push(d),le!==4&&(le=2),i===null)return!0;o=wn(o,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=rf(a.stateNode,o,e),vf(a,e),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Rr===null||!Rr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Ep(h),Tp(h,e,a,o),vf(a,h),!1}a=a.return}while(a!==null);return!1}var Ap=Error(s(461)),Ne=!1;function Le(e,i,a,o){i.child=e===null?Ig(i,null,a,o):Es(i,e.child,a,o)}function Sp(e,i,a,o,h){a=a.render;var d=i.ref;if("ref"in o){var v={};for(var E in o)E!=="ref"&&(v[E]=o[E])}else v=o;return Is(i),o=jh(e,i,a,v,d,h),E=Bh(),e!==null&&!Ne?(qh(e,i,h),Di(e,i,h)):(jt&&E&&Oh(i),i.flags|=1,Le(e,i,o,h),i.child)}function bp(e,i,a,o,h){if(e===null){var d=a.type;return typeof d=="function"&&!If(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,wp(e,i,d,o,h)):(e=ju(a.type,null,o,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(d=e.child,!df(e,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:Ro,a(v,o)&&e.ref===i.ref)return Di(e,i,h)}return i.flags|=1,e=br(d,o),e.ref=i.ref,e.return=i,i.child=e}function wp(e,i,a,o,h){if(e!==null){var d=e.memoizedProps;if(Ro(d,o)&&e.ref===i.ref)if(Ne=!1,i.pendingProps=o=d,df(e,h))(e.flags&131072)!==0&&(Ne=!0);else return i.lanes=e.lanes,Di(e,i,h)}return sf(e,i,a,o,h)}function Rp(e,i,a){var o=i.pendingProps,h=o.children,d=(i.stateNode._pendingVisibility&2)!==0,v=e!==null?e.memoizedState:null;if(jo(e,i),o.mode==="hidden"||d){if((i.flags&128)!==0){if(o=v!==null?v.baseLanes|a:a,e!==null){for(h=i.child=e.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~o}else i.childLanes=0,i.child=null;return Ip(e,i,o,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&wu(i,v!==null?v.cachePool:null),v!==null?Cg(i,v):Ph(),Dg(i);else return i.lanes=i.childLanes=536870912,Ip(e,i,v!==null?v.baseLanes|a:a,a)}else v!==null?(wu(i,v.cachePool),Cg(i,v),mr(),i.memoizedState=null):(e!==null&&wu(i,null),Ph(),mr());return Le(e,i,h,a),i.child}function Ip(e,i,a,o){var h=xh();return h=h===null?null:{parent:Se._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},e!==null&&wu(i,null),Ph(),Dg(i),e!==null&&Bo(e,i,o,!0),null}function jo(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(i.flags|=2097664)}}function sf(e,i,a,o,h){return Is(i),a=jh(e,i,a,o,void 0,h),o=Bh(),e!==null&&!Ne?(qh(e,i,h),Di(e,i,h)):(jt&&o&&Oh(i),i.flags|=1,Le(e,i,a,h),i.child)}function Cp(e,i,a,o,h,d){return Is(i),i.updateQueue=null,a=Pg(i,o,a,h),Vg(e),o=Bh(),e!==null&&!Ne?(qh(e,i,d),Di(e,i,d)):(jt&&o&&Oh(i),i.flags|=1,Le(e,i,a,d),i.child)}function Dp(e,i,a,o,h){if(Is(i),i.stateNode===null){var d=fa,v=a.contextType;typeof v=="object"&&v!==null&&(d=Fe(v)),d=new a(o,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=nf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=o,d.state=i.memoizedState,d.refs={},_f(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?Fe(v):fa,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(ef(i,a,v,o),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&nf.enqueueReplaceState(d,d.state,null),Fo(i,o,d,h),Ho(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),o=!0}else if(e===null){d=i.stateNode;var E=i.memoizedProps,w=ws(a,E);d.props=w;var V=d.context,H=a.contextType;v=fa,typeof H=="object"&&H!==null&&(v=Fe(H));var K=a.getDerivedStateFromProps;H=typeof K=="function"||typeof d.getSnapshotBeforeUpdate=="function",E=i.pendingProps!==E,H||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E||V!==v)&&gp(i,d,o,v),yr=!1;var z=i.memoizedState;d.state=z,Fo(i,o,d,h),Ho(),V=i.memoizedState,E||z!==V||yr?(typeof K=="function"&&(ef(i,a,K,o),V=i.memoizedState),(w=yr||mp(i,a,w,o,z,V,v))?(H||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=V),d.props=o,d.state=V,d.context=v,o=w):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{d=i.stateNode,yf(e,i),v=i.memoizedProps,H=ws(a,v),d.props=H,K=i.pendingProps,z=d.context,V=a.contextType,w=fa,typeof V=="object"&&V!==null&&(w=Fe(V)),E=a.getDerivedStateFromProps,(V=typeof E=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==K||z!==w)&&gp(i,d,o,w),yr=!1,z=i.memoizedState,d.state=z,Fo(i,o,d,h),Ho();var q=i.memoizedState;v!==K||z!==q||yr||e!==null&&e.dependencies!==null&&Uu(e.dependencies)?(typeof E=="function"&&(ef(i,a,E,o),q=i.memoizedState),(H=yr||mp(i,a,H,o,z,q,w)||e!==null&&e.dependencies!==null&&Uu(e.dependencies))?(V||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(o,q,w),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(o,q,w)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=q),d.props=o,d.state=q,d.context=w,o=H):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(i.flags|=1024),o=!1)}return d=o,jo(e,i),o=(i.flags&128)!==0,d||o?(d=i.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,e!==null&&o?(i.child=Es(i,e.child,null,h),i.child=Es(i,null,a,h)):Le(e,i,a,h),i.memoizedState=d.state,e=i.child):e=Di(e,i,h),e}function Op(e,i,a,o){return Do(),i.flags|=256,Le(e,i,a,o),i.child}var af={dehydrated:null,treeContext:null,retryLane:0};function of(e){return{baseLanes:e,cachePool:Mg()}}function lf(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=Mn),e}function Np(e,i,a){var o=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=e!==null&&e.memoizedState===null?!1:(Ae.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,e===null){if(jt){if(h?dr(i):mr(),jt){var E=Ue,w;if(w=E){t:{for(w=E,E=ei;w.nodeType!==8;){if(!E){E=null;break t}if(w=jn(w.nextSibling),w===null){E=null;break t}}E=w}E!==null?(i.memoizedState={dehydrated:E,treeContext:_s!==null?{id:wi,overflow:Ri}:null,retryLane:536870912},w=Nn(18,null,null,0),w.stateNode=E,w.return=i,i.child=w,tn=i,Ue=null,w=!0):w=!1}w||vs(i)}if(E=i.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return E.data==="$!"?i.lanes=16:i.lanes=536870912,null;Ii(i)}return E=o.children,o=o.fallback,h?(mr(),h=i.mode,E=cf({mode:"hidden",children:E},h),o=Ds(o,h,a,null),E.return=i,o.return=i,E.sibling=o,i.child=E,h=i.child,h.memoizedState=of(a),h.childLanes=lf(e,v,a),i.memoizedState=af,o):(dr(i),uf(i,E))}if(w=e.memoizedState,w!==null&&(E=w.dehydrated,E!==null)){if(d)i.flags&256?(dr(i),i.flags&=-257,i=hf(e,i,a)):i.memoizedState!==null?(mr(),i.child=e.child,i.flags|=128,i=null):(mr(),h=o.fallback,E=i.mode,o=cf({mode:"visible",children:o.children},E),h=Ds(h,E,a,null),h.flags|=2,o.return=i,h.return=i,o.sibling=h,i.child=o,Es(i,e.child,null,a),o=i.child,o.memoizedState=of(a),o.childLanes=lf(e,v,a),i.memoizedState=af,i=h);else if(dr(i),E.data==="$!"){if(v=E.nextSibling&&E.nextSibling.dataset,v)var V=v.dgst;v=V,o=Error(s(419)),o.stack="",o.digest=v,Oo({value:o,source:null,stack:null}),i=hf(e,i,a)}else if(Ne||Bo(e,i,a,!1),v=(a&e.childLanes)!==0,Ne||v){if(v=Wt,v!==null){if(o=a&-a,(o&42)!==0)o=1;else switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=64;break;case 268435456:o=134217728;break;default:o=0}if(o=(o&(v.suspendedLanes|a))!==0?0:o,o!==0&&o!==w.retryLane)throw w.retryLane=o,fr(e,o),en(v,e,o),Ap}E.data==="$?"||zf(),i=hf(e,i,a)}else E.data==="$?"?(i.flags|=128,i.child=e.child,i=Y0.bind(null,e),E._reactRetry=i,i=null):(e=w.treeContext,Ue=jn(E.nextSibling),tn=i,jt=!0,xn=null,ei=!1,e!==null&&(Rn[In++]=wi,Rn[In++]=Ri,Rn[In++]=_s,wi=e.id,Ri=e.overflow,_s=i),i=uf(i,o.children),i.flags|=4096);return i}return h?(mr(),h=o.fallback,E=i.mode,w=e.child,V=w.sibling,o=br(w,{mode:"hidden",children:o.children}),o.subtreeFlags=w.subtreeFlags&31457280,V!==null?h=br(V,h):(h=Ds(h,E,a,null),h.flags|=2),h.return=i,o.return=i,o.sibling=h,i.child=o,o=h,h=i.child,E=e.child.memoizedState,E===null?E=of(a):(w=E.cachePool,w!==null?(V=Se._currentValue,w=w.parent!==V?{parent:V,pool:V}:w):w=Mg(),E={baseLanes:E.baseLanes|a,cachePool:w}),h.memoizedState=E,h.childLanes=lf(e,v,a),i.memoizedState=af,o):(dr(i),a=e.child,e=a.sibling,a=br(a,{mode:"visible",children:o.children}),a.return=i,a.sibling=null,e!==null&&(v=i.deletions,v===null?(i.deletions=[e],i.flags|=16):v.push(e)),i.child=a,i.memoizedState=null,a)}function uf(e,i){return i=cf({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function cf(e,i){return i_(e,i,0,null)}function hf(e,i,a){return Es(i,e.child,null,a),e=uf(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function Mp(e,i,a){e.lanes|=i;var o=e.alternate;o!==null&&(o.lanes|=i),gf(e.return,i,a)}function ff(e,i,a,o,h){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=o,d.tail=a,d.tailMode=h)}function Vp(e,i,a){var o=i.pendingProps,h=o.revealOrder,d=o.tail;if(Le(e,i,o.children,a),o=Ae.current,(o&2)!==0)o=o&1|2,i.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Mp(e,a,i);else if(e.tag===19)Mp(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}switch(Kt(Ae,o),h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&bu(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),ff(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&bu(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}ff(i,!0,a,null,d);break;case"together":ff(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Di(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),wr|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(Bo(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(s(153));if(i.child!==null){for(e=i.child,a=br(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=br(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function df(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&Uu(e)))}function P0(e,i,a){switch(i.tag){case 3:$i(i,i.stateNode.containerInfo),_r(i,Se,e.memoizedState.cache),Do();break;case 27:case 5:ro(i);break;case 4:$i(i,i.stateNode.containerInfo);break;case 10:_r(i,i.type,i.memoizedProps.value);break;case 13:var o=i.memoizedState;if(o!==null)return o.dehydrated!==null?(dr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Np(e,i,a):(dr(i),e=Di(e,i,a),e!==null?e.sibling:null);dr(i);break;case 19:var h=(e.flags&128)!==0;if(o=(a&i.childLanes)!==0,o||(Bo(e,i,a,!1),o=(a&i.childLanes)!==0),h){if(o)return Vp(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Kt(Ae,Ae.current),o)break;return null;case 22:case 23:return i.lanes=0,Rp(e,i,a);case 24:_r(i,Se,e.memoizedState.cache)}return Di(e,i,a)}function Pp(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)Ne=!0;else{if(!df(e,a)&&(i.flags&128)===0)return Ne=!1,P0(e,i,a);Ne=(e.flags&131072)!==0}else Ne=!1,jt&&(i.flags&1048576)!==0&&yg(i,vu,i.index);switch(i.lanes=0,i.tag){case 16:t:{e=i.pendingProps;var o=i.elementType,h=o._init;if(o=h(o._payload),i.type=o,typeof o=="function")If(o)?(e=ws(o,e),i.tag=1,i=Dp(null,i,o,e,a)):(i.tag=0,i=sf(null,i,o,e,a));else{if(o!=null){if(h=o.$$typeof,h===Q){i.tag=11,i=Sp(null,i,o,e,a);break t}else if(h===vt){i.tag=14,i=bp(null,i,o,e,a);break t}}throw i=b(o)||o,Error(s(306,i,""))}}return i;case 0:return sf(e,i,i.type,i.pendingProps,a);case 1:return o=i.type,h=ws(o,i.pendingProps),Dp(e,i,o,h,a);case 3:t:{if($i(i,i.stateNode.containerInfo),e===null)throw Error(s(387));var d=i.pendingProps;h=i.memoizedState,o=h.element,yf(e,i),Fo(i,d,null,a);var v=i.memoizedState;if(d=v.cache,_r(i,Se,d),d!==h.cache&&pf(i,[Se],a,!0),Ho(),d=v.element,h.isDehydrated)if(h={element:d,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=h,i.memoizedState=h,i.flags&256){i=Op(e,i,d,a);break t}else if(d!==o){o=wn(Error(s(424)),i),Oo(o),i=Op(e,i,d,a);break t}else for(Ue=jn(i.stateNode.containerInfo.firstChild),tn=i,jt=!0,xn=null,ei=!0,a=Ig(i,null,d,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Do(),d===o){i=Di(e,i,a);break t}Le(e,i,d,a)}i=i.child}return i;case 26:return jo(e,i),e===null?(a=L_(i.type,null,i.pendingProps,null))?i.memoizedState=a:jt||(a=i.type,e=i.pendingProps,o=Zu(_n.current).createElement(a),o[Ce]=i,o[ve]=e,xe(o,a,e),ee(o),i.stateNode=o):i.memoizedState=L_(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return ro(i),e===null&&jt&&(o=i.stateNode=P_(i.type,i.pendingProps,_n.current),tn=i,ei=!0,Ue=jn(o.firstChild)),o=i.pendingProps.children,e!==null||jt?Le(e,i,o,a):i.child=Es(i,null,o,a),jo(e,i),i.child;case 5:return e===null&&jt&&((h=o=Ue)&&(o=cA(o,i.type,i.pendingProps,ei),o!==null?(i.stateNode=o,tn=i,Ue=jn(o.firstChild),ei=!1,h=!0):h=!1),h||vs(i)),ro(i),h=i.type,d=i.pendingProps,v=e!==null?e.memoizedProps:null,o=d.children,Jf(h,d)?o=null:v!==null&&Jf(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=jh(e,i,I0,null,null,a),sl._currentValue=h),jo(e,i),Le(e,i,o,a),i.child;case 6:return e===null&&jt&&((e=a=Ue)&&(a=hA(a,i.pendingProps,ei),a!==null?(i.stateNode=a,tn=i,Ue=null,e=!0):e=!1),e||vs(i)),null;case 13:return Np(e,i,a);case 4:return $i(i,i.stateNode.containerInfo),o=i.pendingProps,e===null?i.child=Es(i,null,o,a):Le(e,i,o,a),i.child;case 11:return Sp(e,i,i.type,i.pendingProps,a);case 7:return Le(e,i,i.pendingProps,a),i.child;case 8:return Le(e,i,i.pendingProps.children,a),i.child;case 12:return Le(e,i,i.pendingProps.children,a),i.child;case 10:return o=i.pendingProps,_r(i,i.type,o.value),Le(e,i,o.children,a),i.child;case 9:return h=i.type._context,o=i.pendingProps.children,Is(i),h=Fe(h),o=o(h),i.flags|=1,Le(e,i,o,a),i.child;case 14:return bp(e,i,i.type,i.pendingProps,a);case 15:return wp(e,i,i.type,i.pendingProps,a);case 19:return Vp(e,i,a);case 22:return Rp(e,i,a);case 24:return Is(i),o=Fe(Se),e===null?(h=xh(),h===null&&(h=Wt,d=Uh(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:o,cache:h},_f(i),_r(i,Se,h)):((e.lanes&a)!==0&&(yf(e,i),Fo(i,null,null,a),Ho()),h=e.memoizedState,d=i.memoizedState,h.parent!==o?(h={parent:o,cache:o},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),_r(i,Se,o)):(o=d.cache,_r(i,Se,o),o!==h.cache&&pf(i,[Se],a,!0))),Le(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}var mf=xt(null),Rs=null,Oi=null;function _r(e,i,a){Kt(mf,i._currentValue),i._currentValue=a}function Ni(e){e._currentValue=mf.current,se(mf)}function gf(e,i,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),e===a)break;e=e.return}}function pf(e,i,a,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;t:for(;d!==null;){var E=d;d=h;for(var w=0;w<i.length;w++)if(E.context===i[w]){d.lanes|=a,E=d.alternate,E!==null&&(E.lanes|=a),gf(d.return,a,e),o||(v=null);break t}d=E.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),gf(v,a,e),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===e){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function Bo(e,i,a,o){e=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var E=h.type;hn(h.pendingProps.value,v.value)||(e!==null?e.push(E):e=[E])}}else if(h===Xi.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(sl):e=[sl])}h=h.return}e!==null&&pf(i,e,a,o),i.flags|=262144}function Uu(e){for(e=e.firstContext;e!==null;){if(!hn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Is(e){Rs=e,Oi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Fe(e){return kp(Rs,e)}function Lu(e,i){return Rs===null&&Is(e),kp(e,i)}function kp(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Oi===null){if(e===null)throw Error(s(308));Oi=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else Oi=Oi.next=i;return a}var yr=!1;function _f(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function yf(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function vr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Er(e,i,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(ie&2)!==0){var h=o.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),o.pending=i,i=_u(e),pg(e,null,a),i}return pu(e,o,i,a),_u(e)}function qo(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194176)!==0)){var o=i.lanes;o&=e.pendingLanes,a|=o,i.lanes=a,nr(e,a)}}function vf(e,i){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var Ef=!1;function Ho(){if(Ef){var e=ya;if(e!==null)throw e}}function Fo(e,i,a,o){Ef=!1;var h=e.updateQueue;yr=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var w=E,V=w.next;w.next=null,v===null?d=V:v.next=V,v=w;var H=e.alternate;H!==null&&(H=H.updateQueue,E=H.lastBaseUpdate,E!==v&&(E===null?H.firstBaseUpdate=V:E.next=V,H.lastBaseUpdate=w))}if(d!==null){var K=h.baseState;v=0,H=V=w=null,E=d;do{var z=E.lane&-536870913,q=z!==E.lane;if(q?(Ut&z)===z:(o&z)===z){z!==0&&z===_a&&(Ef=!0),H!==null&&(H=H.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var at=e,At=E;z=i;var ue=a;switch(At.tag){case 1:if(at=At.payload,typeof at=="function"){K=at.call(ue,K,z);break t}K=at;break t;case 3:at.flags=at.flags&-65537|128;case 0:if(at=At.payload,z=typeof at=="function"?at.call(ue,K,z):at,z==null)break t;K=I({},K,z);break t;case 2:yr=!0}}z=E.callback,z!==null&&(e.flags|=64,q&&(e.flags|=8192),q=h.callbacks,q===null?h.callbacks=[z]:q.push(z))}else q={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},H===null?(V=H=q,w=K):H=H.next=q,v|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;q=E,E=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);H===null&&(w=K),h.baseState=w,h.firstBaseUpdate=V,h.lastBaseUpdate=H,d===null&&(h.shared.lanes=0),wr|=v,e.lanes=v,e.memoizedState=K}}function Up(e,i){if(typeof e!="function")throw Error(s(191,e));e.call(i)}function Lp(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Up(a[e],i)}function Go(e,i){try{var a=i.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&e)===e){o=void 0;var d=a.create,v=a.inst;o=d(),v.destroy=o}a=a.next}while(a!==h)}}catch(E){$t(i,i.return,E)}}function Tr(e,i,a){try{var o=i.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var d=h.next;o=d;do{if((o.tag&e)===e){var v=o.inst,E=v.destroy;if(E!==void 0){v.destroy=void 0,h=i;var w=a;try{E()}catch(V){$t(h,w,V)}}}o=o.next}while(o!==d)}}catch(V){$t(i,i.return,V)}}function xp(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{Lp(i,a)}catch(o){$t(e,e.return,o)}}}function zp(e,i,a){a.props=ws(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){$t(e,i,o)}}function Cs(e,i){try{var a=e.ref;if(a!==null){var o=e.stateNode;switch(e.tag){case 26:case 27:case 5:var h=o;break;default:h=o}typeof a=="function"?e.refCleanup=a(h):a.current=h}}catch(d){$t(e,i,d)}}function fn(e,i){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){$t(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){$t(e,i,h)}else a.current=null}function jp(e){var i=e.type,a=e.memoizedProps,o=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){$t(e,e.return,h)}}function Bp(e,i,a){try{var o=e.stateNode;sA(o,e.type,a,i),o[ve]=i}catch(h){$t(e,e.return,h)}}function qp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27||e.tag===4}function Tf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||qp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==27&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Af(e,i,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(e,i):a.insertBefore(e,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(e,a)):(i=a,i.appendChild(e)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Wu));else if(o!==4&&o!==27&&(e=e.child,e!==null))for(Af(e,i,a),e=e.sibling;e!==null;)Af(e,i,a),e=e.sibling}function xu(e,i,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(o!==4&&o!==27&&(e=e.child,e!==null))for(xu(e,i,a),e=e.sibling;e!==null;)xu(e,i,a),e=e.sibling}var Mi=!1,oe=!1,Sf=!1,Hp=typeof WeakSet=="function"?WeakSet:Set,Me=null,Fp=!1;function k0(e,i){if(e=e.containerInfo,Wf=rc,e=og(e),bh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,d=o.focusNode;o=o.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var v=0,E=-1,w=-1,V=0,H=0,K=e,z=null;e:for(;;){for(var q;K!==a||h!==0&&K.nodeType!==3||(E=v+h),K!==d||o!==0&&K.nodeType!==3||(w=v+o),K.nodeType===3&&(v+=K.nodeValue.length),(q=K.firstChild)!==null;)z=K,K=q;for(;;){if(K===e)break e;if(z===a&&++V===h&&(E=v),z===d&&++H===o&&(w=v),(q=K.nextSibling)!==null)break;K=z,z=K.parentNode}K=q}a=E===-1||w===-1?null:{start:E,end:w}}else a=null}a=a||{start:0,end:0}}else a=null;for(Zf={focusedElem:e,selectionRange:a},rc=!1,Me=i;Me!==null;)if(i=Me,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,Me=e;else for(;Me!==null;){switch(i=Me,d=i.alternate,e=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,o=a.stateNode;try{var at=ws(a.type,h,a.elementType===a.type);e=o.getSnapshotBeforeUpdate(at,d),o.__reactInternalSnapshotBeforeUpdate=e}catch(At){$t(a,a.return,At)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)nd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":nd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=i.sibling,e!==null){e.return=i.return,Me=e;break}Me=i.return}return at=Fp,Fp=!1,at}function Gp(e,i,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:Pi(e,a),o&4&&Go(5,a);break;case 1:if(Pi(e,a),o&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(E){$t(a,a.return,E)}else{var h=ws(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(E){$t(a,a.return,E)}}o&64&&xp(a),o&512&&Cs(a,a.return);break;case 3:if(Pi(e,a),o&64&&(o=a.updateQueue,o!==null)){if(e=null,a.child!==null)switch(a.child.tag){case 27:case 5:e=a.child.stateNode;break;case 1:e=a.child.stateNode}try{Lp(o,e)}catch(E){$t(a,a.return,E)}}break;case 26:Pi(e,a),o&512&&Cs(a,a.return);break;case 27:case 5:Pi(e,a),i===null&&o&4&&jp(a),o&512&&Cs(a,a.return);break;case 12:Pi(e,a);break;case 13:Pi(e,a),o&4&&Yp(e,a);break;case 22:if(h=a.memoizedState!==null||Mi,!h){i=i!==null&&i.memoizedState!==null||oe;var d=Mi,v=oe;Mi=h,(oe=i)&&!v?Ar(e,a,(a.subtreeFlags&8772)!==0):Pi(e,a),Mi=d,oe=v}o&512&&(a.memoizedProps.mode==="manual"?Cs(a,a.return):fn(a,a.return));break;default:Pi(e,a)}}function Kp(e){var i=e.alternate;i!==null&&(e.alternate=null,Kp(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&rs(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var pe=null,dn=!1;function Vi(e,i,a){for(a=a.child;a!==null;)Qp(e,i,a),a=a.sibling}function Qp(e,i,a){if(He&&typeof He.onCommitFiberUnmount=="function")try{He.onCommitFiberUnmount(Wi,a)}catch{}switch(a.tag){case 26:oe||fn(a,i),Vi(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:oe||fn(a,i);var o=pe,h=dn;for(pe=a.stateNode,Vi(e,i,a),a=a.stateNode,i=a.attributes;i.length;)a.removeAttributeNode(i[0]);rs(a),pe=o,dn=h;break;case 5:oe||fn(a,i);case 6:h=pe;var d=dn;if(pe=null,Vi(e,i,a),pe=h,dn=d,pe!==null)if(dn)try{e=pe,o=a.stateNode,e.nodeType===8?e.parentNode.removeChild(o):e.removeChild(o)}catch(v){$t(a,i,v)}else try{pe.removeChild(a.stateNode)}catch(v){$t(a,i,v)}break;case 18:pe!==null&&(dn?(i=pe,a=a.stateNode,i.nodeType===8?ed(i.parentNode,a):i.nodeType===1&&ed(i,a),ul(i)):ed(pe,a.stateNode));break;case 4:o=pe,h=dn,pe=a.stateNode.containerInfo,dn=!0,Vi(e,i,a),pe=o,dn=h;break;case 0:case 11:case 14:case 15:oe||Tr(2,a,i),oe||Tr(4,a,i),Vi(e,i,a);break;case 1:oe||(fn(a,i),o=a.stateNode,typeof o.componentWillUnmount=="function"&&zp(a,i,o)),Vi(e,i,a);break;case 21:Vi(e,i,a);break;case 22:oe||fn(a,i),oe=(o=oe)||a.memoizedState!==null,Vi(e,i,a),oe=o;break;default:Vi(e,i,a)}}function Yp(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ul(e)}catch(a){$t(i,i.return,a)}}function U0(e){switch(e.tag){case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new Hp),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new Hp),i;default:throw Error(s(435,e.tag))}}function bf(e,i){var a=U0(e);i.forEach(function(o){var h=X0.bind(null,e,o);a.has(o)||(a.add(o),o.then(h,h))})}function Dn(e,i){var a=i.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],d=e,v=i,E=v;t:for(;E!==null;){switch(E.tag){case 27:case 5:pe=E.stateNode,dn=!1;break t;case 3:pe=E.stateNode.containerInfo,dn=!0;break t;case 4:pe=E.stateNode.containerInfo,dn=!0;break t}E=E.return}if(pe===null)throw Error(s(160));Qp(d,v,h),pe=null,dn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Xp(i,e),i=i.sibling}var zn=null;function Xp(e,i){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Dn(i,e),On(e),o&4&&(Tr(3,e,e.return),Go(3,e),Tr(5,e,e.return));break;case 1:Dn(i,e),On(e),o&512&&(oe||a===null||fn(a,a.return)),o&64&&Mi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=zn;if(Dn(i,e),On(e),o&512&&(oe||a===null||fn(a,a.return)),o&4){var d=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){t:{o=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":d=h.getElementsByTagName("title")[0],(!d||d[rr]||d[Ce]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(o),h.head.insertBefore(d,h.querySelector("head > title"))),xe(d,o,a),d[Ce]=e,ee(d),o=d;break t;case"link":var v=j_("link","href",h).get(o+(a.href||""));if(v){for(var E=0;E<v.length;E++)if(d=v[E],d.getAttribute("href")===(a.href==null?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(E,1);break e}}d=h.createElement(o),xe(d,o,a),h.head.appendChild(d);break;case"meta":if(v=j_("meta","content",h).get(o+(a.content||""))){for(E=0;E<v.length;E++)if(d=v[E],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(E,1);break e}}d=h.createElement(o),xe(d,o,a),h.head.appendChild(d);break;default:throw Error(s(468,o))}d[Ce]=e,ee(d),o=d}e.stateNode=o}else B_(h,e.type,e.stateNode);else e.stateNode=z_(h,o,e.memoizedProps);else d!==o?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,o===null?B_(h,e.type,e.stateNode):z_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Bp(e,e.memoizedProps,a.memoizedProps)}break;case 27:if(o&4&&e.alternate===null){h=e.stateNode,d=e.memoizedProps;try{for(var w=h.firstChild;w;){var V=w.nextSibling,H=w.nodeName;w[rr]||H==="HEAD"||H==="BODY"||H==="SCRIPT"||H==="STYLE"||H==="LINK"&&w.rel.toLowerCase()==="stylesheet"||h.removeChild(w),w=V}for(var K=e.type,z=h.attributes;z.length;)h.removeAttributeNode(z[0]);xe(h,K,d),h[Ce]=e,h[ve]=d}catch(at){$t(e,e.return,at)}}case 5:if(Dn(i,e),On(e),o&512&&(oe||a===null||fn(a,a.return)),e.flags&32){h=e.stateNode;try{En(h,"")}catch(at){$t(e,e.return,at)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Bp(e,h,a!==null?a.memoizedProps:h)),o&1024&&(Sf=!0);break;case 6:if(Dn(i,e),On(e),o&4){if(e.stateNode===null)throw Error(s(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(at){$t(e,e.return,at)}}break;case 3:if(ec=null,h=zn,zn=Ju(i.containerInfo),Dn(i,e),zn=h,On(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{ul(i.containerInfo)}catch(at){$t(e,e.return,at)}Sf&&(Sf=!1,$p(e));break;case 4:o=zn,zn=Ju(e.stateNode.containerInfo),Dn(i,e),On(e),zn=o;break;case 12:Dn(i,e),On(e);break;case 13:Dn(i,e),On(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Vf=nn()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,bf(e,o)));break;case 22:if(o&512&&(oe||a===null||fn(a,a.return)),w=e.memoizedState!==null,V=a!==null&&a.memoizedState!==null,H=Mi,K=oe,Mi=H||w,oe=K||V,Dn(i,e),oe=K,Mi=H,On(e),i=e.stateNode,i._current=e,i._visibility&=-3,i._visibility|=i._pendingVisibility&2,o&8192&&(i._visibility=w?i._visibility&-2:i._visibility|1,w&&(i=Mi||oe,a===null||V||i||Aa(e)),e.memoizedProps===null||e.memoizedProps.mode!=="manual"))t:for(a=null,i=e;;){if(i.tag===5||i.tag===26||i.tag===27){if(a===null){V=a=i;try{if(h=V.stateNode,w)d=h.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{v=V.stateNode,E=V.memoizedProps.style;var q=E!=null&&E.hasOwnProperty("display")?E.display:null;v.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(at){$t(V,V.return,at)}}}else if(i.tag===6){if(a===null){V=i;try{V.stateNode.nodeValue=w?"":V.memoizedProps}catch(at){$t(V,V.return,at)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,bf(e,a))));break;case 19:Dn(i,e),On(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,bf(e,o)));break;case 21:break;default:Dn(i,e),On(e)}}function On(e){var i=e.flags;if(i&2){try{if(e.tag!==27){t:{for(var a=e.return;a!==null;){if(qp(a)){var o=a;break t}a=a.return}throw Error(s(160))}switch(o.tag){case 27:var h=o.stateNode,d=Tf(e);xu(e,d,h);break;case 5:var v=o.stateNode;o.flags&32&&(En(v,""),o.flags&=-33);var E=Tf(e);xu(e,E,v);break;case 3:case 4:var w=o.stateNode.containerInfo,V=Tf(e);Af(e,V,w);break;default:throw Error(s(161))}}}catch(H){$t(e,e.return,H)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function $p(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;$p(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function Pi(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Gp(e,i.alternate,i),i=i.sibling}function Aa(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:Tr(4,i,i.return),Aa(i);break;case 1:fn(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&zp(i,i.return,a),Aa(i);break;case 26:case 27:case 5:fn(i,i.return),Aa(i);break;case 22:fn(i,i.return),i.memoizedState===null&&Aa(i);break;default:Aa(i)}e=e.sibling}}function Ar(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var o=i.alternate,h=e,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:Ar(h,d,a),Go(4,d);break;case 1:if(Ar(h,d,a),o=d,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(V){$t(o,o.return,V)}if(o=d,h=o.updateQueue,h!==null){var E=o.stateNode;try{var w=h.shared.hiddenCallbacks;if(w!==null)for(h.shared.hiddenCallbacks=null,h=0;h<w.length;h++)Up(w[h],E)}catch(V){$t(o,o.return,V)}}a&&v&64&&xp(d),Cs(d,d.return);break;case 26:case 27:case 5:Ar(h,d,a),a&&o===null&&v&4&&jp(d),Cs(d,d.return);break;case 12:Ar(h,d,a);break;case 13:Ar(h,d,a),a&&v&4&&Yp(h,d);break;case 22:d.memoizedState===null&&Ar(h,d,a),Cs(d,d.return);break;default:Ar(h,d,a)}i=i.sibling}}function wf(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&ko(a))}function Rf(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&ko(e))}function Sr(e,i,a,o){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Wp(e,i,a,o),i=i.sibling}function Wp(e,i,a,o){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Sr(e,i,a,o),h&2048&&Go(9,i);break;case 3:Sr(e,i,a,o),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&ko(e)));break;case 12:if(h&2048){Sr(e,i,a,o),e=i.stateNode;try{var d=i.memoizedProps,v=d.id,E=d.onPostCommit;typeof E=="function"&&E(v,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(w){$t(i,i.return,w)}}else Sr(e,i,a,o);break;case 23:break;case 22:d=i.stateNode,i.memoizedState!==null?d._visibility&4?Sr(e,i,a,o):Ko(e,i):d._visibility&4?Sr(e,i,a,o):(d._visibility|=4,Sa(e,i,a,o,(i.subtreeFlags&10256)!==0)),h&2048&&wf(i.alternate,i);break;case 24:Sr(e,i,a,o),h&2048&&Rf(i.alternate,i);break;default:Sr(e,i,a,o)}}function Sa(e,i,a,o,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=e,v=i,E=a,w=o,V=v.flags;switch(v.tag){case 0:case 11:case 15:Sa(d,v,E,w,h),Go(8,v);break;case 23:break;case 22:var H=v.stateNode;v.memoizedState!==null?H._visibility&4?Sa(d,v,E,w,h):Ko(d,v):(H._visibility|=4,Sa(d,v,E,w,h)),h&&V&2048&&wf(v.alternate,v);break;case 24:Sa(d,v,E,w,h),h&&V&2048&&Rf(v.alternate,v);break;default:Sa(d,v,E,w,h)}i=i.sibling}}function Ko(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,o=i,h=o.flags;switch(o.tag){case 22:Ko(a,o),h&2048&&wf(o.alternate,o);break;case 24:Ko(a,o),h&2048&&Rf(o.alternate,o);break;default:Ko(a,o)}i=i.sibling}}var Qo=8192;function ba(e){if(e.subtreeFlags&Qo)for(e=e.child;e!==null;)Zp(e),e=e.sibling}function Zp(e){switch(e.tag){case 26:ba(e),e.flags&Qo&&e.memoizedState!==null&&bA(zn,e.memoizedState,e.memoizedProps);break;case 5:ba(e);break;case 3:case 4:var i=zn;zn=Ju(e.stateNode.containerInfo),ba(e),zn=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=Qo,Qo=16777216,ba(e),Qo=i):ba(e));break;default:ba(e)}}function Jp(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function Yo(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];Me=o,e_(o,e)}Jp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)t_(e),e=e.sibling}function t_(e){switch(e.tag){case 0:case 11:case 15:Yo(e),e.flags&2048&&Tr(9,e,e.return);break;case 3:Yo(e);break;case 12:Yo(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&4&&(e.return===null||e.return.tag!==13)?(i._visibility&=-5,zu(e)):Yo(e);break;default:Yo(e)}}function zu(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];Me=o,e_(o,e)}Jp(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:Tr(8,i,i.return),zu(i);break;case 22:a=i.stateNode,a._visibility&4&&(a._visibility&=-5,zu(i));break;default:zu(i)}e=e.sibling}}function e_(e,i){for(;Me!==null;){var a=Me;switch(a.tag){case 0:case 11:case 15:Tr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:ko(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Me=o;else t:for(a=e;Me!==null;){o=Me;var h=o.sibling,d=o.return;if(Kp(o),o===a){Me=null;break t}if(h!==null){h.return=d,Me=h;break t}Me=d}}}function L0(e,i,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nn(e,i,a,o){return new L0(e,i,a,o)}function If(e){return e=e.prototype,!(!e||!e.isReactComponent)}function br(e,i){var a=e.alternate;return a===null?(a=Nn(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&31457280,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function n_(e,i){e.flags&=31457282;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function ju(e,i,a,o,h,d){var v=0;if(o=e,typeof e=="function")If(e)&&(v=1);else if(typeof e=="string")v=AA(e,a,$e.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case p:return Ds(a.children,h,d,i);case _:v=8,h|=24;break;case A:return e=Nn(12,a,i,h|2),e.elementType=A,e.lanes=d,e;case J:return e=Nn(13,a,i,h),e.elementType=J,e.lanes=d,e;case $:return e=Nn(19,a,i,h),e.elementType=$,e.lanes=d,e;case Et:return i_(a,h,d,i);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case R:case j:v=10;break t;case P:v=9;break t;case Q:v=11;break t;case vt:v=14;break t;case mt:v=16,o=null;break t}v=29,a=Error(s(130,e===null?"null":typeof e,"")),o=null}return i=Nn(v,a,i,h),i.elementType=e,i.type=o,i.lanes=d,i}function Ds(e,i,a,o){return e=Nn(7,e,o,i),e.lanes=a,e}function i_(e,i,a,o){e=Nn(22,e,o,i),e.elementType=Et,e.lanes=a;var h={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var d=h._current;if(d===null)throw Error(s(456));if((h._pendingVisibility&2)===0){var v=fr(d,2);v!==null&&(h._pendingVisibility|=2,en(v,d,2))}},attach:function(){var d=h._current;if(d===null)throw Error(s(456));if((h._pendingVisibility&2)!==0){var v=fr(d,2);v!==null&&(h._pendingVisibility&=-3,en(v,d,2))}}};return e.stateNode=h,e}function Cf(e,i,a){return e=Nn(6,e,null,i),e.lanes=a,e}function Df(e,i,a){return i=Nn(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}function ki(e){e.flags|=4}function r_(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!q_(i)){if(i=Cn.current,i!==null&&((Ut&4194176)===Ut?ni!==null:(Ut&62914560)!==Ut&&(Ut&536870912)===0||i!==ni))throw Mo=Vh,Tg;e.flags|=8192}}function Bu(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?tr():536870912,e.lanes|=i,Ra|=i)}function Xo(e,i){if(!jt)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ne(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&31457280,o|=h.flags&31457280,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=a,i}function x0(e,i,a){var o=i.pendingProps;switch(Nh(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ne(i),null;case 1:return ne(i),null;case 3:return a=i.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Ni(Se),mi(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Co(i)?ki(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,xn!==null&&(Lf(xn),xn=null))),ne(i),null;case 26:return a=i.memoizedState,e===null?(ki(i),a!==null?(ne(i),r_(i,a)):(ne(i),i.flags&=-16777217)):a?a!==e.memoizedState?(ki(i),ne(i),r_(i,a)):(ne(i),i.flags&=-16777217):(e.memoizedProps!==o&&ki(i),ne(i),i.flags&=-16777217),null;case 27:Gs(i),a=_n.current;var h=i.type;if(e!==null&&i.stateNode!=null)e.memoizedProps!==o&&ki(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return ne(i),null}e=$e.current,Co(i)?vg(i):(e=P_(h,o,a),i.stateNode=e,ki(i))}return ne(i),null;case 5:if(Gs(i),a=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==o&&ki(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return ne(i),null}if(e=$e.current,Co(i))vg(i);else{switch(h=Zu(_n.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof o.is=="string"?h.createElement("select",{is:o.is}):h.createElement("select"),o.multiple?e.multiple=!0:o.size&&(e.size=o.size);break;default:e=typeof o.is=="string"?h.createElement(a,{is:o.is}):h.createElement(a)}}e[Ce]=i,e[ve]=o;t:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break t;for(;h.sibling===null;){if(h.return===null||h.return===i)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=e;t:switch(xe(e,a,o),a){case"button":case"input":case"select":case"textarea":e=!!o.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&ki(i)}}return ne(i),i.flags&=-16777217,null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==o&&ki(i);else{if(typeof o!="string"&&i.stateNode===null)throw Error(s(166));if(e=_n.current,Co(i)){if(e=i.stateNode,a=i.memoizedProps,o=null,h=tn,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Ce]=i,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||C_(e.nodeValue,a)),e||vs(i)}else e=Zu(e).createTextNode(o),e[Ce]=i,i.stateNode=e}return ne(i),null;case 13:if(o=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Co(i),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Ce]=i}else Do(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ne(i),h=!1}else xn!==null&&(Lf(xn),xn=null),h=!0;if(!h)return i.flags&256?(Ii(i),i):(Ii(i),null)}if(Ii(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=o!==null,e=e!==null&&e.memoizedState!==null,a){o=i.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool);var d=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==h&&(o.flags|=2048)}return a!==e&&a&&(i.child.flags|=8192),Bu(i,i.updateQueue),ne(i),null;case 4:return mi(),e===null&&Yf(i.stateNode.containerInfo),ne(i),null;case 10:return Ni(i.type),ne(i),null;case 19:if(se(Ae),h=i.memoizedState,h===null)return ne(i),null;if(o=(i.flags&128)!==0,d=h.rendering,d===null)if(o)Xo(h,!1);else{if(le!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(d=bu(e),d!==null){for(i.flags|=128,Xo(h,!1),e=d.updateQueue,i.updateQueue=e,Bu(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)n_(a,e),a=a.sibling;return Kt(Ae,Ae.current&1|2),i.child}e=e.sibling}h.tail!==null&&nn()>qu&&(i.flags|=128,o=!0,Xo(h,!1),i.lanes=4194304)}else{if(!o)if(e=bu(d),e!==null){if(i.flags|=128,o=!0,e=e.updateQueue,i.updateQueue=e,Bu(i,e),Xo(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!jt)return ne(i),null}else 2*nn()-h.renderingStartTime>qu&&a!==536870912&&(i.flags|=128,o=!0,Xo(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(e=h.last,e!==null?e.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=nn(),i.sibling=null,e=Ae.current,Kt(Ae,o?e&1|2:e&1),i):(ne(i),null);case 22:case 23:return Ii(i),kh(),o=i.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(i.flags|=8192):o&&(i.flags|=8192),o?(a&536870912)!==0&&(i.flags&128)===0&&(ne(i),i.subtreeFlags&6&&(i.flags|=8192)):ne(i),a=i.updateQueue,a!==null&&Bu(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==a&&(i.flags|=2048),e!==null&&se(Ts),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Ni(Se),ne(i),null;case 25:return null}throw Error(s(156,i.tag))}function z0(e,i){switch(Nh(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Ni(Se),mi(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return Gs(i),null;case 13:if(Ii(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Do()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return se(Ae),null;case 4:return mi(),null;case 10:return Ni(i.type),null;case 22:case 23:return Ii(i),kh(),e!==null&&se(Ts),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return Ni(Se),null;case 25:return null;default:return null}}function s_(e,i){switch(Nh(i),i.tag){case 3:Ni(Se),mi();break;case 26:case 27:case 5:Gs(i);break;case 4:mi();break;case 13:Ii(i);break;case 19:se(Ae);break;case 10:Ni(i.type);break;case 22:case 23:Ii(i),kh(),e!==null&&se(Ts);break;case 24:Ni(Se)}}var j0={getCacheForType:function(e){var i=Fe(Se),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a}},B0=typeof WeakMap=="function"?WeakMap:Map,ie=0,Wt=null,Ot=null,Ut=0,Zt=0,mn=null,Ui=!1,wa=!1,Of=!1,Li=0,le=0,wr=0,Os=0,Nf=0,Mn=0,Ra=0,$o=null,ri=null,Mf=!1,Vf=0,qu=1/0,Hu=null,Rr=null,Fu=!1,Ns=null,Wo=0,Pf=0,kf=null,Zo=0,Uf=null;function gn(){if((ie&2)!==0&&Ut!==0)return Ut&-Ut;if(S.T!==null){var e=_a;return e!==0?e:Ff()}return $l()}function a_(){Mn===0&&(Mn=(Ut&536870912)===0||jt?uo():536870912);var e=Cn.current;return e!==null&&(e.flags|=32),Mn}function en(e,i,a){(e===Wt&&Zt===2||e.cancelPendingCommit!==null)&&(Ia(e,0),xi(e,Ut,Mn,!1)),ce(e,a),((ie&2)===0||e!==Wt)&&(e===Wt&&((ie&2)===0&&(Os|=a),le===4&&xi(e,Ut,Mn,!1)),si(e))}function o_(e,i,a){if((ie&6)!==0)throw Error(s(327));var o=!a&&(i&60)===0&&(i&e.expiredLanes)===0||Ji(e,i),h=o?F0(e,i):jf(e,i,!0),d=o;do{if(h===0){wa&&!o&&xi(e,i,0,!1);break}else if(h===6)xi(e,i,0,!Ui);else{if(a=e.current.alternate,d&&!q0(a)){h=jf(e,i,!1),d=!1;continue}if(h===2){if(d=i,e.errorRecoveryDisabledLanes&d)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;t:{var E=e;h=$o;var w=E.current.memoizedState.isDehydrated;if(w&&(Ia(E,v).flags|=256),v=jf(E,v,!1),v!==2){if(Of&&!w){E.errorRecoveryDisabledLanes|=d,Os|=d,h=4;break t}d=ri,ri=h,d!==null&&Lf(d)}h=v}if(d=!1,h!==2)continue}}if(h===1){Ia(e,0),xi(e,i,0,!0);break}t:{switch(o=e,h){case 0:case 1:throw Error(s(345));case 4:if((i&4194176)===i){xi(o,i,Mn,!Ui);break t}break;case 2:ri=null;break;case 3:case 5:break;default:throw Error(s(329))}if(o.finishedWork=a,o.finishedLanes=i,(i&62914560)===i&&(d=Vf+300-nn(),10<d)){if(xi(o,i,Mn,!Ui),yn(o,0)!==0)break t;o.timeoutHandle=N_(l_.bind(null,o,a,ri,Hu,Mf,i,Mn,Os,Ra,Ui,2,-0,0),d);break t}l_(o,a,ri,Hu,Mf,i,Mn,Os,Ra,Ui,0,-0,0)}}break}while(!0);si(e)}function Lf(e){ri===null?ri=e:ri.push.apply(ri,e)}function l_(e,i,a,o,h,d,v,E,w,V,H,K,z){var q=i.subtreeFlags;if((q&8192||(q&16785408)===16785408)&&(rl={stylesheets:null,count:0,unsuspend:SA},Zp(i),i=wA(),i!==null)){e.cancelPendingCommit=i(g_.bind(null,e,a,o,h,v,E,w,1,K,z)),xi(e,d,v,!V);return}g_(e,a,o,h,v,E,w,H,K,z)}function q0(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],d=h.getSnapshot;h=h.value;try{if(!hn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function xi(e,i,a,o){i&=~Nf,i&=~Os,e.suspendedLanes|=i,e.pingedLanes&=~i,o&&(e.warmLanes|=i),o=e.expirationTimes;for(var h=i;0<h;){var d=31-We(h),v=1<<d;o[d]=-1,h&=~v}a!==0&&er(e,a,i)}function Gu(){return(ie&6)===0?(Jo(0),!1):!0}function xf(){if(Ot!==null){if(Zt===0)var e=Ot.return;else e=Ot,Oi=Rs=null,Hh(e),ga=null,Vo=0,e=Ot;for(;e!==null;)s_(e.alternate,e),e=e.return;Ot=null}}function Ia(e,i){e.finishedWork=null,e.finishedLanes=0;var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,oA(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),xf(),Wt=e,Ot=a=br(e.current,null),Ut=i,Zt=0,mn=null,Ui=!1,wa=Ji(e,i),Of=!1,Ra=Mn=Nf=Os=wr=le=0,ri=$o=null,Mf=!1,(i&8)!==0&&(i|=i&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=i;0<o;){var h=31-We(o),d=1<<h;i|=e[h],o&=~d}return Li=i,gu(),a}function u_(e,i){It=null,S.H=ii,i===No?(i=bg(),Zt=3):i===Tg?(i=bg(),Zt=4):Zt=i===Ap?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,mn=i,Ot===null&&(le=1,ku(e,wn(i,e.current)))}function c_(){var e=S.H;return S.H=ii,e===null?ii:e}function h_(){var e=S.A;return S.A=j0,e}function zf(){le=4,Ui||(Ut&4194176)!==Ut&&Cn.current!==null||(wa=!0),(wr&134217727)===0&&(Os&134217727)===0||Wt===null||xi(Wt,Ut,Mn,!1)}function jf(e,i,a){var o=ie;ie|=2;var h=c_(),d=h_();(Wt!==e||Ut!==i)&&(Hu=null,Ia(e,i)),i=!1;var v=le;t:do try{if(Zt!==0&&Ot!==null){var E=Ot,w=mn;switch(Zt){case 8:xf(),v=6;break t;case 3:case 2:case 6:Cn.current===null&&(i=!0);var V=Zt;if(Zt=0,mn=null,Ca(e,E,w,V),a&&wa){v=0;break t}break;default:V=Zt,Zt=0,mn=null,Ca(e,E,w,V)}}H0(),v=le;break}catch(H){u_(e,H)}while(!0);return i&&e.shellSuspendCounter++,Oi=Rs=null,ie=o,S.H=h,S.A=d,Ot===null&&(Wt=null,Ut=0,gu()),v}function H0(){for(;Ot!==null;)f_(Ot)}function F0(e,i){var a=ie;ie|=2;var o=c_(),h=h_();Wt!==e||Ut!==i?(Hu=null,qu=nn()+500,Ia(e,i)):wa=Ji(e,i);t:do try{if(Zt!==0&&Ot!==null){i=Ot;var d=mn;e:switch(Zt){case 1:Zt=0,mn=null,Ca(e,i,d,1);break;case 2:if(Ag(d)){Zt=0,mn=null,d_(i);break}i=function(){Zt===2&&Wt===e&&(Zt=7),si(e)},d.then(i,i);break t;case 3:Zt=7;break t;case 4:Zt=5;break t;case 7:Ag(d)?(Zt=0,mn=null,d_(i)):(Zt=0,mn=null,Ca(e,i,d,7));break;case 5:var v=null;switch(Ot.tag){case 26:v=Ot.memoizedState;case 5:case 27:var E=Ot;if(!v||q_(v)){Zt=0,mn=null;var w=E.sibling;if(w!==null)Ot=w;else{var V=E.return;V!==null?(Ot=V,Ku(V)):Ot=null}break e}}Zt=0,mn=null,Ca(e,i,d,5);break;case 6:Zt=0,mn=null,Ca(e,i,d,6);break;case 8:xf(),le=6;break t;default:throw Error(s(462))}}G0();break}catch(H){u_(e,H)}while(!0);return Oi=Rs=null,S.H=o,S.A=h,ie=a,Ot!==null?0:(Wt=null,Ut=0,gu(),le)}function G0(){for(;Ot!==null&&!dh();)f_(Ot)}function f_(e){var i=Pp(e.alternate,e,Li);e.memoizedProps=e.pendingProps,i===null?Ku(e):Ot=i}function d_(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=Cp(a,i,i.pendingProps,i.type,void 0,Ut);break;case 11:i=Cp(a,i,i.pendingProps,i.type.render,i.ref,Ut);break;case 5:Hh(i);default:s_(a,i),i=Ot=n_(i,Li),i=Pp(a,i,Li)}e.memoizedProps=e.pendingProps,i===null?Ku(e):Ot=i}function Ca(e,i,a,o){Oi=Rs=null,Hh(i),ga=null,Vo=0;var h=i.return;try{if(V0(e,h,i,a,Ut)){le=1,ku(e,wn(a,e.current)),Ot=null;return}}catch(d){if(h!==null)throw Ot=h,d;le=1,ku(e,wn(a,e.current)),Ot=null;return}i.flags&32768?(jt||o===1?e=!0:wa||(Ut&536870912)!==0?e=!1:(Ui=e=!0,(o===2||o===3||o===6)&&(o=Cn.current,o!==null&&o.tag===13&&(o.flags|=16384))),m_(i,e)):Ku(i)}function Ku(e){var i=e;do{if((i.flags&32768)!==0){m_(i,Ui);return}e=i.return;var a=x0(i.alternate,i,Li);if(a!==null){Ot=a;return}if(i=i.sibling,i!==null){Ot=i;return}Ot=i=e}while(i!==null);le===0&&(le=5)}function m_(e,i){do{var a=z0(e.alternate,e);if(a!==null){a.flags&=32767,Ot=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){Ot=e;return}Ot=e=a}while(e!==null);le=6,Ot=null}function g_(e,i,a,o,h,d,v,E,w,V){var H=S.T,K=nt.p;try{nt.p=2,S.T=null,K0(e,i,a,o,K,h,d,v,E,w,V)}finally{S.T=H,nt.p=K}}function K0(e,i,a,o,h,d,v,E){do Da();while(Ns!==null);if((ie&6)!==0)throw Error(s(327));var w=e.finishedWork;if(o=e.finishedLanes,w===null)return null;if(e.finishedWork=null,e.finishedLanes=0,w===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0,e.cancelPendingCommit=null;var V=w.lanes|w.childLanes;if(V|=Ch,Yl(e,o,V,d,v,E),e===Wt&&(Ot=Wt=null,Ut=0),(w.subtreeFlags&10256)===0&&(w.flags&10256)===0||Fu||(Fu=!0,Pf=V,kf=a,$0(gi,function(){return Da(),null})),a=(w.flags&15990)!==0,(w.subtreeFlags&15990)!==0||a?(a=S.T,S.T=null,d=nt.p,nt.p=2,v=ie,ie|=4,k0(e,w),Xp(w,e),p0(Zf,e.containerInfo),rc=!!Wf,Zf=Wf=null,e.current=w,Gp(e,w.alternate,w),so(),ie=v,nt.p=d,S.T=a):e.current=w,Fu?(Fu=!1,Ns=e,Wo=o):p_(e,V),V=e.pendingLanes,V===0&&(Rr=null),oo(w.stateNode),si(e),i!==null)for(h=e.onRecoverableError,w=0;w<i.length;w++)V=i[w],h(V.value,{componentStack:V.stack});return(Wo&3)!==0&&Da(),V=e.pendingLanes,(o&4194218)!==0&&(V&42)!==0?e===Uf?Zo++:(Zo=0,Uf=e):Zo=0,Jo(0),null}function p_(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,ko(i)))}function Da(){if(Ns!==null){var e=Ns,i=Pf;Pf=0;var a=Xl(Wo),o=S.T,h=nt.p;try{if(nt.p=32>a?32:a,S.T=null,Ns===null)var d=!1;else{a=kf,kf=null;var v=Ns,E=Wo;if(Ns=null,Wo=0,(ie&6)!==0)throw Error(s(331));var w=ie;if(ie|=4,t_(v.current),Wp(v,v.current,E,a),ie=w,Jo(0,!1),He&&typeof He.onPostCommitFiberRoot=="function")try{He.onPostCommitFiberRoot(Wi,v)}catch{}d=!0}return d}finally{nt.p=h,S.T=o,p_(e,i)}}return!1}function __(e,i,a){i=wn(a,i),i=rf(e.stateNode,i,2),e=Er(e,i,2),e!==null&&(ce(e,2),si(e))}function $t(e,i,a){if(e.tag===3)__(e,e,a);else for(;i!==null;){if(i.tag===3){__(i,e,a);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Rr===null||!Rr.has(o))){e=wn(a,e),a=Ep(2),o=Er(i,a,2),o!==null&&(Tp(a,o,i,e),ce(o,2),si(o));break}}i=i.return}}function Bf(e,i,a){var o=e.pingCache;if(o===null){o=e.pingCache=new B0;var h=new Set;o.set(i,h)}else h=o.get(i),h===void 0&&(h=new Set,o.set(i,h));h.has(a)||(Of=!0,h.add(a),e=Q0.bind(null,e,i,a),i.then(e,e))}function Q0(e,i,a){var o=e.pingCache;o!==null&&o.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Wt===e&&(Ut&a)===a&&(le===4||le===3&&(Ut&62914560)===Ut&&300>nn()-Vf?(ie&2)===0&&Ia(e,0):Nf|=a,Ra===Ut&&(Ra=0)),si(e)}function y_(e,i){i===0&&(i=tr()),e=fr(e,i),e!==null&&(ce(e,i),si(e))}function Y0(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),y_(e,a)}function X0(e,i){var a=0;switch(e.tag){case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(i),y_(e,a)}function $0(e,i){return es(e,i)}var Qu=null,Oa=null,qf=!1,Yu=!1,Hf=!1,Ms=0;function si(e){e!==Oa&&e.next===null&&(Oa===null?Qu=Oa=e:Oa=Oa.next=e),Yu=!0,qf||(qf=!0,Z0(W0))}function Jo(e,i){if(!Hf&&Yu){Hf=!0;do for(var a=!1,o=Qu;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var d=0;else{var v=o.suspendedLanes,E=o.pingedLanes;d=(1<<31-We(42|e)+1)-1,d&=h&~(v&~E),d=d&201326677?d&201326677|1:d?d|2:0}d!==0&&(a=!0,T_(o,d))}else d=Ut,d=yn(o,o===Wt?d:0),(d&3)===0||Ji(o,d)||(a=!0,T_(o,d));o=o.next}while(a);Hf=!1}}function W0(){Yu=qf=!1;var e=0;Ms!==0&&(aA()&&(e=Ms),Ms=0);for(var i=nn(),a=null,o=Qu;o!==null;){var h=o.next,d=v_(o,i);d===0?(o.next=null,a===null?Qu=h:a.next=h,h===null&&(Oa=a)):(a=o,(e!==0||(d&3)!==0)&&(Yu=!0)),o=h}Jo(e)}function v_(e,i){for(var a=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var v=31-We(d),E=1<<v,w=h[v];w===-1?((E&a)===0||(E&o)!==0)&&(h[v]=Ys(E,i)):w<=i&&(e.expiredLanes|=E),d&=~E}if(i=Wt,a=Ut,a=yn(e,e===i?a:0),o=e.callbackNode,a===0||e===i&&Zt===2||e.cancelPendingCommit!==null)return o!==null&&o!==null&&Qs(o),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Ji(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(o!==null&&Qs(o),Xl(a)){case 2:case 8:a=Ie;break;case 32:a=gi;break;case 268435456:a=ao;break;default:a=gi}return o=E_.bind(null,e),a=es(a,o),e.callbackPriority=i,e.callbackNode=a,i}return o!==null&&o!==null&&Qs(o),e.callbackPriority=2,e.callbackNode=null,2}function E_(e,i){var a=e.callbackNode;if(Da()&&e.callbackNode!==a)return null;var o=Ut;return o=yn(e,e===Wt?o:0),o===0?null:(o_(e,o,i),v_(e,nn()),e.callbackNode!=null&&e.callbackNode===a?E_.bind(null,e):null)}function T_(e,i){if(Da())return null;o_(e,i,!0)}function Z0(e){lA(function(){(ie&6)!==0?es(ye,e):e()})}function Ff(){return Ms===0&&(Ms=uo()),Ms}function A_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Yn(""+e)}function S_(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function J0(e,i,a,o,h){if(i==="submit"&&a&&a.stateNode===h){var d=A_((h[ve]||null).action),v=o.submitter;v&&(i=(i=v[ve]||null)?A_(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var E=new ea("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ms!==0){var w=v?S_(h,v):new FormData(h);Zh(a,{pending:!0,data:w,method:h.method,action:d},null,w)}}else typeof d=="function"&&(E.preventDefault(),w=v?S_(h,v):new FormData(h),Zh(a,{pending:!0,data:w,method:h.method,action:d},d,w))},currentTarget:h}]})}}for(var Gf=0;Gf<gg.length;Gf++){var Kf=gg[Gf],tA=Kf.toLowerCase(),eA=Kf[0].toUpperCase()+Kf.slice(1);Ln(tA,"on"+eA)}Ln(cg,"onAnimationEnd"),Ln(hg,"onAnimationIteration"),Ln(fg,"onAnimationStart"),Ln("dblclick","onDoubleClick"),Ln("focusin","onFocus"),Ln("focusout","onBlur"),Ln(y0,"onTransitionRun"),Ln(v0,"onTransitionStart"),Ln(E0,"onTransitionCancel"),Ln(dg,"onTransitionEnd"),rn("onMouseEnter",["mouseout","mouseover"]),rn("onMouseLeave",["mouseout","mouseover"]),rn("onPointerEnter",["pointerout","pointerover"]),rn("onPointerLeave",["pointerout","pointerover"]),un("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),un("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),un("onBeforeInput",["compositionend","keypress","textInput","paste"]),un("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),un("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),un("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var tl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(tl));function b_(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],h=o.event;o=o.listeners;t:{var d=void 0;if(i)for(var v=o.length-1;0<=v;v--){var E=o[v],w=E.instance,V=E.currentTarget;if(E=E.listener,w!==d&&h.isPropagationStopped())break t;d=E,h.currentTarget=V;try{d(h)}catch(H){Pu(H)}h.currentTarget=null,d=w}else for(v=0;v<o.length;v++){if(E=o[v],w=E.instance,V=E.currentTarget,E=E.listener,w!==d&&h.isPropagationStopped())break t;d=E,h.currentTarget=V;try{d(h)}catch(H){Pu(H)}h.currentTarget=null,d=w}}}}function Vt(e,i){var a=i[is];a===void 0&&(a=i[is]=new Set);var o=e+"__bubble";a.has(o)||(w_(i,e,2,!1),a.add(o))}function Qf(e,i,a){var o=0;i&&(o|=4),w_(a,e,o,i)}var Xu="_reactListening"+Math.random().toString(36).slice(2);function Yf(e){if(!e[Xu]){e[Xu]=!0,ho.forEach(function(a){a!=="selectionchange"&&(nA.has(a)||Qf(a,!1,e),Qf(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[Xu]||(i[Xu]=!0,Qf("selectionchange",!1,i))}}function w_(e,i,a,o){switch(Y_(i)){case 2:var h=CA;break;case 8:h=DA;break;default:h=od}a=h.bind(null,i,a,e),h=void 0,!An||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function Xf(e,i,a,o,h){var d=o;if((i&1)===0&&(i&2)===0&&o!==null)t:for(;;){if(o===null)return;var v=o.tag;if(v===3||v===4){var E=o.stateNode.containerInfo;if(E===h||E.nodeType===8&&E.parentNode===h)break;if(v===4)for(v=o.return;v!==null;){var w=v.tag;if((w===3||w===4)&&(w=v.stateNode.containerInfo,w===h||w.nodeType===8&&w.parentNode===h))return;v=v.return}for(;E!==null;){if(v=Un(E),v===null)return;if(w=v.tag,w===5||w===6||w===26||w===27){o=d=v;continue t}E=E.parentNode}}o=o.return}tu(function(){var V=d,H=ta(a),K=[];t:{var z=mg.get(e);if(z!==void 0){var q=ea,at=e;switch(e){case"keypress":if($n(a)===0)break t;case"keydown":case"keyup":q=oa;break;case"focusin":at="focus",q=ra;break;case"focusout":at="blur",q=ra;break;case"beforeblur":case"afterblur":q=ra;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Sn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=Eh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=lu;break;case cg:case hg:case fg:q=sa;break;case dg:q=cu;break;case"scroll":case"scrollend":q=eu;break;case"wheel":q=la;break;case"copy":case"cut":case"paste":q=aa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=bo;break;case"toggle":case"beforetoggle":q=fu}var At=(i&4)!==0,ue=!At&&(e==="scroll"||e==="scrollend"),k=At?z!==null?z+"Capture":null:z;At=[];for(var N=V,x;N!==null;){var F=N;if(x=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||x===null||k===null||(F=ls(N,k),F!=null&&At.push(el(N,F,x))),ue)break;N=N.return}0<At.length&&(z=new q(z,at,null,a,H),K.push({event:z,listeners:At}))}}if((i&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",z&&a!==Tn&&(at=a.relatedTarget||a.fromElement)&&(Un(at)||at[pi]))break t;if((q||z)&&(z=H.window===H?H:(z=H.ownerDocument)?z.defaultView||z.parentWindow:window,q?(at=a.relatedTarget||a.toElement,q=V,at=at?Un(at):null,at!==null&&(ue=ht(at),At=at.tag,at!==ue||At!==5&&At!==27&&At!==6)&&(at=null)):(q=null,at=V),q!==at)){if(At=Sn,F="onMouseLeave",k="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(At=bo,F="onPointerLeave",k="onPointerEnter",N="pointer"),ue=q==null?z:sr(q),x=at==null?z:sr(at),z=new At(F,N+"leave",q,a,H),z.target=ue,z.relatedTarget=x,F=null,Un(H)===V&&(At=new At(k,N+"enter",at,a,H),At.target=x,At.relatedTarget=ue,F=At),ue=F,q&&at)e:{for(At=q,k=at,N=0,x=At;x;x=Na(x))N++;for(x=0,F=k;F;F=Na(F))x++;for(;0<N-x;)At=Na(At),N--;for(;0<x-N;)k=Na(k),x--;for(;N--;){if(At===k||k!==null&&At===k.alternate)break e;At=Na(At),k=Na(k)}At=null}else At=null;q!==null&&R_(K,z,q,At,!1),at!==null&&ue!==null&&R_(K,ue,at,At,!0)}}t:{if(z=V?sr(V):window,q=z.nodeName&&z.nodeName.toLowerCase(),q==="select"||q==="input"&&z.type==="file")var rt=Jm;else if(Te(z))if(tg)rt=m0;else{rt=f0;var Dt=h0}else q=z.nodeName,!q||q.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?V&&_o(V.elementType)&&(rt=Jm):rt=d0;if(rt&&(rt=rt(e,V))){bi(K,rt,a,H);break t}Dt&&Dt(e,z,V),e==="focusout"&&V&&z.type==="number"&&V.memoizedProps.value!=null&&Js(z,"number",z.value)}switch(Dt=V?sr(V):window,e){case"focusin":(Te(Dt)||Dt.contentEditable==="true")&&(ua=Dt,wh=V,Io=null);break;case"focusout":Io=wh=ua=null;break;case"mousedown":Rh=!0;break;case"contextmenu":case"mouseup":case"dragend":Rh=!1,lg(K,a,H);break;case"selectionchange":if(_0)break;case"keydown":case"keyup":lg(K,a,H)}var ut;if(Jn)t:{switch(e){case"compositionstart":var gt="onCompositionStart";break t;case"compositionend":gt="onCompositionEnd";break t;case"compositionupdate":gt="onCompositionUpdate";break t}gt=void 0}else Pt?B(e,a)&&(gt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(gt="onCompositionStart");gt&&(y&&a.locale!=="ko"&&(Pt||gt!=="onCompositionStart"?gt==="onCompositionEnd"&&Pt&&(ut=vo()):(Xn=H,hr="value"in Xn?Xn.value:Xn.textContent,Pt=!0)),Dt=$u(V,gt),0<Dt.length&&(gt=new Ao(gt,e,null,a,H),K.push({event:gt,listeners:Dt}),ut?gt.data=ut:(ut=Z(a),ut!==null&&(gt.data=ut)))),(ut=m?Ee(e,a):kt(e,a))&&(gt=$u(V,"onBeforeInput"),0<gt.length&&(Dt=new Ao("onBeforeInput","beforeinput",null,a,H),K.push({event:Dt,listeners:gt}),Dt.data=ut)),J0(K,e,V,a,H)}b_(K,i)})}function el(e,i,a){return{instance:e,listener:i,currentTarget:a}}function $u(e,i){for(var a=i+"Capture",o=[];e!==null;){var h=e,d=h.stateNode;h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=ls(e,a),h!=null&&o.unshift(el(e,h,d)),h=ls(e,i),h!=null&&o.push(el(e,h,d))),e=e.return}return o}function Na(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function R_(e,i,a,o,h){for(var d=i._reactName,v=[];a!==null&&a!==o;){var E=a,w=E.alternate,V=E.stateNode;if(E=E.tag,w!==null&&w===o)break;E!==5&&E!==26&&E!==27||V===null||(w=V,h?(V=ls(a,d),V!=null&&v.unshift(el(a,V,w))):h||(V=ls(a,d),V!=null&&v.push(el(a,V,w)))),a=a.return}v.length!==0&&e.push({event:i,listeners:v})}var iA=/\r\n?/g,rA=/\u0000|\uFFFD/g;function I_(e){return(typeof e=="string"?e:""+e).replace(iA,`
`).replace(rA,"")}function C_(e,i){return i=I_(i),I_(e)===i}function Wu(){}function Yt(e,i,a,o,h,d){switch(a){case"children":typeof o=="string"?i==="body"||i==="textarea"&&o===""||En(e,o):(typeof o=="number"||typeof o=="bigint")&&i!=="body"&&En(e,""+o);break;case"className":lr(e,"class",o);break;case"tabIndex":lr(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":lr(e,a,o);break;case"style":Jl(e,o,d);break;case"data":if(i!=="object"){lr(e,"data",o);break}case"src":case"href":if(o===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=Yn(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Yt(e,i,"name",h.name,h,null),Yt(e,i,"formEncType",h.formEncType,h,null),Yt(e,i,"formMethod",h.formMethod,h,null),Yt(e,i,"formTarget",h.formTarget,h,null)):(Yt(e,i,"encType",h.encType,h,null),Yt(e,i,"method",h.method,h,null),Yt(e,i,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=Yn(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=Wu);break;case"onScroll":o!=null&&Vt("scroll",e);break;case"onScrollEnd":o!=null&&Vt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=Yn(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":Vt("beforetoggle",e),Vt("toggle",e),or(e,"popover",o);break;case"xlinkActuate":vn(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":vn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":vn(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":vn(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":vn(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":vn(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":vn(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":vn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":vn(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":or(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=yh.get(a)||a,or(e,a,o))}}function $f(e,i,a,o,h,d){switch(a){case"style":Jl(e,o,d);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof o=="string"?En(e,o):(typeof o=="number"||typeof o=="bigint")&&En(e,""+o);break;case"onScroll":o!=null&&Vt("scroll",e);break;case"onScrollEnd":o!=null&&Vt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Wu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ws.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=e[ve]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(i,d,h),typeof o=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,o,h);break t}a in e?e[a]=o:o===!0?e.setAttribute(a,""):or(e,a,o)}}}function xe(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Vt("error",e),Vt("load",e);var o=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Yt(e,i,d,v,a,null)}}h&&Yt(e,i,"srcSet",a.srcSet,a,null),o&&Yt(e,i,"src",a.src,a,null);return;case"input":Vt("invalid",e);var E=d=v=h=null,w=null,V=null;for(o in a)if(a.hasOwnProperty(o)){var H=a[o];if(H!=null)switch(o){case"name":h=H;break;case"type":v=H;break;case"checked":w=H;break;case"defaultChecked":V=H;break;case"value":d=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,i));break;default:Yt(e,i,o,H,a,null)}}as(e,d,E,w,V,v,h,!1),ss(e);return;case"select":Vt("invalid",e),o=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":d=E;break;case"defaultValue":v=E;break;case"multiple":o=E;default:Yt(e,i,h,E,a,null)}i=d,a=v,e.multiple=!!o,i!=null?zt(e,!!o,i,!1):a!=null&&zt(e,!!o,a,!0);return;case"textarea":Vt("invalid",e),d=h=o=null;for(v in a)if(a.hasOwnProperty(v)&&(E=a[v],E!=null))switch(v){case"value":o=E;break;case"defaultValue":h=E;break;case"children":d=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Yt(e,i,v,E,a,null)}cr(e,o,h,d),ss(e);return;case"option":for(w in a)if(a.hasOwnProperty(w)&&(o=a[w],o!=null))switch(w){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Yt(e,i,w,o,a,null)}return;case"dialog":Vt("cancel",e),Vt("close",e);break;case"iframe":case"object":Vt("load",e);break;case"video":case"audio":for(o=0;o<tl.length;o++)Vt(tl[o],e);break;case"image":Vt("error",e),Vt("load",e);break;case"details":Vt("toggle",e);break;case"embed":case"source":case"link":Vt("error",e),Vt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(V in a)if(a.hasOwnProperty(V)&&(o=a[V],o!=null))switch(V){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Yt(e,i,V,o,a,null)}return;default:if(_o(i)){for(H in a)a.hasOwnProperty(H)&&(o=a[H],o!==void 0&&$f(e,i,H,o,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(o=a[E],o!=null&&Yt(e,i,E,o,a,null))}function sA(e,i,a,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,E=null,w=null,V=null,H=null;for(q in a){var K=a[q];if(a.hasOwnProperty(q)&&K!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":w=K;default:o.hasOwnProperty(q)||Yt(e,i,q,null,o,K)}}for(var z in o){var q=o[z];if(K=a[z],o.hasOwnProperty(z)&&(q!=null||K!=null))switch(z){case"type":d=q;break;case"name":h=q;break;case"checked":V=q;break;case"defaultChecked":H=q;break;case"value":v=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,i));break;default:q!==K&&Yt(e,i,z,q,o,K)}}ur(e,v,E,w,V,H,d,h);return;case"select":q=v=E=z=null;for(d in a)if(w=a[d],a.hasOwnProperty(d)&&w!=null)switch(d){case"value":break;case"multiple":q=w;default:o.hasOwnProperty(d)||Yt(e,i,d,null,o,w)}for(h in o)if(d=o[h],w=a[h],o.hasOwnProperty(h)&&(d!=null||w!=null))switch(h){case"value":z=d;break;case"defaultValue":E=d;break;case"multiple":v=d;default:d!==w&&Yt(e,i,h,d,o,w)}i=E,a=v,o=q,z!=null?zt(e,!!a,z,!1):!!o!=!!a&&(i!=null?zt(e,!!a,i,!0):zt(e,!!a,a?[]:"",!1));return;case"textarea":q=z=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Yt(e,i,E,null,o,h)}for(v in o)if(h=o[v],d=a[v],o.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":z=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Yt(e,i,v,h,o,d)}os(e,z,q);return;case"option":for(var at in a)if(z=a[at],a.hasOwnProperty(at)&&z!=null&&!o.hasOwnProperty(at))switch(at){case"selected":e.selected=!1;break;default:Yt(e,i,at,null,o,z)}for(w in o)if(z=o[w],q=a[w],o.hasOwnProperty(w)&&z!==q&&(z!=null||q!=null))switch(w){case"selected":e.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:Yt(e,i,w,z,o,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var At in a)z=a[At],a.hasOwnProperty(At)&&z!=null&&!o.hasOwnProperty(At)&&Yt(e,i,At,null,o,z);for(V in o)if(z=o[V],q=a[V],o.hasOwnProperty(V)&&z!==q&&(z!=null||q!=null))switch(V){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(s(137,i));break;default:Yt(e,i,V,z,o,q)}return;default:if(_o(i)){for(var ue in a)z=a[ue],a.hasOwnProperty(ue)&&z!==void 0&&!o.hasOwnProperty(ue)&&$f(e,i,ue,void 0,o,z);for(H in o)z=o[H],q=a[H],!o.hasOwnProperty(H)||z===q||z===void 0&&q===void 0||$f(e,i,H,z,o,q);return}}for(var k in a)z=a[k],a.hasOwnProperty(k)&&z!=null&&!o.hasOwnProperty(k)&&Yt(e,i,k,null,o,z);for(K in o)z=o[K],q=a[K],!o.hasOwnProperty(K)||z===q||z==null&&q==null||Yt(e,i,K,z,o,q)}var Wf=null,Zf=null;function Zu(e){return e.nodeType===9?e:e.ownerDocument}function D_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function O_(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function Jf(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var td=null;function aA(){var e=window.event;return e&&e.type==="popstate"?e===td?!1:(td=e,!0):(td=null,!1)}var N_=typeof setTimeout=="function"?setTimeout:void 0,oA=typeof clearTimeout=="function"?clearTimeout:void 0,M_=typeof Promise=="function"?Promise:void 0,lA=typeof queueMicrotask=="function"?queueMicrotask:typeof M_<"u"?function(e){return M_.resolve(null).then(e).catch(uA)}:N_;function uA(e){setTimeout(function(){throw e})}function ed(e,i){var a=i,o=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"){if(o===0){e.removeChild(h),ul(i);return}o--}else a!=="$"&&a!=="$?"&&a!=="$!"||o++;a=h}while(a);ul(i)}function nd(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":nd(a),rs(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function cA(e,i,a,o){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[rr])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=jn(e.nextSibling),e===null)break}return null}function hA(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=jn(e.nextSibling),e===null))return null;return e}function jn(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return e}function V_(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return e;i--}else a==="/$"&&i++}e=e.previousSibling}return null}function P_(e,i,a){switch(i=Zu(a),e){case"html":if(e=i.documentElement,!e)throw Error(s(452));return e;case"head":if(e=i.head,!e)throw Error(s(453));return e;case"body":if(e=i.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}var Vn=new Map,k_=new Set;function Ju(e){return typeof e.getRootNode=="function"?e.getRootNode():e.ownerDocument}var zi=nt.d;nt.d={f:fA,r:dA,D:mA,C:gA,L:pA,m:_A,X:vA,S:yA,M:EA};function fA(){var e=zi.f(),i=Gu();return e||i}function dA(e){var i=_i(e);i!==null&&i.tag===5&&i.type==="form"?lp(i):zi.r(e)}var Ma=typeof document>"u"?null:document;function U_(e,i,a){var o=Ma;if(o&&typeof i=="string"&&i){var h=ae(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),k_.has(h)||(k_.add(h),e={rel:e,crossOrigin:a,href:i},o.querySelector(h)===null&&(i=o.createElement("link"),xe(i,"link",e),ee(i),o.head.appendChild(i)))}}function mA(e){zi.D(e),U_("dns-prefetch",e,null)}function gA(e,i){zi.C(e,i),U_("preconnect",e,i)}function pA(e,i,a){zi.L(e,i,a);var o=Ma;if(o&&e&&i){var h='link[rel="preload"][as="'+ae(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+ae(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+ae(a.imageSizes)+'"]')):h+='[href="'+ae(e)+'"]';var d=h;switch(i){case"style":d=Va(e);break;case"script":d=Pa(e)}Vn.has(d)||(e=I({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),Vn.set(d,e),o.querySelector(h)!==null||i==="style"&&o.querySelector(nl(d))||i==="script"&&o.querySelector(il(d))||(i=o.createElement("link"),xe(i,"link",e),ee(i),o.head.appendChild(i)))}}function _A(e,i){zi.m(e,i);var a=Ma;if(a&&e){var o=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+ae(o)+'"][href="'+ae(e)+'"]',d=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Pa(e)}if(!Vn.has(d)&&(e=I({rel:"modulepreload",href:e},i),Vn.set(d,e),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(il(d)))return}o=a.createElement("link"),xe(o,"link",e),ee(o),a.head.appendChild(o)}}}function yA(e,i,a){zi.S(e,i,a);var o=Ma;if(o&&e){var h=ar(o).hoistableStyles,d=Va(e);i=i||"default";var v=h.get(d);if(!v){var E={loading:0,preload:null};if(v=o.querySelector(nl(d)))E.loading=5;else{e=I({rel:"stylesheet",href:e,"data-precedence":i},a),(a=Vn.get(d))&&id(e,a);var w=v=o.createElement("link");ee(w),xe(w,"link",e),w._p=new Promise(function(V,H){w.onload=V,w.onerror=H}),w.addEventListener("load",function(){E.loading|=1}),w.addEventListener("error",function(){E.loading|=2}),E.loading|=4,tc(v,i,o)}v={type:"stylesheet",instance:v,count:1,state:E},h.set(d,v)}}}function vA(e,i){zi.X(e,i);var a=Ma;if(a&&e){var o=ar(a).hoistableScripts,h=Pa(e),d=o.get(h);d||(d=a.querySelector(il(h)),d||(e=I({src:e,async:!0},i),(i=Vn.get(h))&&rd(e,i),d=a.createElement("script"),ee(d),xe(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(h,d))}}function EA(e,i){zi.M(e,i);var a=Ma;if(a&&e){var o=ar(a).hoistableScripts,h=Pa(e),d=o.get(h);d||(d=a.querySelector(il(h)),d||(e=I({src:e,async:!0,type:"module"},i),(i=Vn.get(h))&&rd(e,i),d=a.createElement("script"),ee(d),xe(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(h,d))}}function L_(e,i,a,o){var h=(h=_n.current)?Ju(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Va(a.href),a=ar(h).hoistableStyles,o=a.get(i),o||(o={type:"style",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Va(a.href);var d=ar(h).hoistableStyles,v=d.get(e);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,v),(d=h.querySelector(nl(e)))&&!d._p&&(v.instance=d,v.state.loading=5),Vn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Vn.set(e,a),d||TA(h,e,a,v.state))),i&&o===null)throw Error(s(528,""));return v}if(i&&o!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Pa(a),a=ar(h).hoistableScripts,o=a.get(i),o||(o={type:"script",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Va(e){return'href="'+ae(e)+'"'}function nl(e){return'link[rel="stylesheet"]['+e+"]"}function x_(e){return I({},e,{"data-precedence":e.precedence,precedence:null})}function TA(e,i,a,o){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=e.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),xe(i,"link",a),ee(i),e.head.appendChild(i))}function Pa(e){return'[src="'+ae(e)+'"]'}function il(e){return"script[async]"+e}function z_(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var o=e.querySelector('style[data-href~="'+ae(a.href)+'"]');if(o)return i.instance=o,ee(o),o;var h=I({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),ee(o),xe(o,"style",h),tc(o,a.precedence,e),i.instance=o;case"stylesheet":h=Va(a.href);var d=e.querySelector(nl(h));if(d)return i.state.loading|=4,i.instance=d,ee(d),d;o=x_(a),(h=Vn.get(h))&&id(o,h),d=(e.ownerDocument||e).createElement("link"),ee(d);var v=d;return v._p=new Promise(function(E,w){v.onload=E,v.onerror=w}),xe(d,"link",o),i.state.loading|=4,tc(d,a.precedence,e),i.instance=d;case"script":return d=Pa(a.src),(h=e.querySelector(il(d)))?(i.instance=h,ee(h),h):(o=a,(h=Vn.get(d))&&(o=I({},a),rd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),ee(h),xe(h,"link",o),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(o=i.instance,i.state.loading|=4,tc(o,a.precedence,e));return i.instance}function tc(e,i,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,d=h,v=0;v<o.length;v++){var E=o[v];if(E.dataset.precedence===i)d=E;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function id(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function rd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var ec=null;function j_(e,i,a){if(ec===null){var o=new Map,h=ec=new Map;h.set(a,o)}else h=ec,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var d=a[h];if(!(d[rr]||d[Ce]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=e+v;var E=o.get(v);E?E.push(d):o.set(v,[d])}}return o}function B_(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function AA(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function q_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var rl=null;function SA(){}function bA(e,i,a){if(rl===null)throw Error(s(475));var o=rl;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=Va(a.href),d=e.querySelector(nl(h));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(o.count++,o=nc.bind(o),e.then(o,o)),i.state.loading|=4,i.instance=d,ee(d);return}d=e.ownerDocument||e,a=x_(a),(h=Vn.get(h))&&id(a,h),d=d.createElement("link"),ee(d);var v=d;v._p=new Promise(function(E,w){v.onload=E,v.onerror=w}),xe(d,"link",a),i.instance=d}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(i,e),(e=i.state.preload)&&(i.state.loading&3)===0&&(o.count++,i=nc.bind(o),e.addEventListener("load",i),e.addEventListener("error",i))}}function wA(){if(rl===null)throw Error(s(475));var e=rl;return e.stylesheets&&e.count===0&&sd(e,e.stylesheets),0<e.count?function(i){var a=setTimeout(function(){if(e.stylesheets&&sd(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(a)}}:null}function nc(){if(this.count--,this.count===0){if(this.stylesheets)sd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ic=null;function sd(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ic=new Map,i.forEach(RA,e),ic=null,nc.call(e))}function RA(e,i){if(!(i.state.loading&4)){var a=ic.get(e);if(a)var o=a.get(null);else{a=new Map,ic.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),o=v)}o&&a.set(null,o)}h=i.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||o,d===o&&a.set(null,h),a.set(v,h),this.count++,o=nc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var sl={$$typeof:j,Provider:null,Consumer:null,_currentValue:Rt,_currentValue2:Rt,_threadCount:0};function IA(e,i,a,o,h,d,v,E){this.tag=1,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Xs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xs(0),this.hiddenUpdates=Xs(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function H_(e,i,a,o,h,d,v,E,w,V,H,K){return e=new IA(e,i,a,v,E,w,V,K),i=1,d===!0&&(i|=24),d=Nn(3,null,null,i),e.current=d,d.stateNode=e,i=Uh(),i.refCount++,e.pooledCache=i,i.refCount++,d.memoizedState={element:o,isDehydrated:a,cache:i},_f(d),e}function F_(e){return e?(e=fa,e):fa}function G_(e,i,a,o,h,d){h=F_(h),o.context===null?o.context=h:o.pendingContext=h,o=vr(i),o.payload={element:a},d=d===void 0?null:d,d!==null&&(o.callback=d),a=Er(e,o,i),a!==null&&(en(a,e,i),qo(a,e,i))}function K_(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function ad(e,i){K_(e,i),(e=e.alternate)&&K_(e,i)}function Q_(e){if(e.tag===13){var i=fr(e,67108864);i!==null&&en(i,e,67108864),ad(e,67108864)}}var rc=!0;function CA(e,i,a,o){var h=S.T;S.T=null;var d=nt.p;try{nt.p=2,od(e,i,a,o)}finally{nt.p=d,S.T=h}}function DA(e,i,a,o){var h=S.T;S.T=null;var d=nt.p;try{nt.p=8,od(e,i,a,o)}finally{nt.p=d,S.T=h}}function od(e,i,a,o){if(rc){var h=ld(o);if(h===null)Xf(e,i,o,sc,a),X_(e,o);else if(NA(h,e,i,a,o))o.stopPropagation();else if(X_(e,o),i&4&&-1<OA.indexOf(e)){for(;h!==null;){var d=_i(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=kn(d.pendingLanes);if(v!==0){var E=d;for(E.pendingLanes|=2,E.entangledLanes|=2;v;){var w=1<<31-We(v);E.entanglements[1]|=w,v&=~w}si(d),(ie&6)===0&&(qu=nn()+500,Jo(0))}}break;case 13:E=fr(d,2),E!==null&&en(E,d,2),Gu(),ad(d,2)}if(d=ld(o),d===null&&Xf(e,i,o,sc,a),d===h)break;h=d}h!==null&&o.stopPropagation()}else Xf(e,i,o,null,a)}}function ld(e){return e=ta(e),ud(e)}var sc=null;function ud(e){if(sc=null,e=Un(e),e!==null){var i=ht(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=Ht(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return sc=e,null}function Y_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Fl()){case ye:return 2;case Ie:return 8;case gi:case Gl:return 32;case ao:return 268435456;default:return 32}default:return 32}}var cd=!1,Ir=null,Cr=null,Dr=null,al=new Map,ol=new Map,Or=[],OA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function X_(e,i){switch(e){case"focusin":case"focusout":Ir=null;break;case"dragenter":case"dragleave":Cr=null;break;case"mouseover":case"mouseout":Dr=null;break;case"pointerover":case"pointerout":al.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":ol.delete(i.pointerId)}}function ll(e,i,a,o,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:i,domEventName:a,eventSystemFlags:o,nativeEvent:d,targetContainers:[h]},i!==null&&(i=_i(i),i!==null&&Q_(i)),e):(e.eventSystemFlags|=o,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function NA(e,i,a,o,h){switch(i){case"focusin":return Ir=ll(Ir,e,i,a,o,h),!0;case"dragenter":return Cr=ll(Cr,e,i,a,o,h),!0;case"mouseover":return Dr=ll(Dr,e,i,a,o,h),!0;case"pointerover":var d=h.pointerId;return al.set(d,ll(al.get(d)||null,e,i,a,o,h)),!0;case"gotpointercapture":return d=h.pointerId,ol.set(d,ll(ol.get(d)||null,e,i,a,o,h)),!0}return!1}function $_(e){var i=Un(e.target);if(i!==null){var a=ht(i);if(a!==null){if(i=a.tag,i===13){if(i=Ht(a),i!==null){e.blockedOn=i,ir(e.priority,function(){if(a.tag===13){var o=gn(),h=fr(a,o);h!==null&&en(h,a,o),ad(a,o)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ac(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=ld(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);Tn=o,a.target.dispatchEvent(o),Tn=null}else return i=_i(a),i!==null&&Q_(i),e.blockedOn=a,!1;i.shift()}return!0}function W_(e,i,a){ac(e)&&a.delete(i)}function MA(){cd=!1,Ir!==null&&ac(Ir)&&(Ir=null),Cr!==null&&ac(Cr)&&(Cr=null),Dr!==null&&ac(Dr)&&(Dr=null),al.forEach(W_),ol.forEach(W_)}function oc(e,i){e.blockedOn===i&&(e.blockedOn=null,cd||(cd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,MA)))}var lc=null;function Z_(e){lc!==e&&(lc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){lc===e&&(lc=null);for(var i=0;i<e.length;i+=3){var a=e[i],o=e[i+1],h=e[i+2];if(typeof o!="function"){if(ud(o||a)===null)continue;break}var d=_i(a);d!==null&&(e.splice(i,3),i-=3,Zh(d,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function ul(e){function i(w){return oc(w,e)}Ir!==null&&oc(Ir,e),Cr!==null&&oc(Cr,e),Dr!==null&&oc(Dr,e),al.forEach(i),ol.forEach(i);for(var a=0;a<Or.length;a++){var o=Or[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Or.length&&(a=Or[0],a.blockedOn===null);)$_(a),a.blockedOn===null&&Or.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],d=a[o+1],v=h[ve]||null;if(typeof d=="function")v||Z_(a);else if(v){var E=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[ve]||null)E=v.formAction;else if(ud(h)!==null)continue}else E=v.action;typeof E=="function"?a[o+1]=E:(a.splice(o,3),o-=3),Z_(a)}}}function hd(e){this._internalRoot=e}uc.prototype.render=hd.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,o=gn();G_(a,o,e,i,null,null)},uc.prototype.unmount=hd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;e.tag===0&&Da(),G_(e.current,2,null,e,null,null),Gu(),i[pi]=null}};function uc(e){this._internalRoot=e}uc.prototype.unstable_scheduleHydration=function(e){if(e){var i=$l();e={blockedOn:null,target:e,priority:i};for(var a=0;a<Or.length&&i!==0&&i<Or[a].priority;a++);Or.splice(a,0,e),a===0&&$_(e)}};var J_=t.version;if(J_!=="19.0.0")throw Error(s(527,J_,"19.0.0"));nt.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=W(i),e=e!==null?ot(e):null,e=e===null?null:e.stateNode,e};var VA={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:S,findFiberByHostInstance:Un,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cc.isDisabled&&cc.supportsFiber)try{Wi=cc.inject(VA),He=cc}catch{}}return hl.createRoot=function(e,i){if(!l(e))throw Error(s(299));var a=!1,o="",h=pp,d=_p,v=yp,E=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(E=i.unstable_transitionCallbacks)),i=H_(e,1,!1,null,null,a,o,h,d,v,E,null),e[pi]=i.current,Yf(e.nodeType===8?e.parentNode:e),new hd(i)},hl.hydrateRoot=function(e,i,a){if(!l(e))throw Error(s(299));var o=!1,h="",d=pp,v=_p,E=yp,w=null,V=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(w=a.unstable_transitionCallbacks),a.formState!==void 0&&(V=a.formState)),i=H_(e,1,!0,i,a??null,o,h,d,v,E,w,V),i.context=F_(null),a=i.current,o=gn(),h=vr(o),h.callback=null,Er(a,h,o),i.current.lanes=o,ce(i,o),si(i),e[pi]=i.current,Yf(e),new uc(i)},hl.version="19.0.0",hl}var uy;function GA(){if(uy)return md.exports;uy=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),md.exports=FA(),md.exports}var KA=GA();const QA=()=>{};var cy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uv=function(r){const t=[];let n=0;for(let s=0;s<r.length;s++){let l=r.charCodeAt(s);l<128?t[n++]=l:l<2048?(t[n++]=l>>6|192,t[n++]=l&63|128):(l&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++s)&1023),t[n++]=l>>18|240,t[n++]=l>>12&63|128,t[n++]=l>>6&63|128,t[n++]=l&63|128):(t[n++]=l>>12|224,t[n++]=l>>6&63|128,t[n++]=l&63|128)}return t},YA=function(r){const t=[];let n=0,s=0;for(;n<r.length;){const l=r[n++];if(l<128)t[s++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[n++];t[s++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[n++],f=r[n++],g=r[n++],p=((l&7)<<18|(c&63)<<12|(f&63)<<6|g&63)-65536;t[s++]=String.fromCharCode(55296+(p>>10)),t[s++]=String.fromCharCode(56320+(p&1023))}else{const c=r[n++],f=r[n++];t[s++]=String.fromCharCode((l&15)<<12|(c&63)<<6|f&63)}}return t.join("")},Lv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<r.length;l+=3){const c=r[l],f=l+1<r.length,g=f?r[l+1]:0,p=l+2<r.length,_=p?r[l+2]:0,A=c>>2,R=(c&3)<<4|g>>4;let P=(g&15)<<2|_>>6,j=_&63;p||(j=64,f||(P=64)),s.push(n[A],n[R],n[P],n[j])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(Uv(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):YA(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<r.length;){const c=n[r.charAt(l++)],g=l<r.length?n[r.charAt(l)]:0;++l;const _=l<r.length?n[r.charAt(l)]:64;++l;const R=l<r.length?n[r.charAt(l)]:64;if(++l,c==null||g==null||_==null||R==null)throw new XA;const P=c<<2|g>>4;if(s.push(P),_!==64){const j=g<<4&240|_>>2;if(s.push(j),R!==64){const Q=_<<6&192|R;s.push(Q)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class XA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const $A=function(r){const t=Uv(r);return Lv.encodeByteArray(t,!0)},Ic=function(r){return $A(r).replace(/\./g,"")},xv=function(r){try{return Lv.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZA=()=>WA().__FIREBASE_DEFAULTS__,JA=()=>{if(typeof process>"u"||typeof cy>"u")return;const r=cy.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},tS=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&xv(r[1]);return t&&JSON.parse(t)},Qc=()=>{try{return QA()||ZA()||JA()||tS()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},zv=r=>{var t,n;return(n=(t=Qc())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[r]},eS=r=>{const t=zv(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},jv=()=>{var r;return(r=Qc())===null||r===void 0?void 0:r.config},Bv=r=>{var t;return(t=Qc())===null||t===void 0?void 0:t[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iS(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Ic(JSON.stringify(n)),Ic(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xe(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function rS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Xe())}function sS(){var r;const t=(r=Qc())===null||r===void 0?void 0:r.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function aS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function oS(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function lS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function uS(){const r=Xe();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function cS(){return!sS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function hS(){try{return typeof indexedDB=="object"}catch{return!1}}function fS(){return new Promise((r,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{var c;t(((c=l.error)===null||c===void 0?void 0:c.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dS="FirebaseError";class Yi extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=dS,Object.setPrototypeOf(this,Yi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vl.prototype.create)}}class Vl{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},l=`${this.service}/${t}`,c=this.errors[t],f=c?mS(c,s):"Error",g=`${this.serviceName}: ${f} (${l}).`;return new Yi(l,g,s)}}function mS(r,t){return r.replace(gS,(n,s)=>{const l=t[s];return l!=null?String(l):`<${s}?>`})}const gS=/\{\$([^}]+)}/g;function pS(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function ks(r,t){if(r===t)return!0;const n=Object.keys(r),s=Object.keys(t);for(const l of n){if(!s.includes(l))return!1;const c=r[l],f=t[l];if(hy(c)&&hy(f)){if(!ks(c,f))return!1}else if(c!==f)return!1}for(const l of s)if(!n.includes(l))return!1;return!0}function hy(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pl(r){const t=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(l=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function fl(r){const t={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[l,c]=s.split("=");t[decodeURIComponent(l)]=decodeURIComponent(c)}}),t}function dl(r){const t=r.indexOf("?");if(!t)return"";const n=r.indexOf("#",t);return r.substring(t,n>0?n:void 0)}function _S(r,t){const n=new yS(r,t);return n.subscribe.bind(n)}class yS{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let l;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");vS(t,["next","error","complete"])?l=t:l={next:t,error:n,complete:s},l.next===void 0&&(l.next=yd),l.error===void 0&&(l.error=yd),l.complete===void 0&&(l.complete=yd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function vS(r,t){if(typeof r!="object"||r===null)return!1;for(const n of t)if(n in r&&typeof r[n]=="function")return!0;return!1}function yd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Be(r){return r&&r._delegate?r._delegate:r}class Us{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new nS;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const s=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),l=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(c){if(l)return null;throw c}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(AS(t))try{this.getOrInitializeService({instanceIdentifier:Vs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:l});s.resolve(c)}catch{}}}}clearInstance(t=Vs){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Vs){return this.instances.has(t)}getOptions(t=Vs){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[c,f]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);s===g&&f.resolve(l)}return l}onInit(t,n){var s;const l=this.normalizeInstanceIdentifier(n),c=(s=this.onInitCallbacks.get(l))!==null&&s!==void 0?s:new Set;c.add(t),this.onInitCallbacks.set(l,c);const f=this.instances.get(l);return f&&t(f,l),()=>{c.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const l of s)try{l(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:TS(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Vs){return this.component?this.component.multipleInstances?t:Vs:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function TS(r){return r===Vs?void 0:r}function AS(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new ES(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Nt||(Nt={}));const bS={debug:Nt.DEBUG,verbose:Nt.VERBOSE,info:Nt.INFO,warn:Nt.WARN,error:Nt.ERROR,silent:Nt.SILENT},wS=Nt.INFO,RS={[Nt.DEBUG]:"log",[Nt.VERBOSE]:"log",[Nt.INFO]:"info",[Nt.WARN]:"warn",[Nt.ERROR]:"error"},IS=(r,t,...n)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),l=RS[t];if(l)console[l](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class am{constructor(t){this.name=t,this._logLevel=wS,this._logHandler=IS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Nt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?bS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Nt.DEBUG,...t),this._logHandler(this,Nt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Nt.VERBOSE,...t),this._logHandler(this,Nt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Nt.INFO,...t),this._logHandler(this,Nt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Nt.WARN,...t),this._logHandler(this,Nt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Nt.ERROR,...t),this._logHandler(this,Nt.ERROR,...t)}}const CS=(r,t)=>t.some(n=>r instanceof n);let fy,dy;function DS(){return fy||(fy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function OS(){return dy||(dy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const qv=new WeakMap,Od=new WeakMap,Hv=new WeakMap,vd=new WeakMap,om=new WeakMap;function NS(r){const t=new Promise((n,s)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",f)},c=()=>{n(zr(r.result)),l()},f=()=>{s(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",f)});return t.then(n=>{n instanceof IDBCursor&&qv.set(n,r)}).catch(()=>{}),om.set(t,r),t}function MS(r){if(Od.has(r))return;const t=new Promise((n,s)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",f),r.removeEventListener("abort",f)},c=()=>{n(),l()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",f),r.addEventListener("abort",f)});Od.set(r,t)}let Nd={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return Od.get(r);if(t==="objectStoreNames")return r.objectStoreNames||Hv.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return zr(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function VS(r){Nd=r(Nd)}function PS(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=r.call(Ed(this),t,...n);return Hv.set(s,t.sort?t.sort():[t]),zr(s)}:OS().includes(r)?function(...t){return r.apply(Ed(this),t),zr(qv.get(this))}:function(...t){return zr(r.apply(Ed(this),t))}}function kS(r){return typeof r=="function"?PS(r):(r instanceof IDBTransaction&&MS(r),CS(r,DS())?new Proxy(r,Nd):r)}function zr(r){if(r instanceof IDBRequest)return NS(r);if(vd.has(r))return vd.get(r);const t=kS(r);return t!==r&&(vd.set(r,t),om.set(t,r)),t}const Ed=r=>om.get(r);function US(r,t,{blocked:n,upgrade:s,blocking:l,terminated:c}={}){const f=indexedDB.open(r,t),g=zr(f);return s&&f.addEventListener("upgradeneeded",p=>{s(zr(f.result),p.oldVersion,p.newVersion,zr(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),g.then(p=>{c&&p.addEventListener("close",()=>c()),l&&p.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),g}const LS=["get","getKey","getAll","getAllKeys","count"],xS=["put","add","delete","clear"],Td=new Map;function my(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Td.get(t))return Td.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,l=xS.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(l||LS.includes(n)))return;const c=async function(f,...g){const p=this.transaction(f,l?"readwrite":"readonly");let _=p.store;return s&&(_=_.index(g.shift())),(await Promise.all([_[n](...g),l&&p.done]))[0]};return Td.set(t,c),c}VS(r=>({...r,get:(t,n,s)=>my(t,n)||r.get(t,n,s),has:(t,n)=>!!my(t,n)||r.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(jS(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function jS(r){const t=r.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Md="@firebase/app",gy="0.11.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fi=new am("@firebase/app"),BS="@firebase/app-compat",qS="@firebase/analytics-compat",HS="@firebase/analytics",FS="@firebase/app-check-compat",GS="@firebase/app-check",KS="@firebase/auth",QS="@firebase/auth-compat",YS="@firebase/database",XS="@firebase/data-connect",$S="@firebase/database-compat",WS="@firebase/functions",ZS="@firebase/functions-compat",JS="@firebase/installations",tb="@firebase/installations-compat",eb="@firebase/messaging",nb="@firebase/messaging-compat",ib="@firebase/performance",rb="@firebase/performance-compat",sb="@firebase/remote-config",ab="@firebase/remote-config-compat",ob="@firebase/storage",lb="@firebase/storage-compat",ub="@firebase/firestore",cb="@firebase/vertexai",hb="@firebase/firestore-compat",fb="firebase",db="11.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vd="[DEFAULT]",mb={[Md]:"fire-core",[BS]:"fire-core-compat",[HS]:"fire-analytics",[qS]:"fire-analytics-compat",[GS]:"fire-app-check",[FS]:"fire-app-check-compat",[KS]:"fire-auth",[QS]:"fire-auth-compat",[YS]:"fire-rtdb",[XS]:"fire-data-connect",[$S]:"fire-rtdb-compat",[WS]:"fire-fn",[ZS]:"fire-fn-compat",[JS]:"fire-iid",[tb]:"fire-iid-compat",[eb]:"fire-fcm",[nb]:"fire-fcm-compat",[ib]:"fire-perf",[rb]:"fire-perf-compat",[sb]:"fire-rc",[ab]:"fire-rc-compat",[ob]:"fire-gcs",[lb]:"fire-gcs-compat",[ub]:"fire-fst",[hb]:"fire-fst-compat",[cb]:"fire-vertex","fire-js":"fire-js",[fb]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cc=new Map,gb=new Map,Pd=new Map;function py(r,t){try{r.container.addComponent(t)}catch(n){Fi.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function Fa(r){const t=r.name;if(Pd.has(t))return Fi.debug(`There were multiple attempts to register component ${t}.`),!1;Pd.set(t,r);for(const n of Cc.values())py(n,r);for(const n of gb.values())py(n,r);return!0}function lm(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function Pn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},jr=new Vl("app","Firebase",pb);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{constructor(t,n,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Us("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw jr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Za=db;function Fv(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const s=Object.assign({name:Vd,automaticDataCollectionEnabled:!1},t),l=s.name;if(typeof l!="string"||!l)throw jr.create("bad-app-name",{appName:String(l)});if(n||(n=jv()),!n)throw jr.create("no-options");const c=Cc.get(l);if(c){if(ks(n,c.options)&&ks(s,c.config))return c;throw jr.create("duplicate-app",{appName:l})}const f=new SS(l);for(const p of Pd.values())f.addComponent(p);const g=new _b(n,s,f);return Cc.set(l,g),g}function Gv(r=Vd){const t=Cc.get(r);if(!t&&r===Vd&&jv())return Fv();if(!t)throw jr.create("no-app",{appName:r});return t}function Br(r,t,n){var s;let l=(s=mb[r])!==null&&s!==void 0?s:r;n&&(l+=`-${n}`);const c=l.match(/\s|\//),f=t.match(/\s|\//);if(c||f){const g=[`Unable to register library "${l}" with version "${t}":`];c&&g.push(`library name "${l}" contains illegal characters (whitespace or "/")`),c&&f&&g.push("and"),f&&g.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Fi.warn(g.join(" "));return}Fa(new Us(`${l}-version`,()=>({library:l,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yb="firebase-heartbeat-database",vb=1,Sl="firebase-heartbeat-store";let Ad=null;function Kv(){return Ad||(Ad=US(yb,vb,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Sl)}catch(n){console.warn(n)}}}}).catch(r=>{throw jr.create("idb-open",{originalErrorMessage:r.message})})),Ad}async function Eb(r){try{const n=(await Kv()).transaction(Sl),s=await n.objectStore(Sl).get(Qv(r));return await n.done,s}catch(t){if(t instanceof Yi)Fi.warn(t.message);else{const n=jr.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Fi.warn(n.message)}}}async function _y(r,t){try{const s=(await Kv()).transaction(Sl,"readwrite");await s.objectStore(Sl).put(t,Qv(r)),await s.done}catch(n){if(n instanceof Yi)Fi.warn(n.message);else{const s=jr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Fi.warn(s.message)}}}function Qv(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tb=1024,Ab=30;class Sb{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new wb(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,n;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=yy();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(f=>f.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:l}),this._heartbeatsCache.heartbeats.length>Ab){const f=Rb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Fi.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=yy(),{heartbeatsToSend:s,unsentEntries:l}=bb(this._heartbeatsCache.heartbeats),c=Ic(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(n){return Fi.warn(n),""}}}function yy(){return new Date().toISOString().substring(0,10)}function bb(r,t=Tb){const n=[];let s=r.slice();for(const l of r){const c=n.find(f=>f.agent===l.agent);if(c){if(c.dates.push(l.date),vy(n)>t){c.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),vy(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class wb{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return hS()?fS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Eb(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const l=await this.read();return _y(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:l.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const l=await this.read();return _y(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...t.heartbeats]})}else return}}function vy(r){return Ic(JSON.stringify({version:2,heartbeats:r})).length}function Rb(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ib(r){Fa(new Us("platform-logger",t=>new zS(t),"PRIVATE")),Fa(new Us("heartbeat",t=>new Sb(t),"PRIVATE")),Br(Md,gy,r),Br(Md,gy,"esm2017"),Br("fire-js","")}Ib("");var Cb="firebase",Db="11.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Br(Cb,Db,"app");function um(r,t){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&t.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,s=Object.getOwnPropertySymbols(r);l<s.length;l++)t.indexOf(s[l])<0&&Object.prototype.propertyIsEnumerable.call(r,s[l])&&(n[s[l]]=r[s[l]]);return n}function Yv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Ob=Yv,Xv=new Vl("auth","Firebase",Yv());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dc=new am("@firebase/auth");function Nb(r,...t){Dc.logLevel<=Nt.WARN&&Dc.warn(`Auth (${Za}): ${r}`,...t)}function _c(r,...t){Dc.logLevel<=Nt.ERROR&&Dc.error(`Auth (${Za}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hn(r,...t){throw cm(r,...t)}function oi(r,...t){return cm(r,...t)}function $v(r,t,n){const s=Object.assign(Object.assign({},Ob()),{[t]:n});return new Vl("auth","Firebase",s).create(t,{appName:r.name})}function Hi(r){return $v(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function cm(r,...t){if(typeof r!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return Xv.create(r,...t)}function pt(r,t,...n){if(!r)throw cm(t,...n)}function ji(r){const t="INTERNAL ASSERTION FAILED: "+r;throw _c(t),new Error(t)}function Gi(r,t){r||ji(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kd(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function Mb(){return Ey()==="http:"||Ey()==="https:"}function Ey(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vb(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Mb()||oS()||"connection"in navigator)?navigator.onLine:!0}function Pb(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(t,n){this.shortDelay=t,this.longDelay=n,Gi(n>t,"Short delay should be less than long delay!"),this.isMobile=rS()||lS()}get(){return Vb()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hm(r,t){Gi(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wv{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ji("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ji("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ji("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kb={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ub=new kl(3e4,6e4);function Wr(r,t){return r.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:r.tenantId}):t}async function Zr(r,t,n,s,l={}){return Zv(r,l,async()=>{let c={},f={};s&&(t==="GET"?f=s:c={body:JSON.stringify(s)});const g=Pl(Object.assign({key:r.config.apiKey},f)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const _=Object.assign({method:t,headers:p},c);return aS()||(_.referrerPolicy="no-referrer"),Wv.fetch()(Jv(r,r.config.apiHost,n,g),_)})}async function Zv(r,t,n){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},kb),t);try{const l=new xb(r),c=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const f=await c.json();if("needConfirmation"in f)throw hc(r,"account-exists-with-different-credential",f);if(c.ok&&!("errorMessage"in f))return f;{const g=c.ok?f.errorMessage:f.error.message,[p,_]=g.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw hc(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw hc(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw hc(r,"user-disabled",f);const A=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw $v(r,A,_);Hn(r,A)}}catch(l){if(l instanceof Yi)throw l;Hn(r,"network-request-failed",{message:String(l)})}}async function Ul(r,t,n,s,l={}){const c=await Zr(r,t,n,s,l);return"mfaPendingCredential"in c&&Hn(r,"multi-factor-auth-required",{_serverResponse:c}),c}function Jv(r,t,n,s){const l=`${t}${n}?${s}`;return r.config.emulator?hm(r.config,l):`${r.config.apiScheme}://${l}`}function Lb(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class xb{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(oi(this.auth,"network-request-failed")),Ub.get())})}}function hc(r,t,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const l=oi(r,t,s);return l.customData._tokenResponse=n,l}function Ty(r){return r!==void 0&&r.enterprise!==void 0}class zb{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return Lb(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function jb(r,t){return Zr(r,"GET","/v2/recaptchaConfig",Wr(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bb(r,t){return Zr(r,"POST","/v1/accounts:delete",t)}async function tE(r,t){return Zr(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function qb(r,t=!1){const n=Be(r),s=await n.getIdToken(t),l=fm(s);pt(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,f=c==null?void 0:c.sign_in_provider;return{claims:l,token:s,authTime:yl(Sd(l.auth_time)),issuedAtTime:yl(Sd(l.iat)),expirationTime:yl(Sd(l.exp)),signInProvider:f||null,signInSecondFactor:(c==null?void 0:c.sign_in_second_factor)||null}}function Sd(r){return Number(r)*1e3}function fm(r){const[t,n,s]=r.split(".");if(t===void 0||n===void 0||s===void 0)return _c("JWT malformed, contained fewer than 3 sections"),null;try{const l=xv(n);return l?JSON.parse(l):(_c("Failed to decode base64 JWT payload"),null)}catch(l){return _c("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function Ay(r){const t=fm(r);return pt(t,"internal-error"),pt(typeof t.exp<"u","internal-error"),pt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bl(r,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof Yi&&Hb(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function Hb({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const l=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,l)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=yl(this.lastLoginAt),this.creationTime=yl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oc(r){var t;const n=r.auth,s=await r.getIdToken(),l=await bl(r,tE(n,{idToken:s}));pt(l==null?void 0:l.users.length,n,"internal-error");const c=l.users[0];r._notifyReloadListener(c);const f=!((t=c.providerUserInfo)===null||t===void 0)&&t.length?eE(c.providerUserInfo):[],g=Kb(r.providerData,f),p=r.isAnonymous,_=!(r.email&&c.passwordHash)&&!(g!=null&&g.length),A=p?_:!1,R={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:g,metadata:new Ud(c.createdAt,c.lastLoginAt),isAnonymous:A};Object.assign(r,R)}async function Gb(r){const t=Be(r);await Oc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function Kb(r,t){return[...r.filter(s=>!t.some(l=>l.providerId===s.providerId)),...t]}function eE(r){return r.map(t=>{var{providerId:n}=t,s=um(t,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qb(r,t){const n=await Zv(r,{},async()=>{const s=Pl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,f=Jv(r,l,"/v1/token",`key=${c}`),g=await r._getAdditionalHeaders();return g["Content-Type"]="application/x-www-form-urlencoded",Wv.fetch()(f,{method:"POST",headers:g,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Yb(r,t){return Zr(r,"POST","/v2/accounts:revokeToken",Wr(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){pt(t.idToken,"internal-error"),pt(typeof t.idToken<"u","internal-error"),pt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Ay(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){pt(t.length!==0,"internal-error");const n=Ay(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(pt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:l,expiresIn:c}=await Qb(t,n);this.updateTokensAndExpiration(s,l,Number(c))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:l,expirationTime:c}=n,f=new ja;return s&&(pt(typeof s=="string","internal-error",{appName:t}),f.refreshToken=s),l&&(pt(typeof l=="string","internal-error",{appName:t}),f.accessToken=l),c&&(pt(typeof c=="number","internal-error",{appName:t}),f.expirationTime=c),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new ja,this.toJSON())}_performRefresh(){return ji("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mr(r,t){pt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Bi{constructor(t){var{uid:n,auth:s,stsTokenManager:l}=t,c=um(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Fb(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=l,this.accessToken=l.accessToken,this.displayName=c.displayName||null,this.email=c.email||null,this.emailVerified=c.emailVerified||!1,this.phoneNumber=c.phoneNumber||null,this.photoURL=c.photoURL||null,this.isAnonymous=c.isAnonymous||!1,this.tenantId=c.tenantId||null,this.providerData=c.providerData?[...c.providerData]:[],this.metadata=new Ud(c.createdAt||void 0,c.lastLoginAt||void 0)}async getIdToken(t){const n=await bl(this,this.stsTokenManager.getToken(this.auth,t));return pt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return qb(this,t)}reload(){return Gb(this)}_assign(t){this!==t&&(pt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Bi(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){pt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await Oc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Pn(this.auth.app))return Promise.reject(Hi(this.auth));const t=await this.getIdToken();return await bl(this,Bb(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var s,l,c,f,g,p,_,A;const R=(s=n.displayName)!==null&&s!==void 0?s:void 0,P=(l=n.email)!==null&&l!==void 0?l:void 0,j=(c=n.phoneNumber)!==null&&c!==void 0?c:void 0,Q=(f=n.photoURL)!==null&&f!==void 0?f:void 0,J=(g=n.tenantId)!==null&&g!==void 0?g:void 0,$=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,vt=(_=n.createdAt)!==null&&_!==void 0?_:void 0,mt=(A=n.lastLoginAt)!==null&&A!==void 0?A:void 0,{uid:Et,emailVerified:dt,isAnonymous:lt,providerData:st,stsTokenManager:O}=n;pt(Et&&O,t,"internal-error");const b=ja.fromJSON(this.name,O);pt(typeof Et=="string",t,"internal-error"),Mr(R,t.name),Mr(P,t.name),pt(typeof dt=="boolean",t,"internal-error"),pt(typeof lt=="boolean",t,"internal-error"),Mr(j,t.name),Mr(Q,t.name),Mr(J,t.name),Mr($,t.name),Mr(vt,t.name),Mr(mt,t.name);const S=new Bi({uid:Et,auth:t,email:P,emailVerified:dt,displayName:R,isAnonymous:lt,photoURL:Q,phoneNumber:j,tenantId:J,stsTokenManager:b,createdAt:vt,lastLoginAt:mt});return st&&Array.isArray(st)&&(S.providerData=st.map(I=>Object.assign({},I))),$&&(S._redirectEventId=$),S}static async _fromIdTokenResponse(t,n,s=!1){const l=new ja;l.updateFromServerResponse(n);const c=new Bi({uid:n.localId,auth:t,stsTokenManager:l,isAnonymous:s});return await Oc(c),c}static async _fromGetAccountInfoResponse(t,n,s){const l=n.users[0];pt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?eE(l.providerUserInfo):[],f=!(l.email&&l.passwordHash)&&!(c!=null&&c.length),g=new ja;g.updateFromIdToken(s);const p=new Bi({uid:l.localId,auth:t,stsTokenManager:g,isAnonymous:f}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Ud(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(c!=null&&c.length)};return Object.assign(p,_),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sy=new Map;function qi(r){Gi(r instanceof Function,"Expected a class definition");let t=Sy.get(r);return t?(Gi(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,Sy.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}nE.type="NONE";const by=nE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yc(r,t,n){return`firebase:${r}:${t}:${n}`}class Ba{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:l,name:c}=this.auth;this.fullUserKey=yc(this.userKey,l.apiKey,c),this.fullPersistenceKey=yc("persistence",l.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?Bi._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new Ba(qi(by),t,s);const l=(await Promise.all(n.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||qi(by);const f=yc(s,t.config.apiKey,t.name);let g=null;for(const _ of n)try{const A=await _._get(f);if(A){const R=Bi._fromJSON(t,A);_!==c&&(g=R),c=_;break}}catch{}const p=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!p.length?new Ba(c,t,s):(c=p[0],g&&await c._set(f,g.toJSON()),await Promise.all(n.map(async _=>{if(_!==c)try{await _._remove(f)}catch{}})),new Ba(c,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wy(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(aE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(iE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(lE(t))return"Blackberry";if(uE(t))return"Webos";if(rE(t))return"Safari";if((t.includes("chrome/")||sE(t))&&!t.includes("edge/"))return"Chrome";if(oE(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function iE(r=Xe()){return/firefox\//i.test(r)}function rE(r=Xe()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function sE(r=Xe()){return/crios\//i.test(r)}function aE(r=Xe()){return/iemobile/i.test(r)}function oE(r=Xe()){return/android/i.test(r)}function lE(r=Xe()){return/blackberry/i.test(r)}function uE(r=Xe()){return/webos/i.test(r)}function dm(r=Xe()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function Xb(r=Xe()){var t;return dm(r)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function $b(){return uS()&&document.documentMode===10}function cE(r=Xe()){return dm(r)||oE(r)||uE(r)||lE(r)||/windows phone/i.test(r)||aE(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hE(r,t=[]){let n;switch(r){case"Browser":n=wy(Xe());break;case"Worker":n=`${wy(Xe())}-${r}`;break;default:n=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Za}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wb{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=c=>new Promise((f,g)=>{try{const p=t(c);f(p)}catch(p){g(p)}});s.onAbort=n,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zb(r,t={}){return Zr(r,"GET","/v2/passwordPolicy",Wr(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jb=6;class tw{constructor(t){var n,s,l,c;const f=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:Jb,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(l=(s=t.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&l!==void 0?l:"",this.forceUpgradeOnSignin=(c=t.forceUpgradeOnSignin)!==null&&c!==void 0?c:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,s,l,c,f,g;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,p),this.validatePasswordCharacterOptions(t,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(l=p.containsLowercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(c=p.containsUppercaseLetter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(g=p.containsNonAlphanumericCharacter)!==null&&g!==void 0?g:!0),p}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),l&&(n.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let l=0;l<t.length;l++)s=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew{constructor(t,n,s,l){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ry(this),this.idTokenSubscription=new Ry(this),this.beforeStateQueue=new Wb(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Xv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=qi(n)),this._initializationPromise=this.queue(async()=>{var s,l;if(!this._deleted&&(this.persistenceManager=await Ba.create(this,t),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await tE(this,{idToken:t}),s=await Bi._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(Pn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(g=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(g,g))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let l=s,c=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,g=l==null?void 0:l._redirectEventId,p=await this.tryRedirectSignIn(t);(!f||f===g)&&(p!=null&&p.user)&&(l=p.user,c=!0)}if(!l)return this.directlySetCurrentUser(null);if(!l._redirectEventId){if(c)try{await this.beforeStateQueue.runMiddleware(l)}catch(f){l=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return l?this.reloadAndSetCurrentUserOrClear(l):this.directlySetCurrentUser(null)}return pt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===l._redirectEventId?this.directlySetCurrentUser(l):this.reloadAndSetCurrentUserOrClear(l)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Oc(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=Pb()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Pn(this.app))return Promise.reject(Hi(this));const n=t?Be(t):null;return n&&pt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&pt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Pn(this.app)?Promise.reject(Hi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Pn(this.app)?Promise.reject(Hi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(qi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await Zb(this),n=new tw(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new Vl("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await Yb(this,s)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&qi(t)||this._popupRedirectResolver;pt(n,this,"argument-error"),this.redirectPersistenceManager=await Ba.create(this,[qi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,l){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let f=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(pt(g,this,"internal-error"),g.then(()=>{f||c(this.currentUser)}),typeof n=="function"){const p=t.addObserver(n,s,l);return()=>{f=!0,p()}}else{const p=t.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return pt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=hE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const l=await this._getAppCheckToken();return l&&(n["X-Firebase-AppCheck"]=l),n}async _getAppCheckToken(){var t;if(Pn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&Nb(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function qs(r){return Be(r)}class Ry{constructor(t){this.auth=t,this.observer=null,this.addObserver=_S(n=>this.observer=n)}get next(){return pt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function nw(r){Yc=r}function fE(r){return Yc.loadJS(r)}function iw(){return Yc.recaptchaEnterpriseScript}function rw(){return Yc.gapiScript}function sw(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class aw{constructor(){this.enterprise=new ow}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class ow{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const lw="recaptcha-enterprise",dE="NO_RECAPTCHA";class uw{constructor(t){this.type=lw,this.auth=qs(t)}async verify(t="verify",n=!1){async function s(c){if(!n){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(f,g)=>{jb(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)g(new Error("recaptcha Enterprise site key undefined"));else{const _=new zb(p);return c.tenantId==null?c._agentRecaptchaConfig=_:c._tenantRecaptchaConfigs[c.tenantId]=_,f(_.siteKey)}}).catch(p=>{g(p)})})}function l(c,f,g){const p=window.grecaptcha;Ty(p)?p.enterprise.ready(()=>{p.enterprise.execute(c,{action:t}).then(_=>{f(_)}).catch(()=>{f(dE)})}):g(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new aw().execute("siteKey",{action:"verify"}):new Promise((c,f)=>{s(this.auth).then(g=>{if(!n&&Ty(window.grecaptcha))l(g,c,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=iw();p.length!==0&&(p+=g),fE(p).then(()=>{l(g,c,f)}).catch(_=>{f(_)})}}).catch(g=>{f(g)})})}}async function Iy(r,t,n,s=!1,l=!1){const c=new uw(r);let f;if(l)f=dE;else try{f=await c.verify(n)}catch{f=await c.verify(n,!0)}const g=Object.assign({},t);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in g){const p=g.phoneEnrollmentInfo.phoneNumber,_=g.phoneEnrollmentInfo.recaptchaToken;Object.assign(g,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:_,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in g){const p=g.phoneSignInInfo.recaptchaToken;Object.assign(g,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return g}return s?Object.assign(g,{captchaResp:f}):Object.assign(g,{captchaResponse:f}),Object.assign(g,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(g,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),g}async function Ld(r,t,n,s,l){var c;if(!((c=r._getRecaptchaConfig())===null||c===void 0)&&c.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await Iy(r,t,n,n==="getOobCode");return s(r,f)}else return s(r,t).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const g=await Iy(r,t,n,n==="getOobCode");return s(r,g)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cw(r,t){const n=lm(r,"auth");if(n.isInitialized()){const l=n.getImmediate(),c=n.getOptions();if(ks(c,t??{}))return l;Hn(l,"already-initialized")}return n.initialize({options:t})}function hw(r,t){const n=(t==null?void 0:t.persistence)||[],s=(Array.isArray(n)?n:[n]).map(qi);t!=null&&t.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t==null?void 0:t.popupRedirectResolver)}function fw(r,t,n){const s=qs(r);pt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const l=!1,c=mE(t),{host:f,port:g}=dw(t),p=g===null?"":`:${g}`,_={url:`${c}//${f}${p}/`},A=Object.freeze({host:f,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){pt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),pt(ks(_,s.config.emulator)&&ks(A,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=_,s.emulatorConfig=A,s.settings.appVerificationDisabledForTesting=!0,mw()}function mE(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function dw(r){const t=mE(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const c=l[1];return{host:c,port:Cy(s.substr(c.length+1))}}else{const[c,f]=s.split(":");return{host:c,port:Cy(f)}}}function Cy(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function mw(){function r(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mm{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return ji("not implemented")}_getIdTokenResponse(t){return ji("not implemented")}_linkToIdToken(t,n){return ji("not implemented")}_getReauthenticationResolver(t){return ji("not implemented")}}async function gw(r,t){return Zr(r,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pw(r,t){return Ul(r,"POST","/v1/accounts:signInWithPassword",Wr(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _w(r,t){return Ul(r,"POST","/v1/accounts:signInWithEmailLink",Wr(r,t))}async function yw(r,t){return Ul(r,"POST","/v1/accounts:signInWithEmailLink",Wr(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl extends mm{constructor(t,n,s,l=null){super("password",s),this._email=t,this._password=n,this._tenantId=l}static _fromEmailAndPassword(t,n){return new wl(t,n,"password")}static _fromEmailAndCode(t,n,s=null){return new wl(t,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ld(t,n,"signInWithPassword",pw);case"emailLink":return _w(t,{email:this._email,oobCode:this._password});default:Hn(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ld(t,s,"signUpPassword",gw);case"emailLink":return yw(t,{idToken:n,email:this._email,oobCode:this._password});default:Hn(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qa(r,t){return Ul(r,"POST","/v1/accounts:signInWithIdp",Wr(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vw="http://localhost";class Ls extends mm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Ls(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Hn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:l}=n,c=um(n,["providerId","signInMethod"]);if(!s||!l)return null;const f=new Ls(s,l);return f.idToken=c.idToken||void 0,f.accessToken=c.accessToken||void 0,f.secret=c.secret,f.nonce=c.nonce,f.pendingToken=c.pendingToken||null,f}_getIdTokenResponse(t){const n=this.buildRequest();return qa(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,qa(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,qa(t,n)}buildRequest(){const t={requestUri:vw,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Pl(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ew(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Tw(r){const t=fl(dl(r)).link,n=t?fl(dl(t)).deep_link_id:null,s=fl(dl(r)).deep_link_id;return(s?fl(dl(s)).link:null)||s||n||t||r}class gm{constructor(t){var n,s,l,c,f,g;const p=fl(dl(t)),_=(n=p.apiKey)!==null&&n!==void 0?n:null,A=(s=p.oobCode)!==null&&s!==void 0?s:null,R=Ew((l=p.mode)!==null&&l!==void 0?l:null);pt(_&&A&&R,"argument-error"),this.apiKey=_,this.operation=R,this.code=A,this.continueUrl=(c=p.continueUrl)!==null&&c!==void 0?c:null,this.languageCode=(f=p.languageCode)!==null&&f!==void 0?f:null,this.tenantId=(g=p.tenantId)!==null&&g!==void 0?g:null}static parseLink(t){const n=Tw(t);try{return new gm(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(){this.providerId=Ja.PROVIDER_ID}static credential(t,n){return wl._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const s=gm.parseLink(n);return pt(s,"argument-error"),wl._fromEmailAndCode(t,s.code,s.tenantId)}}Ja.PROVIDER_ID="password";Ja.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ja.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll extends gE{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr extends Ll{constructor(){super("facebook.com")}static credential(t){return Ls._fromParams({providerId:Vr.PROVIDER_ID,signInMethod:Vr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Vr.credentialFromTaggedObject(t)}static credentialFromError(t){return Vr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Vr.credential(t.oauthAccessToken)}catch{return null}}}Vr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Vr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr extends Ll{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Ls._fromParams({providerId:Pr.PROVIDER_ID,signInMethod:Pr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Pr.credentialFromTaggedObject(t)}static credentialFromError(t){return Pr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return Pr.credential(n,s)}catch{return null}}}Pr.GOOGLE_SIGN_IN_METHOD="google.com";Pr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr extends Ll{constructor(){super("github.com")}static credential(t){return Ls._fromParams({providerId:kr.PROVIDER_ID,signInMethod:kr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return kr.credentialFromTaggedObject(t)}static credentialFromError(t){return kr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return kr.credential(t.oauthAccessToken)}catch{return null}}}kr.GITHUB_SIGN_IN_METHOD="github.com";kr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur extends Ll{constructor(){super("twitter.com")}static credential(t,n){return Ls._fromParams({providerId:Ur.PROVIDER_ID,signInMethod:Ur.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Ur.credentialFromTaggedObject(t)}static credentialFromError(t){return Ur.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return Ur.credential(n,s)}catch{return null}}}Ur.TWITTER_SIGN_IN_METHOD="twitter.com";Ur.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Aw(r,t){return Ul(r,"POST","/v1/accounts:signUp",Wr(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,l=!1){const c=await Bi._fromIdTokenResponse(t,s,l),f=Dy(s);return new xs({user:c,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const l=Dy(s);return new xs({user:t,providerId:l,_tokenResponse:s,operationType:n})}}function Dy(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc extends Yi{constructor(t,n,s,l){var c;super(n.code,n.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,Nc.prototype),this.customData={appName:t.name,tenantId:(c=t.tenantId)!==null&&c!==void 0?c:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,l){return new Nc(t,n,s,l)}}function pE(r,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Nc._fromErrorAndOperation(r,c,t,s):c})}async function Sw(r,t,n=!1){const s=await bl(r,t._linkToIdToken(r.auth,await r.getIdToken()),n);return xs._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bw(r,t,n=!1){const{auth:s}=r;if(Pn(s.app))return Promise.reject(Hi(s));const l="reauthenticate";try{const c=await bl(r,pE(s,l,t,r),n);pt(c.idToken,s,"internal-error");const f=fm(c.idToken);pt(f,s,"internal-error");const{sub:g}=f;return pt(r.uid===g,s,"user-mismatch"),xs._forOperation(r,l,c)}catch(c){throw(c==null?void 0:c.code)==="auth/user-not-found"&&Hn(s,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _E(r,t,n=!1){if(Pn(r.app))return Promise.reject(Hi(r));const s="signIn",l=await pE(r,s,t),c=await xs._fromIdTokenResponse(r,s,l);return n||await r._updateCurrentUser(c.user),c}async function ww(r,t){return _E(qs(r),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yE(r){const t=qs(r);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function Rw(r,t,n){if(Pn(r.app))return Promise.reject(Hi(r));const s=qs(r),f=await Ld(s,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Aw).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&yE(r),p}),g=await xs._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(g.user),g}function Iw(r,t,n){return Pn(r.app)?Promise.reject(Hi(r)):ww(Be(r),Ja.credential(t,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&yE(r),s})}function Cw(r,t,n,s){return Be(r).onIdTokenChanged(t,n,s)}function Dw(r,t,n){return Be(r).beforeAuthStateChanged(t,n)}function Ow(r){return Be(r).signOut()}const Mc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Mc,"1"),this.storage.removeItem(Mc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nw=1e3,Mw=10;class EE extends vE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=cE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),l=this.localCache[n];s!==l&&t(n,l,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((f,g,p)=>{this.notifyListeners(f,p)});return}const s=t.key;n?this.detachListener():this.stopPolling();const l=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},c=this.storage.getItem(s);$b()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,Mw):l()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},Nw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}EE.type="LOCAL";const Vw=EE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TE extends vE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}TE.type="SESSION";const AE=TE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pw(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(l=>l.isListeningto(t));if(n)return n;const s=new Xc(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:l,data:c}=n.data,f=this.handlersMap[l];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const g=Array.from(f).map(async _=>_(n.origin,c)),p=await Pw(g);n.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:p})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Xc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pm(r="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,f;return new Promise((g,p)=>{const _=pm("",20);l.port1.start();const A=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:l,onMessage(R){const P=R;if(P.data.eventId===_)switch(P.data.status){case"ack":clearTimeout(A),c=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(P.data.response);break;default:clearTimeout(A),clearTimeout(c),p(new Error("invalid_response"));break}}},this.handlers.add(f),l.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:_,data:n},[l.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function li(){return window}function Uw(r){li().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SE(){return typeof li().WorkerGlobalScope<"u"&&typeof li().importScripts=="function"}async function Lw(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function xw(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function zw(){return SE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bE="firebaseLocalStorageDb",jw=1,Vc="firebaseLocalStorage",wE="fbase_key";class xl{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function $c(r,t){return r.transaction([Vc],t?"readwrite":"readonly").objectStore(Vc)}function Bw(){const r=indexedDB.deleteDatabase(bE);return new xl(r).toPromise()}function xd(){const r=indexedDB.open(bE,jw);return new Promise((t,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Vc,{keyPath:wE})}catch(l){n(l)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Vc)?t(s):(s.close(),await Bw(),t(await xd()))})})}async function Oy(r,t,n){const s=$c(r,!0).put({[wE]:t,value:n});return new xl(s).toPromise()}async function qw(r,t){const n=$c(r,!1).get(t),s=await new xl(n).toPromise();return s===void 0?null:s.value}function Ny(r,t){const n=$c(r,!0).delete(t);return new xl(n).toPromise()}const Hw=800,Fw=3;class RE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await xd(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>Fw)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return SE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Xc._getInstance(zw()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await Lw(),!this.activeServiceWorker)return;this.sender=new kw(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((t=s[0])===null||t===void 0)&&t.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||xw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await xd();return await Oy(t,Mc,"1"),await Ny(t,Mc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Oy(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>qw(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Ny(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=$c(l,!1).getAll();return new xl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Hw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}RE.type="LOCAL";const Gw=RE;new kl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kw(r,t){return t?qi(t):(pt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m extends mm{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return qa(t,this._buildIdpRequest())}_linkToIdToken(t,n){return qa(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return qa(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function Qw(r){return _E(r.auth,new _m(r),r.bypassAuthState)}function Yw(r){const{auth:t,user:n}=r;return pt(n,t,"internal-error"),bw(n,new _m(r),r.bypassAuthState)}async function Xw(r){const{auth:t,user:n}=r;return pt(n,t,"internal-error"),Sw(n,new _m(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE{constructor(t,n,s,l,c=!1){this.auth=t,this.resolver=s,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:l,tenantId:c,error:f,type:g}=t;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(p))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Qw;case"linkViaPopup":case"linkViaRedirect":return Xw;case"reauthViaPopup":case"reauthViaRedirect":return Yw;default:Hn(this.auth,"internal-error")}}resolve(t){Gi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Gi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $w=new kl(2e3,1e4);class za extends IE{constructor(t,n,s,l,c){super(t,n,l,c),this.provider=s,this.authWindow=null,this.pollId=null,za.currentPopupAction&&za.currentPopupAction.cancel(),za.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return pt(t,this.auth,"internal-error"),t}async onExecution(){Gi(this.filter.length===1,"Popup operations only handle one event");const t=pm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(oi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(oi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,za.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(oi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,$w.get())};t()}}za.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ww="pendingRedirect",vc=new Map;class Zw extends IE{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=vc.get(this.auth._key());if(!t){try{const s=await Jw(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}vc.set(this.auth._key(),t)}return this.bypassAuthState||vc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Jw(r,t){const n=nR(t),s=eR(r);if(!await s._isAvailable())return!1;const l=await s._get(n)==="true";return await s._remove(n),l}function tR(r,t){vc.set(r._key(),t)}function eR(r){return qi(r._redirectPersistence)}function nR(r){return yc(Ww,r.config.apiKey,r.name)}async function iR(r,t,n=!1){if(Pn(r.app))return Promise.reject(Hi(r));const s=qs(r),l=Kw(s,t),f=await new Zw(s,l,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,t)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rR=10*60*1e3;class sR{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!aR(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var s;if(t.error&&!CE(t)){const l=((s=t.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(oi(this.auth,l))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=rR&&this.cachedEventUids.clear(),this.cachedEventUids.has(My(t))}saveEventToCache(t){this.cachedEventUids.add(My(t)),this.lastProcessedEventTime=Date.now()}}function My(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function CE({type:r,error:t}){return r==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function aR(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return CE(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oR(r,t={}){return Zr(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,uR=/^https?/;async function cR(r){if(r.config.emulator)return;const{authorizedDomains:t}=await oR(r);for(const n of t)try{if(hR(n))return}catch{}Hn(r,"unauthorized-domain")}function hR(r){const t=kd(),{protocol:n,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!uR.test(n))return!1;if(lR.test(r))return s===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fR=new kl(3e4,6e4);function Vy(){const r=li().___jsl;if(r!=null&&r.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function dR(r){return new Promise((t,n)=>{var s,l,c;function f(){Vy(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Vy(),n(oi(r,"network-request-failed"))},timeout:fR.get()})}if(!((l=(s=li().gapi)===null||s===void 0?void 0:s.iframes)===null||l===void 0)&&l.Iframe)t(gapi.iframes.getContext());else if(!((c=li().gapi)===null||c===void 0)&&c.load)f();else{const g=sw("iframefcb");return li()[g]=()=>{gapi.load?f():n(oi(r,"network-request-failed"))},fE(`${rw()}?onload=${g}`).catch(p=>n(p))}}).catch(t=>{throw Ec=null,t})}let Ec=null;function mR(r){return Ec=Ec||dR(r),Ec}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gR=new kl(5e3,15e3),pR="__/auth/iframe",_R="emulator/auth/iframe",yR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},vR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ER(r){const t=r.config;pt(t.authDomain,r,"auth-domain-config-required");const n=t.emulator?hm(t,_R):`https://${r.config.authDomain}/${pR}`,s={apiKey:t.apiKey,appName:r.name,v:Za},l=vR.get(r.config.apiHost);l&&(s.eid=l);const c=r._getFrameworks();return c.length&&(s.fw=c.join(",")),`${n}?${Pl(s).slice(1)}`}async function TR(r){const t=await mR(r),n=li().gapi;return pt(n,r,"internal-error"),t.open({where:document.body,url:ER(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:yR,dontclear:!0},s=>new Promise(async(l,c)=>{await s.restyle({setHideOnLeave:!1});const f=oi(r,"network-request-failed"),g=li().setTimeout(()=>{c(f)},gR.get());function p(){li().clearTimeout(g),l(s)}s.ping(p).then(p,()=>{c(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},SR=500,bR=600,wR="_blank",RR="http://localhost";class Py{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function IR(r,t,n,s=SR,l=bR){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let g="";const p=Object.assign(Object.assign({},AR),{width:s.toString(),height:l.toString(),top:c,left:f}),_=Xe().toLowerCase();n&&(g=sE(_)?wR:n),iE(_)&&(t=t||RR,p.scrollbars="yes");const A=Object.entries(p).reduce((P,[j,Q])=>`${P}${j}=${Q},`,"");if(Xb(_)&&g!=="_self")return CR(t||"",g),new Py(null);const R=window.open(t||"",g,A);pt(R,r,"popup-blocked");try{R.focus()}catch{}return new Py(R)}function CR(r,t){const n=document.createElement("a");n.href=r,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DR="__/auth/handler",OR="emulator/auth/handler",NR=encodeURIComponent("fac");async function ky(r,t,n,s,l,c){pt(r.config.authDomain,r,"auth-domain-config-required"),pt(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:Za,eventId:l};if(t instanceof gE){t.setDefaultLanguage(r.languageCode),f.providerId=t.providerId||"",pS(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,R]of Object.entries({}))f[A]=R}if(t instanceof Ll){const A=t.getScopes().filter(R=>R!=="");A.length>0&&(f.scopes=A.join(","))}r.tenantId&&(f.tid=r.tenantId);const g=f;for(const A of Object.keys(g))g[A]===void 0&&delete g[A];const p=await r._getAppCheckToken(),_=p?`#${NR}=${encodeURIComponent(p)}`:"";return`${MR(r)}?${Pl(g).slice(1)}${_}`}function MR({config:r}){return r.emulator?hm(r,OR):`https://${r.authDomain}/${DR}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bd="webStorageSupport";class VR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=AE,this._completeRedirectFn=iR,this._overrideRedirectResult=tR}async _openPopup(t,n,s,l){var c;Gi((c=this.eventManagers[t._key()])===null||c===void 0?void 0:c.manager,"_initialize() not called before _openPopup()");const f=await ky(t,n,s,kd(),l);return IR(t,f,pm())}async _openRedirect(t,n,s,l){await this._originValidation(t);const c=await ky(t,n,s,kd(),l);return Uw(c),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:l,promise:c}=this.eventManagers[n];return l?Promise.resolve(l):(Gi(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await TR(t),s=new sR(t);return n.register("authEvent",l=>(pt(l==null?void 0:l.authEvent,t,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(bd,{type:bd},l=>{var c;const f=(c=l==null?void 0:l[0])===null||c===void 0?void 0:c[bd];f!==void 0&&n(!!f),Hn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=cR(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return cE()||rE()||dm()}}const PR=VR;var Uy="@firebase/auth",Ly="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){pt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UR(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function LR(r){Fa(new Us("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:f,authDomain:g}=s.options;pt(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:g,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:hE(r)},_=new ew(s,l,c,p);return hw(_,n),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),Fa(new Us("auth-internal",t=>{const n=qs(t.getProvider("auth").getImmediate());return(s=>new kR(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Br(Uy,Ly,UR(r)),Br(Uy,Ly,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xR=5*60,zR=Bv("authIdTokenMaxAge")||xR;let xy=null;const jR=r=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>zR)return;const l=n==null?void 0:n.token;xy!==l&&(xy=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function BR(r=Gv()){const t=lm(r,"auth");if(t.isInitialized())return t.getImmediate();const n=cw(r,{popupRedirectResolver:PR,persistence:[Gw,Vw,AE]}),s=Bv("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const f=jR(c.toString());Dw(n,f,()=>f(n.currentUser)),Cw(n,g=>f(g))}}const l=zv("auth");return l&&fw(n,`http://${l}`),n}function qR(){var r,t;return(t=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&t!==void 0?t:document}nw({loadJS(r){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=l=>{const c=oi("internal-error");c.customData=l,n(c)},s.type="text/javascript",s.charset="UTF-8",qR().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});LR("Browser");var zy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var qr,DE;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(O,b){function S(){}S.prototype=b.prototype,O.D=b.prototype,O.prototype=new S,O.prototype.constructor=O,O.C=function(I,M,U){for(var C=Array(arguments.length-2),Xt=2;Xt<arguments.length;Xt++)C[Xt-2]=arguments[Xt];return b.prototype[M].apply(I,C)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(O,b,S){S||(S=0);var I=Array(16);if(typeof b=="string")for(var M=0;16>M;++M)I[M]=b.charCodeAt(S++)|b.charCodeAt(S++)<<8|b.charCodeAt(S++)<<16|b.charCodeAt(S++)<<24;else for(M=0;16>M;++M)I[M]=b[S++]|b[S++]<<8|b[S++]<<16|b[S++]<<24;b=O.g[0],S=O.g[1],M=O.g[2];var U=O.g[3],C=b+(U^S&(M^U))+I[0]+3614090360&4294967295;b=S+(C<<7&4294967295|C>>>25),C=U+(M^b&(S^M))+I[1]+3905402710&4294967295,U=b+(C<<12&4294967295|C>>>20),C=M+(S^U&(b^S))+I[2]+606105819&4294967295,M=U+(C<<17&4294967295|C>>>15),C=S+(b^M&(U^b))+I[3]+3250441966&4294967295,S=M+(C<<22&4294967295|C>>>10),C=b+(U^S&(M^U))+I[4]+4118548399&4294967295,b=S+(C<<7&4294967295|C>>>25),C=U+(M^b&(S^M))+I[5]+1200080426&4294967295,U=b+(C<<12&4294967295|C>>>20),C=M+(S^U&(b^S))+I[6]+2821735955&4294967295,M=U+(C<<17&4294967295|C>>>15),C=S+(b^M&(U^b))+I[7]+4249261313&4294967295,S=M+(C<<22&4294967295|C>>>10),C=b+(U^S&(M^U))+I[8]+1770035416&4294967295,b=S+(C<<7&4294967295|C>>>25),C=U+(M^b&(S^M))+I[9]+2336552879&4294967295,U=b+(C<<12&4294967295|C>>>20),C=M+(S^U&(b^S))+I[10]+4294925233&4294967295,M=U+(C<<17&4294967295|C>>>15),C=S+(b^M&(U^b))+I[11]+2304563134&4294967295,S=M+(C<<22&4294967295|C>>>10),C=b+(U^S&(M^U))+I[12]+1804603682&4294967295,b=S+(C<<7&4294967295|C>>>25),C=U+(M^b&(S^M))+I[13]+4254626195&4294967295,U=b+(C<<12&4294967295|C>>>20),C=M+(S^U&(b^S))+I[14]+2792965006&4294967295,M=U+(C<<17&4294967295|C>>>15),C=S+(b^M&(U^b))+I[15]+1236535329&4294967295,S=M+(C<<22&4294967295|C>>>10),C=b+(M^U&(S^M))+I[1]+4129170786&4294967295,b=S+(C<<5&4294967295|C>>>27),C=U+(S^M&(b^S))+I[6]+3225465664&4294967295,U=b+(C<<9&4294967295|C>>>23),C=M+(b^S&(U^b))+I[11]+643717713&4294967295,M=U+(C<<14&4294967295|C>>>18),C=S+(U^b&(M^U))+I[0]+3921069994&4294967295,S=M+(C<<20&4294967295|C>>>12),C=b+(M^U&(S^M))+I[5]+3593408605&4294967295,b=S+(C<<5&4294967295|C>>>27),C=U+(S^M&(b^S))+I[10]+38016083&4294967295,U=b+(C<<9&4294967295|C>>>23),C=M+(b^S&(U^b))+I[15]+3634488961&4294967295,M=U+(C<<14&4294967295|C>>>18),C=S+(U^b&(M^U))+I[4]+3889429448&4294967295,S=M+(C<<20&4294967295|C>>>12),C=b+(M^U&(S^M))+I[9]+568446438&4294967295,b=S+(C<<5&4294967295|C>>>27),C=U+(S^M&(b^S))+I[14]+3275163606&4294967295,U=b+(C<<9&4294967295|C>>>23),C=M+(b^S&(U^b))+I[3]+4107603335&4294967295,M=U+(C<<14&4294967295|C>>>18),C=S+(U^b&(M^U))+I[8]+1163531501&4294967295,S=M+(C<<20&4294967295|C>>>12),C=b+(M^U&(S^M))+I[13]+2850285829&4294967295,b=S+(C<<5&4294967295|C>>>27),C=U+(S^M&(b^S))+I[2]+4243563512&4294967295,U=b+(C<<9&4294967295|C>>>23),C=M+(b^S&(U^b))+I[7]+1735328473&4294967295,M=U+(C<<14&4294967295|C>>>18),C=S+(U^b&(M^U))+I[12]+2368359562&4294967295,S=M+(C<<20&4294967295|C>>>12),C=b+(S^M^U)+I[5]+4294588738&4294967295,b=S+(C<<4&4294967295|C>>>28),C=U+(b^S^M)+I[8]+2272392833&4294967295,U=b+(C<<11&4294967295|C>>>21),C=M+(U^b^S)+I[11]+1839030562&4294967295,M=U+(C<<16&4294967295|C>>>16),C=S+(M^U^b)+I[14]+4259657740&4294967295,S=M+(C<<23&4294967295|C>>>9),C=b+(S^M^U)+I[1]+2763975236&4294967295,b=S+(C<<4&4294967295|C>>>28),C=U+(b^S^M)+I[4]+1272893353&4294967295,U=b+(C<<11&4294967295|C>>>21),C=M+(U^b^S)+I[7]+4139469664&4294967295,M=U+(C<<16&4294967295|C>>>16),C=S+(M^U^b)+I[10]+3200236656&4294967295,S=M+(C<<23&4294967295|C>>>9),C=b+(S^M^U)+I[13]+681279174&4294967295,b=S+(C<<4&4294967295|C>>>28),C=U+(b^S^M)+I[0]+3936430074&4294967295,U=b+(C<<11&4294967295|C>>>21),C=M+(U^b^S)+I[3]+3572445317&4294967295,M=U+(C<<16&4294967295|C>>>16),C=S+(M^U^b)+I[6]+76029189&4294967295,S=M+(C<<23&4294967295|C>>>9),C=b+(S^M^U)+I[9]+3654602809&4294967295,b=S+(C<<4&4294967295|C>>>28),C=U+(b^S^M)+I[12]+3873151461&4294967295,U=b+(C<<11&4294967295|C>>>21),C=M+(U^b^S)+I[15]+530742520&4294967295,M=U+(C<<16&4294967295|C>>>16),C=S+(M^U^b)+I[2]+3299628645&4294967295,S=M+(C<<23&4294967295|C>>>9),C=b+(M^(S|~U))+I[0]+4096336452&4294967295,b=S+(C<<6&4294967295|C>>>26),C=U+(S^(b|~M))+I[7]+1126891415&4294967295,U=b+(C<<10&4294967295|C>>>22),C=M+(b^(U|~S))+I[14]+2878612391&4294967295,M=U+(C<<15&4294967295|C>>>17),C=S+(U^(M|~b))+I[5]+4237533241&4294967295,S=M+(C<<21&4294967295|C>>>11),C=b+(M^(S|~U))+I[12]+1700485571&4294967295,b=S+(C<<6&4294967295|C>>>26),C=U+(S^(b|~M))+I[3]+2399980690&4294967295,U=b+(C<<10&4294967295|C>>>22),C=M+(b^(U|~S))+I[10]+4293915773&4294967295,M=U+(C<<15&4294967295|C>>>17),C=S+(U^(M|~b))+I[1]+2240044497&4294967295,S=M+(C<<21&4294967295|C>>>11),C=b+(M^(S|~U))+I[8]+1873313359&4294967295,b=S+(C<<6&4294967295|C>>>26),C=U+(S^(b|~M))+I[15]+4264355552&4294967295,U=b+(C<<10&4294967295|C>>>22),C=M+(b^(U|~S))+I[6]+2734768916&4294967295,M=U+(C<<15&4294967295|C>>>17),C=S+(U^(M|~b))+I[13]+1309151649&4294967295,S=M+(C<<21&4294967295|C>>>11),C=b+(M^(S|~U))+I[4]+4149444226&4294967295,b=S+(C<<6&4294967295|C>>>26),C=U+(S^(b|~M))+I[11]+3174756917&4294967295,U=b+(C<<10&4294967295|C>>>22),C=M+(b^(U|~S))+I[2]+718787259&4294967295,M=U+(C<<15&4294967295|C>>>17),C=S+(U^(M|~b))+I[9]+3951481745&4294967295,O.g[0]=O.g[0]+b&4294967295,O.g[1]=O.g[1]+(M+(C<<21&4294967295|C>>>11))&4294967295,O.g[2]=O.g[2]+M&4294967295,O.g[3]=O.g[3]+U&4294967295}s.prototype.u=function(O,b){b===void 0&&(b=O.length);for(var S=b-this.blockSize,I=this.B,M=this.h,U=0;U<b;){if(M==0)for(;U<=S;)l(this,O,U),U+=this.blockSize;if(typeof O=="string"){for(;U<b;)if(I[M++]=O.charCodeAt(U++),M==this.blockSize){l(this,I),M=0;break}}else for(;U<b;)if(I[M++]=O[U++],M==this.blockSize){l(this,I),M=0;break}}this.h=M,this.o+=b},s.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var b=1;b<O.length-8;++b)O[b]=0;var S=8*this.o;for(b=O.length-8;b<O.length;++b)O[b]=S&255,S/=256;for(this.u(O),O=Array(16),b=S=0;4>b;++b)for(var I=0;32>I;I+=8)O[S++]=this.g[b]>>>I&255;return O};function c(O,b){var S=g;return Object.prototype.hasOwnProperty.call(S,O)?S[O]:S[O]=b(O)}function f(O,b){this.h=b;for(var S=[],I=!0,M=O.length-1;0<=M;M--){var U=O[M]|0;I&&U==b||(S[M]=U,I=!1)}this.g=S}var g={};function p(O){return-128<=O&&128>O?c(O,function(b){return new f([b|0],0>b?-1:0)}):new f([O|0],0>O?-1:0)}function _(O){if(isNaN(O)||!isFinite(O))return R;if(0>O)return $(_(-O));for(var b=[],S=1,I=0;O>=S;I++)b[I]=O/S|0,S*=4294967296;return new f(b,0)}function A(O,b){if(O.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(O.charAt(0)=="-")return $(A(O.substring(1),b));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=_(Math.pow(b,8)),I=R,M=0;M<O.length;M+=8){var U=Math.min(8,O.length-M),C=parseInt(O.substring(M,M+U),b);8>U?(U=_(Math.pow(b,U)),I=I.j(U).add(_(C))):(I=I.j(S),I=I.add(_(C)))}return I}var R=p(0),P=p(1),j=p(16777216);r=f.prototype,r.m=function(){if(J(this))return-$(this).m();for(var O=0,b=1,S=0;S<this.g.length;S++){var I=this.i(S);O+=(0<=I?I:4294967296+I)*b,b*=4294967296}return O},r.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(Q(this))return"0";if(J(this))return"-"+$(this).toString(O);for(var b=_(Math.pow(O,6)),S=this,I="";;){var M=dt(S,b).g;S=vt(S,M.j(b));var U=((0<S.g.length?S.g[0]:S.h)>>>0).toString(O);if(S=M,Q(S))return U+I;for(;6>U.length;)U="0"+U;I=U+I}},r.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function Q(O){if(O.h!=0)return!1;for(var b=0;b<O.g.length;b++)if(O.g[b]!=0)return!1;return!0}function J(O){return O.h==-1}r.l=function(O){return O=vt(this,O),J(O)?-1:Q(O)?0:1};function $(O){for(var b=O.g.length,S=[],I=0;I<b;I++)S[I]=~O.g[I];return new f(S,~O.h).add(P)}r.abs=function(){return J(this)?$(this):this},r.add=function(O){for(var b=Math.max(this.g.length,O.g.length),S=[],I=0,M=0;M<=b;M++){var U=I+(this.i(M)&65535)+(O.i(M)&65535),C=(U>>>16)+(this.i(M)>>>16)+(O.i(M)>>>16);I=C>>>16,U&=65535,C&=65535,S[M]=C<<16|U}return new f(S,S[S.length-1]&-2147483648?-1:0)};function vt(O,b){return O.add($(b))}r.j=function(O){if(Q(this)||Q(O))return R;if(J(this))return J(O)?$(this).j($(O)):$($(this).j(O));if(J(O))return $(this.j($(O)));if(0>this.l(j)&&0>O.l(j))return _(this.m()*O.m());for(var b=this.g.length+O.g.length,S=[],I=0;I<2*b;I++)S[I]=0;for(I=0;I<this.g.length;I++)for(var M=0;M<O.g.length;M++){var U=this.i(I)>>>16,C=this.i(I)&65535,Xt=O.i(M)>>>16,te=O.i(M)&65535;S[2*I+2*M]+=C*te,mt(S,2*I+2*M),S[2*I+2*M+1]+=U*te,mt(S,2*I+2*M+1),S[2*I+2*M+1]+=C*Xt,mt(S,2*I+2*M+1),S[2*I+2*M+2]+=U*Xt,mt(S,2*I+2*M+2)}for(I=0;I<b;I++)S[I]=S[2*I+1]<<16|S[2*I];for(I=b;I<2*b;I++)S[I]=0;return new f(S,0)};function mt(O,b){for(;(O[b]&65535)!=O[b];)O[b+1]+=O[b]>>>16,O[b]&=65535,b++}function Et(O,b){this.g=O,this.h=b}function dt(O,b){if(Q(b))throw Error("division by zero");if(Q(O))return new Et(R,R);if(J(O))return b=dt($(O),b),new Et($(b.g),$(b.h));if(J(b))return b=dt(O,$(b)),new Et($(b.g),b.h);if(30<O.g.length){if(J(O)||J(b))throw Error("slowDivide_ only works with positive integers.");for(var S=P,I=b;0>=I.l(O);)S=lt(S),I=lt(I);var M=st(S,1),U=st(I,1);for(I=st(I,2),S=st(S,2);!Q(I);){var C=U.add(I);0>=C.l(O)&&(M=M.add(S),U=C),I=st(I,1),S=st(S,1)}return b=vt(O,M.j(b)),new Et(M,b)}for(M=R;0<=O.l(b);){for(S=Math.max(1,Math.floor(O.m()/b.m())),I=Math.ceil(Math.log(S)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),U=_(S),C=U.j(b);J(C)||0<C.l(O);)S-=I,U=_(S),C=U.j(b);Q(U)&&(U=P),M=M.add(U),O=vt(O,C)}return new Et(M,O)}r.A=function(O){return dt(this,O).h},r.and=function(O){for(var b=Math.max(this.g.length,O.g.length),S=[],I=0;I<b;I++)S[I]=this.i(I)&O.i(I);return new f(S,this.h&O.h)},r.or=function(O){for(var b=Math.max(this.g.length,O.g.length),S=[],I=0;I<b;I++)S[I]=this.i(I)|O.i(I);return new f(S,this.h|O.h)},r.xor=function(O){for(var b=Math.max(this.g.length,O.g.length),S=[],I=0;I<b;I++)S[I]=this.i(I)^O.i(I);return new f(S,this.h^O.h)};function lt(O){for(var b=O.g.length+1,S=[],I=0;I<b;I++)S[I]=O.i(I)<<1|O.i(I-1)>>>31;return new f(S,O.h)}function st(O,b){var S=b>>5;b%=32;for(var I=O.g.length-S,M=[],U=0;U<I;U++)M[U]=0<b?O.i(U+S)>>>b|O.i(U+S+1)<<32-b:O.i(U+S);return new f(M,O.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,DE=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=_,f.fromString=A,qr=f}).apply(typeof zy<"u"?zy:typeof self<"u"?self:typeof window<"u"?window:{});var fc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var OE,ml,NE,Tc,zd,ME,VE,PE;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,y){return u==Array.prototype||u==Object.prototype||(u[m]=y.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof fc=="object"&&fc];for(var m=0;m<u.length;++m){var y=u[m];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var s=n(this);function l(u,m){if(m)t:{var y=s;u=u.split(".");for(var T=0;T<u.length-1;T++){var L=u[T];if(!(L in y))break t;y=y[L]}u=u[u.length-1],T=y[u],m=m(T),m!=T&&m!=null&&t(y,u,{configurable:!0,writable:!0,value:m})}}function c(u,m){u instanceof String&&(u+="");var y=0,T=!1,L={next:function(){if(!T&&y<u.length){var B=y++;return{value:m(B,u[B]),done:!1}}return T=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}l("Array.prototype.values",function(u){return u||function(){return c(this,function(m,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},g=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function _(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function A(u,m,y){return u.call.apply(u.bind,arguments)}function R(u,m,y){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,T),u.apply(m,L)}}return function(){return u.apply(m,arguments)}}function P(u,m,y){return P=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:R,P.apply(null,arguments)}function j(u,m){var y=Array.prototype.slice.call(arguments,1);return function(){var T=y.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function Q(u,m){function y(){}y.prototype=m.prototype,u.aa=m.prototype,u.prototype=new y,u.prototype.constructor=u,u.Qb=function(T,L,B){for(var Z=Array(arguments.length-2),Pt=2;Pt<arguments.length;Pt++)Z[Pt-2]=arguments[Pt];return m.prototype[L].apply(T,Z)}}function J(u){const m=u.length;if(0<m){const y=Array(m);for(let T=0;T<m;T++)y[T]=u[T];return y}return[]}function $(u,m){for(let y=1;y<arguments.length;y++){const T=arguments[y];if(p(T)){const L=u.length||0,B=T.length||0;u.length=L+B;for(let Z=0;Z<B;Z++)u[L+Z]=T[Z]}else u.push(T)}}class vt{constructor(m,y){this.i=m,this.j=y,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function mt(u){return/^[\s\xa0]*$/.test(u)}function Et(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function dt(u){return dt[" "](u),u}dt[" "]=function(){};var lt=Et().indexOf("Gecko")!=-1&&!(Et().toLowerCase().indexOf("webkit")!=-1&&Et().indexOf("Edge")==-1)&&!(Et().indexOf("Trident")!=-1||Et().indexOf("MSIE")!=-1)&&Et().indexOf("Edge")==-1;function st(u,m,y){for(const T in u)m.call(y,u[T],T,u)}function O(u,m){for(const y in u)m.call(void 0,u[y],y,u)}function b(u){const m={};for(const y in u)m[y]=u[y];return m}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(u,m){let y,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(y in T)u[y]=T[y];for(let B=0;B<S.length;B++)y=S[B],Object.prototype.hasOwnProperty.call(T,y)&&(u[y]=T[y])}}function M(u){var m=1;u=u.split(":");const y=[];for(;0<m&&u.length;)y.push(u.shift()),m--;return u.length&&y.push(u.join(":")),y}function U(u){g.setTimeout(()=>{throw u},0)}function C(){var u=Ht;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Xt{constructor(){this.h=this.g=null}add(m,y){const T=te.get();T.set(m,y),this.h?this.h.next=T:this.g=T,this.h=T}}var te=new vt(()=>new tt,u=>u.reset());class tt{constructor(){this.next=this.g=this.h=null}set(m,y){this.h=m,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let _t,ht=!1,Ht=new Xt,D=()=>{const u=g.Promise.resolve(void 0);_t=()=>{u.then(W)}};var W=()=>{for(var u;u=C();){try{u.h.call(u.g)}catch(y){U(y)}var m=te;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}ht=!1};function ot(){this.s=this.s,this.C=this.C}ot.prototype.s=!1,ot.prototype.ma=function(){this.s||(this.s=!0,this.N())},ot.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function et(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}et.prototype.h=function(){this.defaultPrevented=!0};var nt=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};g.addEventListener("test",y,m),g.removeEventListener("test",y,m)}catch{}return u}();function Rt(u,m){if(et.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var y=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(lt){t:{try{dt(m.nodeName);var L=!0;break t}catch{}L=!1}L||(m=null)}}else y=="mouseover"?m=u.fromElement:y=="mouseout"&&(m=u.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:bt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Rt.aa.h.call(this)}}Q(Rt,et);var bt={2:"touch",3:"pen",4:"mouse"};Rt.prototype.h=function(){Rt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var de="closure_listenable_"+(1e6*Math.random()|0),xt=0;function se(u,m,y,T,L){this.listener=u,this.proxy=null,this.src=m,this.type=y,this.capture=!!T,this.ha=L,this.key=++xt,this.da=this.fa=!1}function Kt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function $e(u){this.src=u,this.g={},this.h=0}$e.prototype.add=function(u,m,y,T,L){var B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);var Z=_n(u,m,T,L);return-1<Z?(m=u[Z],y||(m.fa=!1)):(m=new se(m,this.src,B,!!T,L),m.fa=y,u.push(m)),m};function di(u,m){var y=m.type;if(y in u.g){var T=u.g[y],L=Array.prototype.indexOf.call(T,m,void 0),B;(B=0<=L)&&Array.prototype.splice.call(T,L,1),B&&(Kt(m),u.g[y].length==0&&(delete u.g[y],u.h--))}}function _n(u,m,y,T){for(var L=0;L<u.length;++L){var B=u[L];if(!B.da&&B.listener==m&&B.capture==!!y&&B.ha==T)return L}return-1}var Xi="closure_lm_"+(1e6*Math.random()|0),$i={};function mi(u,m,y,T,L){if(Array.isArray(m)){for(var B=0;B<m.length;B++)mi(u,m[B],y,T,L);return null}return y=Fl(y),u&&u[de]?u.K(m,y,_(T)?!!T.capture:!1,L):ro(u,m,y,!1,T,L)}function ro(u,m,y,T,L,B){if(!m)throw Error("Invalid event type");var Z=_(L)?!!L.capture:!!L,Pt=so(u);if(Pt||(u[Xi]=Pt=new $e(u)),y=Pt.add(m,y,T,Z,B),y.proxy)return y;if(T=Gs(),y.proxy=T,T.src=u,T.listener=y,u.addEventListener)nt||(L=Z),L===void 0&&(L=!1),u.addEventListener(m.toString(),T,L);else if(u.attachEvent)u.attachEvent(Qs(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return y}function Gs(){function u(y){return m.call(u.src,u.listener,y)}const m=dh;return u}function Ks(u,m,y,T,L){if(Array.isArray(m))for(var B=0;B<m.length;B++)Ks(u,m[B],y,T,L);else T=_(T)?!!T.capture:!!T,y=Fl(y),u&&u[de]?(u=u.i,m=String(m).toString(),m in u.g&&(B=u.g[m],y=_n(B,y,T,L),-1<y&&(Kt(B[y]),Array.prototype.splice.call(B,y,1),B.length==0&&(delete u.g[m],u.h--)))):u&&(u=so(u))&&(m=u.g[m.toString()],u=-1,m&&(u=_n(m,y,T,L)),(y=-1<u?m[u]:null)&&es(y))}function es(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[de])di(m.i,u);else{var y=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(y,T,u.capture):m.detachEvent?m.detachEvent(Qs(y),T):m.addListener&&m.removeListener&&m.removeListener(T),(y=so(m))?(di(y,u),y.h==0&&(y.src=null,m[Xi]=null)):Kt(u)}}}function Qs(u){return u in $i?$i[u]:$i[u]="on"+u}function dh(u,m){if(u.da)u=!0;else{m=new Rt(m,this);var y=u.listener,T=u.ha||u.src;u.fa&&es(u),u=y.call(T,m)}return u}function so(u){return u=u[Xi],u instanceof $e?u:null}var nn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Fl(u){return typeof u=="function"?u:(u[nn]||(u[nn]=function(m){return u.handleEvent(m)}),u[nn])}function ye(){ot.call(this),this.i=new $e(this),this.M=this,this.F=null}Q(ye,ot),ye.prototype[de]=!0,ye.prototype.removeEventListener=function(u,m,y,T){Ks(this,u,m,y,T)};function Ie(u,m){var y,T=u.F;if(T)for(y=[];T;T=T.F)y.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new et(m,u);else if(m instanceof et)m.target=m.target||u;else{var L=m;m=new et(T,u),I(m,L)}if(L=!0,y)for(var B=y.length-1;0<=B;B--){var Z=m.g=y[B];L=gi(Z,T,!0,m)&&L}if(Z=m.g=u,L=gi(Z,T,!0,m)&&L,L=gi(Z,T,!1,m)&&L,y)for(B=0;B<y.length;B++)Z=m.g=y[B],L=gi(Z,T,!1,m)&&L}ye.prototype.N=function(){if(ye.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var y=u.g[m],T=0;T<y.length;T++)Kt(y[T]);delete u.g[m],u.h--}}this.F=null},ye.prototype.K=function(u,m,y,T){return this.i.add(String(u),m,!1,y,T)},ye.prototype.L=function(u,m,y,T){return this.i.add(String(u),m,!0,y,T)};function gi(u,m,y,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var L=!0,B=0;B<m.length;++B){var Z=m[B];if(Z&&!Z.da&&Z.capture==y){var Pt=Z.listener,Ee=Z.ha||Z.src;Z.fa&&di(u.i,Z),L=Pt.call(Ee,T)!==!1&&L}}return L&&!T.defaultPrevented}function Gl(u,m,y){if(typeof u=="function")y&&(u=P(u,y));else if(u&&typeof u.handleEvent=="function")u=P(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function ao(u){u.g=Gl(()=>{u.g=null,u.i&&(u.i=!1,ao(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class mh extends ot{constructor(m,y){super(),this.m=m,this.l=y,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:ao(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ns(u){ot.call(this),this.h=u,this.g={}}Q(ns,ot);var Wi=[];function He(u){st(u.g,function(m,y){this.g.hasOwnProperty(y)&&es(m)},u),u.g={}}ns.prototype.N=function(){ns.aa.N.call(this),He(this)},ns.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var oo=g.JSON.stringify,Fn=g.JSON.parse,We=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function lo(){}lo.prototype.h=null;function Kl(u){return u.h||(u.h=u.i())}function Ql(){}var Gn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Zi(){et.call(this,"d")}Q(Zi,et);function kn(){et.call(this,"c")}Q(kn,et);var yn={},Ji=null;function Ys(){return Ji=Ji||new ye}yn.La="serverreachability";function uo(u){et.call(this,yn.La,u)}Q(uo,et);function tr(u){const m=Ys();Ie(m,new uo(m))}yn.STAT_EVENT="statevent";function Xs(u,m){et.call(this,yn.STAT_EVENT,u),this.stat=m}Q(Xs,et);function ce(u){const m=Ys();Ie(m,new Xs(m,u))}yn.Ma="timingevent";function Yl(u,m){et.call(this,yn.Ma,u),this.size=m}Q(Yl,et);function er(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function nr(){this.g=!0}nr.prototype.xa=function(){this.g=!1};function Xl(u,m,y,T,L,B){u.info(function(){if(u.g)if(B)for(var Z="",Pt=B.split("&"),Ee=0;Ee<Pt.length;Ee++){var kt=Pt[Ee].split("=");if(1<kt.length){var Oe=kt[0];kt=kt[1];var Te=Oe.split("_");Z=2<=Te.length&&Te[1]=="type"?Z+(Oe+"="+kt+"&"):Z+(Oe+"=redacted&")}}else Z=null;else Z=B;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+y+`
`+Z})}function $l(u,m,y,T,L,B,Z){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+y+`
`+B+" "+Z})}function ir(u,m,y,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Ce(u,y)+(T?" "+T:"")})}function Kn(u,m){u.info(function(){return"TIMEOUT: "+m})}nr.prototype.info=function(){};function Ce(u,m){if(!u.g)return m;if(!m)return null;try{var y=JSON.parse(m);if(y){for(u=0;u<y.length;u++)if(Array.isArray(y[u])){var T=y[u];if(!(2>T.length)){var L=T[1];if(Array.isArray(L)&&!(1>L.length)){var B=L[0];if(B!="noop"&&B!="stop"&&B!="close")for(var Z=1;Z<L.length;Z++)L[Z]=""}}}}return oo(y)}catch{return m}}var ve={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},pi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},is;function $s(){}Q($s,lo),$s.prototype.g=function(){return new XMLHttpRequest},$s.prototype.i=function(){return{}},is=new $s;function Qn(u,m,y,T){this.j=u,this.i=m,this.l=y,this.R=T||1,this.U=new ns(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new co}function co(){this.i=null,this.g="",this.h=!1}var rr={},rs={};function Un(u,m,y){u.L=1,u.v=os(ae(m)),u.m=y,u.P=!0,_i(u,null)}function _i(u,m){u.F=Date.now(),ee(u),u.A=ae(u.v);var y=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),Ei(y.i,"t",T),u.C=0,y=u.j.J,u.h=new co,u.g=cu(u.j,y?m:null,!u.m),0<u.O&&(u.M=new mh(P(u.Y,u,u.g),u.O)),m=u.U,y=u.g,T=u.ca;var L="readystatechange";Array.isArray(L)||(L&&(Wi[0]=L.toString()),L=Wi);for(var B=0;B<L.length;B++){var Z=mi(y,L[B],T||m.handleEvent,!1,m.h||m);if(!Z)break;m.g[Z.key]=Z}m=u.H?b(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),tr(),Xl(u.i,u.u,u.A,u.l,u.R,u.m)}Qn.prototype.ca=function(u){u=u.target;const m=this.M;m&&Sn(u)==3?m.j():this.Y(u)},Qn.prototype.Y=function(u){try{if(u==this.g)t:{const Te=Sn(this.g);var m=this.g.Ba();const bi=this.g.Z();if(!(3>Te)&&(Te!=3||this.g&&(this.h.h||this.g.oa()||nu(this.g)))){this.J||Te!=4||m==7||(m==8||0>=bi?tr(3):tr(2)),Ws(this);var y=this.g.Z();this.X=y;e:if(sr(this)){var T=nu(this.g);u="";var L=T.length,B=Sn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){rn(this),un(this);var Z="";break e}this.h.i=new g.TextDecoder}for(m=0;m<L;m++)this.h.h=!0,u+=this.h.i.decode(T[m],{stream:!(B&&m==L-1)});T.length=0,this.h.g+=u,this.C=0,Z=this.h.g}else Z=this.g.oa();if(this.o=y==200,$l(this.i,this.u,this.A,this.l,this.R,Te,y),this.o){if(this.T&&!this.K){e:{if(this.g){var Pt,Ee=this.g;if((Pt=Ee.g?Ee.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!mt(Pt)){var kt=Pt;break e}}kt=null}if(y=kt)ir(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,cn(this,y);else{this.o=!1,this.s=3,ce(12),rn(this),un(this);break t}}if(this.P){y=!0;let ke;for(;!this.J&&this.C<Z.length;)if(ke=ar(this,Z),ke==rs){Te==4&&(this.s=4,ce(14),y=!1),ir(this.i,this.l,null,"[Incomplete Response]");break}else if(ke==rr){this.s=4,ce(15),ir(this.i,this.l,Z,"[Invalid Chunk]"),y=!1;break}else ir(this.i,this.l,ke,null),cn(this,ke);if(sr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Te!=4||Z.length!=0||this.h.h||(this.s=1,ce(16),y=!1),this.o=this.o&&y,!y)ir(this.i,this.l,Z,"[Invalid Chunked Response]"),rn(this),un(this);else if(0<Z.length&&!this.W){this.W=!0;var Oe=this.j;Oe.g==this&&Oe.ba&&!Oe.M&&(Oe.j.info("Great, no buffering proxy detected. Bytes received: "+Z.length),ms(Oe),Oe.M=!0,ce(11))}}else ir(this.i,this.l,Z,null),cn(this,Z);Te==4&&rn(this),this.o&&!this.J&&(Te==4?ou(this.j,this):(this.o=!1,ee(this)))}else Eh(this.g),y==400&&0<Z.indexOf("Unknown SID")?(this.s=3,ce(12)):(this.s=0,ce(13)),rn(this),un(this)}}}catch{}finally{}};function sr(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function ar(u,m){var y=u.C,T=m.indexOf(`
`,y);return T==-1?rs:(y=Number(m.substring(y,T)),isNaN(y)?rr:(T+=1,T+y>m.length?rs:(m=m.slice(T,T+y),u.C=T+y,m)))}Qn.prototype.cancel=function(){this.J=!0,rn(this)};function ee(u){u.S=Date.now()+u.I,ho(u,u.I)}function ho(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=er(P(u.ba,u),m)}function Ws(u){u.B&&(g.clearTimeout(u.B),u.B=null)}Qn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Kn(this.i,this.A),this.L!=2&&(tr(),ce(17)),rn(this),this.s=2,un(this)):ho(this,this.S-u)};function un(u){u.j.G==0||u.J||ou(u.j,u)}function rn(u){Ws(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,He(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function cn(u,m){try{var y=u.j;if(y.G!=0&&(y.g==u||or(y.h,u))){if(!u.K&&or(y.h,u)&&y.G==3){try{var T=y.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!y.u){if(y.g)if(y.g.F+3e3<u.F)oa(y),sa(y);else break t;So(y),ce(18)}}else y.za=L[1],0<y.za-y.T&&37500>L[2]&&y.F&&y.v==0&&!y.C&&(y.C=er(P(y.Za,y),6e3));if(1>=Wl(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else Si(y,11)}else if((u.K||y.g==u)&&oa(y),!mt(m))for(L=y.Da.g.parse(m),m=0;m<L.length;m++){let kt=L[m];if(y.T=kt[0],kt=kt[1],y.G==2)if(kt[0]=="c"){y.K=kt[1],y.ia=kt[2];const Oe=kt[3];Oe!=null&&(y.la=Oe,y.j.info("VER="+y.la));const Te=kt[4];Te!=null&&(y.Aa=Te,y.j.info("SVER="+y.Aa));const bi=kt[5];bi!=null&&typeof bi=="number"&&0<bi&&(T=1.5*bi,y.L=T,y.j.info("backChannelRequestTimeoutMs_="+T)),T=y;const ke=u.g;if(ke){const ti=ke.g?ke.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ti){var B=T.h;B.g||ti.indexOf("spdy")==-1&&ti.indexOf("quic")==-1&&ti.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(lr(B,B.h),B.h=null))}if(T.D){const wo=ke.g?ke.g.getResponseHeader("X-HTTP-Session-Id"):null;wo&&(T.ya=wo,zt(T.I,T.D,wo))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-u.F,y.j.info("Handshake RTT: "+y.R+"ms")),T=y;var Z=u;if(T.qa=uu(T,T.J?T.ia:null,T.W),Z.K){vn(T.h,Z);var Pt=Z,Ee=T.L;Ee&&(Pt.I=Ee),Pt.B&&(Ws(Pt),ee(Pt)),T.g=Z}else su(T);0<y.i.length&&aa(y)}else kt[0]!="stop"&&kt[0]!="close"||Si(y,7);else y.G==3&&(kt[0]=="stop"||kt[0]=="close"?kt[0]=="stop"?Si(y,7):To(y):kt[0]!="noop"&&y.l&&y.l.ta(kt),y.v=0)}}tr(4)}catch{}}var gh=class{constructor(u,m){this.g=u,this.map=m}};function fo(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function mo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Wl(u){return u.h?1:u.g?u.g.size:0}function or(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function lr(u,m){u.g?u.g.add(m):u.h=m}function vn(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}fo.prototype.cancel=function(){if(this.i=Ze(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Ze(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const y of u.g.values())m=m.concat(y.D);return m}return J(u.i)}function Zl(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],y=u.length,T=0;T<y;T++)m.push(u[T]);return m}m=[],y=0;for(T in u)m[y++]=u[T];return m}function ph(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var y=0;y<u;y++)m.push(y);return m}m=[],y=0;for(const T in u)m[y++]=T;return m}}}function ss(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var y=ph(u),T=Zl(u),L=T.length,B=0;B<L;B++)m.call(void 0,T[B],y&&y[B],u)}var go=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Zs(u,m){if(u){u=u.split("&");for(var y=0;y<u.length;y++){var T=u[y].indexOf("="),L=null;if(0<=T){var B=u[y].substring(0,T);L=u[y].substring(T+1)}else B=u[y];m(B,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function yi(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof yi){this.h=u.h,ur(this,u.j),this.o=u.o,this.g=u.g,as(this,u.s),this.l=u.l;var m=u.i,y=new Yn;y.i=m.i,m.g&&(y.g=new Map(m.g),y.h=m.h),Js(this,y),this.m=u.m}else u&&(m=String(u).match(go))?(this.h=!1,ur(this,m[1]||"",!0),this.o=cr(m[2]||""),this.g=cr(m[3]||"",!0),as(this,m[4]),this.l=cr(m[5]||"",!0),Js(this,m[6]||"",!0),this.m=cr(m[7]||"")):(this.h=!1,this.i=new Yn(null,this.h))}yi.prototype.toString=function(){var u=[],m=this.j;m&&u.push(En(m,po,!0),":");var y=this.g;return(y||m=="file")&&(u.push("//"),(m=this.o)&&u.push(En(m,po,!0),"@"),u.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&u.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(En(y,y.charAt(0)=="/"?_o:Jl,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",En(y,vh)),u.join("")};function ae(u){return new yi(u)}function ur(u,m,y){u.j=y?cr(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function as(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function Js(u,m,y){m instanceof Yn?(u.i=m,yo(u.i,u.h)):(y||(m=En(m,yh)),u.i=new Yn(m,u.h))}function zt(u,m,y){u.i.set(m,y)}function os(u){return zt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function cr(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function En(u,m,y){return typeof u=="string"?(u=encodeURI(u).replace(m,_h),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function _h(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var po=/[#\/\?@]/g,Jl=/[#\?:]/g,_o=/[#\?]/g,yh=/[#\?@]/g,vh=/#/g;function Yn(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Tn(u){u.g||(u.g=new Map,u.h=0,u.i&&Zs(u.i,function(m,y){u.add(decodeURIComponent(m.replace(/\+/g," ")),y)}))}r=Yn.prototype,r.add=function(u,m){Tn(this),this.i=null,u=Ti(this,u);var y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(m),this.h+=1,this};function ta(u,m){Tn(u),m=Ti(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function vi(u,m){return Tn(u),m=Ti(u,m),u.g.has(m)}r.forEach=function(u,m){Tn(this),this.g.forEach(function(y,T){y.forEach(function(L){u.call(m,L,T,this)},this)},this)},r.na=function(){Tn(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),y=[];for(let T=0;T<m.length;T++){const L=u[T];for(let B=0;B<L.length;B++)y.push(m[T])}return y},r.V=function(u){Tn(this);let m=[];if(typeof u=="string")vi(this,u)&&(m=m.concat(this.g.get(Ti(this,u))));else{u=Array.from(this.g.values());for(let y=0;y<u.length;y++)m=m.concat(u[y])}return m},r.set=function(u,m){return Tn(this),this.i=null,u=Ti(this,u),vi(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function Ei(u,m,y){ta(u,m),0<y.length&&(u.i=null,u.g.set(Ti(u,m),J(y)),u.h+=y.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var y=0;y<m.length;y++){var T=m[y];const B=encodeURIComponent(String(T)),Z=this.V(T);for(T=0;T<Z.length;T++){var L=B;Z[T]!==""&&(L+="="+encodeURIComponent(String(Z[T]))),u.push(L)}}return this.i=u.join("&")};function Ti(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function yo(u,m){m&&!u.j&&(Tn(u),u.i=null,u.g.forEach(function(y,T){var L=T.toLowerCase();T!=L&&(ta(this,T),Ei(this,L,y))},u)),u.j=m}function tu(u,m){const y=new nr;if(g.Image){const T=new Image;T.onload=j(An,y,"TestLoadImage: loaded",!0,m,T),T.onerror=j(An,y,"TestLoadImage: error",!1,m,T),T.onabort=j(An,y,"TestLoadImage: abort",!1,m,T),T.ontimeout=j(An,y,"TestLoadImage: timeout",!1,m,T),g.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function ls(u,m){const y=new nr,T=new AbortController,L=setTimeout(()=>{T.abort(),An(y,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(L),B.ok?An(y,"TestPingServer: ok",!0,m):An(y,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),An(y,"TestPingServer: error",!1,m)})}function An(u,m,y,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(y)}catch{}}function us(){this.g=new We}function Xn(u,m,y){const T=y||"";try{ss(u,function(L,B){let Z=L;_(L)&&(Z=oo(L)),m.push(T+B+"="+encodeURIComponent(Z))})}catch(L){throw m.push(T+"type="+encodeURIComponent("_badmap")),L}}function hr(u){this.l=u.Ub||null,this.j=u.eb||!1}Q(hr,lo),hr.prototype.g=function(){return new Ai(this.l,this.j)},hr.prototype.i=function(u){return function(){return u}}({});function Ai(u,m){ye.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}Q(Ai,ye),r=Ai.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Wn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,$n(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Wn(this)),this.g&&(this.readyState=3,Wn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;vo(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function vo(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?$n(this):Wn(this),this.readyState==3&&vo(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,$n(this))},r.Qa=function(u){this.g&&(this.response=u,$n(this))},r.ga=function(){this.g&&$n(this)};function $n(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Wn(u)}r.setRequestHeader=function(u,m){this.u.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var y=m.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=m.next();return u.join(`\r
`)};function Wn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ai.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Eo(u){let m="";return st(u,function(y,T){m+=T,m+=":",m+=y,m+=`\r
`}),m}function De(u,m,y){t:{for(T in y){var T=!1;break t}T=!0}T||(y=Eo(y),typeof u=="string"?y!=null&&encodeURIComponent(String(y)):zt(u,m,y))}function Ft(u){ye.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}Q(Ft,ye);var ea=/^https?$/i,cs=["POST","PUT"];r=Ft.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,m,y,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():is.g(),this.v=this.o?Kl(this.o):Kl(is),this.g.onreadystatechange=P(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){eu(this,B);return}if(u=y||"",y=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)y.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())y.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(y.keys()).find(B=>B.toLowerCase()=="content-type"),L=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(cs,m,void 0))||T||L||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,Z]of y)this.g.setRequestHeader(B,Z);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{hs(this),this.u=!0,this.g.send(u),this.u=!1}catch(B){eu(this,B)}};function eu(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,na(u),Zn(u)}function na(u){u.A||(u.A=!0,Ie(u,"complete"),Ie(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Ie(this,"complete"),Ie(this,"abort"),Zn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zn(this,!0)),Ft.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?ia(this):this.bb())},r.bb=function(){ia(this)};function ia(u){if(u.h&&typeof f<"u"&&(!u.v[1]||Sn(u)!=4||u.Z()!=2)){if(u.u&&Sn(u)==4)Gl(u.Ea,0,u);else if(Ie(u,"readystatechange"),Sn(u)==4){u.h=!1;try{const Z=u.Z();t:switch(Z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var y;if(!(y=m)){var T;if(T=Z===0){var L=String(u.D).match(go)[1]||null;!L&&g.self&&g.self.location&&(L=g.self.location.protocol.slice(0,-1)),T=!ea.test(L?L.toLowerCase():"")}y=T}if(y)Ie(u,"complete"),Ie(u,"success");else{u.m=6;try{var B=2<Sn(u)?u.g.statusText:""}catch{B=""}u.l=B+" ["+u.Z()+"]",na(u)}}finally{Zn(u)}}}}function Zn(u,m){if(u.g){hs(u);const y=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Ie(u,"ready");try{y.onreadystatechange=T}catch{}}}function hs(u){u.I&&(g.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function Sn(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<Sn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Fn(m)}};function nu(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Eh(u){const m={};u=(u.g&&2<=Sn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(mt(u[T]))continue;var y=M(u[T]);const L=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const B=m[L]||[];m[L]=B,B.push(y)}O(m,function(T){return T.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function fs(u,m,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||m}function ra(u){this.Aa=0,this.i=[],this.j=new nr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=fs("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=fs("baseRetryDelayMs",5e3,u),this.cb=fs("retryDelaySeedMs",1e4,u),this.Wa=fs("forwardChannelMaxRetries",2,u),this.wa=fs("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new fo(u&&u.concurrentRequestLimit),this.Da=new us,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=ra.prototype,r.la=8,r.G=1,r.connect=function(u,m,y,T){ce(0),this.W=u,this.H=m||{},y&&T!==void 0&&(this.H.OSID=y,this.H.OAID=T),this.F=this.X,this.I=uu(this,null,this.W),aa(this)};function To(u){if(iu(u),u.G==3){var m=u.U++,y=ae(u.I);if(zt(y,"SID",u.K),zt(y,"RID",m),zt(y,"TYPE","terminate"),ds(u,y),m=new Qn(u,u.j,m),m.L=2,m.v=os(ae(y)),y=!1,g.navigator&&g.navigator.sendBeacon)try{y=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!y&&g.Image&&(new Image().src=m.v,y=!0),y||(m.g=cu(m.j,null),m.g.ea(m.v)),m.F=Date.now(),ee(m)}lu(u)}function sa(u){u.g&&(ms(u),u.g.cancel(),u.g=null)}function iu(u){sa(u),u.u&&(g.clearTimeout(u.u),u.u=null),oa(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function aa(u){if(!mo(u.h)&&!u.s){u.s=!0;var m=u.Ga;_t||D(),ht||(_t(),ht=!0),Ht.add(m,u),u.B=0}}function Th(u,m){return Wl(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=er(P(u.Ga,u,m),bo(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const L=new Qn(this,this.j,u);let B=this.o;if(this.S&&(B?(B=b(B),I(B,this.S)):B=this.S),this.m!==null||this.O||(L.H=B,B=null),this.P)t:{for(var m=0,y=0;y<this.i.length;y++){e:{var T=this.i[y];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=y;break t}if(m===4096||y===this.i.length-1){m=y+1;break t}}m=1e3}else m=1e3;m=ru(this,L,m),y=ae(this.I),zt(y,"RID",u),zt(y,"CVER",22),this.D&&zt(y,"X-HTTP-Session-Id",this.D),ds(this,y),B&&(this.O?m="headers="+encodeURIComponent(String(Eo(B)))+"&"+m:this.m&&De(y,this.m,B)),lr(this.h,L),this.Ua&&zt(y,"TYPE","init"),this.P?(zt(y,"$req",m),zt(y,"SID","null"),L.T=!0,Un(L,y,null)):Un(L,y,m),this.G=2}}else this.G==3&&(u?Ao(this,u):this.i.length==0||mo(this.h)||Ao(this))};function Ao(u,m){var y;m?y=m.l:y=u.U++;const T=ae(u.I);zt(T,"SID",u.K),zt(T,"RID",y),zt(T,"AID",u.T),ds(u,T),u.m&&u.o&&De(T,u.m,u.o),y=new Qn(u,u.j,y,u.B+1),u.m===null&&(y.H=u.o),m&&(u.i=m.D.concat(u.i)),m=ru(u,y,1e3),y.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),lr(u.h,y),Un(y,T,m)}function ds(u,m){u.H&&st(u.H,function(y,T){zt(m,T,y)}),u.l&&ss({},function(y,T){zt(m,T,y)})}function ru(u,m,y){y=Math.min(u.i.length,y);var T=u.l?P(u.l.Na,u.l,u):null;t:{var L=u.i;let B=-1;for(;;){const Z=["count="+y];B==-1?0<y?(B=L[0].g,Z.push("ofs="+B)):B=0:Z.push("ofs="+B);let Pt=!0;for(let Ee=0;Ee<y;Ee++){let kt=L[Ee].g;const Oe=L[Ee].map;if(kt-=B,0>kt)B=Math.max(0,L[Ee].g-100),Pt=!1;else try{Xn(Oe,Z,"req"+kt+"_")}catch{T&&T(Oe)}}if(Pt){T=Z.join("&");break t}}}return u=u.i.splice(0,y),m.D=u,T}function su(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;_t||D(),ht||(_t(),ht=!0),Ht.add(m,u),u.v=0}}function So(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=er(P(u.Fa,u),bo(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,au(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=er(P(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ce(10),sa(this),au(this))};function ms(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function au(u){u.g=new Qn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=ae(u.qa);zt(m,"RID","rpc"),zt(m,"SID",u.K),zt(m,"AID",u.T),zt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&zt(m,"TO",u.ja),zt(m,"TYPE","xmlhttp"),ds(u,m),u.m&&u.o&&De(m,u.m,u.o),u.L&&(u.g.I=u.L);var y=u.g;u=u.ia,y.L=1,y.v=os(ae(m)),y.m=null,y.P=!0,_i(y,u)}r.Za=function(){this.C!=null&&(this.C=null,sa(this),So(this),ce(19))};function oa(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function ou(u,m){var y=null;if(u.g==m){oa(u),ms(u),u.g=null;var T=2}else if(or(u.h,m))y=m.D,vn(u.h,m),T=1;else return;if(u.G!=0){if(m.o)if(T==1){y=m.m?m.m.length:0,m=Date.now()-m.F;var L=u.B;T=Ys(),Ie(T,new Yl(T,y)),aa(u)}else su(u);else if(L=m.s,L==3||L==0&&0<m.X||!(T==1&&Th(u,m)||T==2&&So(u)))switch(y&&0<y.length&&(m=u.h,m.i=m.i.concat(y)),L){case 1:Si(u,5);break;case 4:Si(u,10);break;case 3:Si(u,6);break;default:Si(u,2)}}}function bo(u,m){let y=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(y*=2),y*m}function Si(u,m){if(u.j.info("Error code "+m),m==2){var y=P(u.fb,u),T=u.Xa;const L=!T;T=new yi(T||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||ur(T,"https"),os(T),L?tu(T.toString(),y):ls(T.toString(),y)}else ce(2);u.G=0,u.l&&u.l.sa(m),lu(u),iu(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),ce(2)):(this.j.info("Failed to ping google.com"),ce(1))};function lu(u){if(u.G=0,u.ka=[],u.l){const m=Ze(u.h);(m.length!=0||u.i.length!=0)&&($(u.ka,m),$(u.ka,u.i),u.h.i.length=0,J(u.i),u.i.length=0),u.l.ra()}}function uu(u,m,y){var T=y instanceof yi?ae(y):new yi(y);if(T.g!="")m&&(T.g=m+"."+T.g),as(T,T.s);else{var L=g.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;var B=new yi(null);T&&ur(B,T),m&&(B.g=m),L&&as(B,L),y&&(B.l=y),T=B}return y=u.D,m=u.ya,y&&m&&zt(T,y,m),zt(T,"VER",u.la),ds(u,T),T}function cu(u,m,y){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new Ft(new hr({eb:y})):new Ft(u.pa),m.Ha(u.J),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function hu(){}r=hu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function la(){}la.prototype.g=function(u,m){return new Je(u,m)};function Je(u,m){ye.call(this),this.g=new ra(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!mt(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!mt(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Jn(this)}Q(Je,ye),Je.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Je.prototype.close=function(){To(this.g)},Je.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.u&&(y={},y.__data__=oo(u),u=y);m.i.push(new gh(m.Ya++,u)),m.G==3&&aa(m)},Je.prototype.N=function(){this.g.l=null,delete this.j,To(this.g),delete this.g,Je.aa.N.call(this)};function fu(u){Zi.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const y in m){u=y;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}Q(fu,Zi);function du(){kn.call(this),this.status=1}Q(du,kn);function Jn(u){this.g=u}Q(Jn,hu),Jn.prototype.ua=function(){Ie(this.g,"a")},Jn.prototype.ta=function(u){Ie(this.g,new fu(u))},Jn.prototype.sa=function(u){Ie(this.g,new du)},Jn.prototype.ra=function(){Ie(this.g,"b")},la.prototype.createWebChannel=la.prototype.g,Je.prototype.send=Je.prototype.o,Je.prototype.open=Je.prototype.m,Je.prototype.close=Je.prototype.close,PE=function(){return new la},VE=function(){return Ys()},ME=yn,zd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ve.NO_ERROR=0,ve.TIMEOUT=8,ve.HTTP_ERROR=6,Tc=ve,pi.COMPLETE="complete",NE=pi,Ql.EventType=Gn,Gn.OPEN="a",Gn.CLOSE="b",Gn.ERROR="c",Gn.MESSAGE="d",ye.prototype.listen=ye.prototype.K,ml=Ql,Ft.prototype.listenOnce=Ft.prototype.L,Ft.prototype.getLastError=Ft.prototype.Ka,Ft.prototype.getLastErrorCode=Ft.prototype.Ba,Ft.prototype.getStatus=Ft.prototype.Z,Ft.prototype.getResponseJson=Ft.prototype.Oa,Ft.prototype.getResponseText=Ft.prototype.oa,Ft.prototype.send=Ft.prototype.ea,Ft.prototype.setWithCredentials=Ft.prototype.Ha,OE=Ft}).apply(typeof fc<"u"?fc:typeof self<"u"?self:typeof window<"u"?window:{});const jy="@firebase/firestore",By="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Qe.UNAUTHENTICATED=new Qe(null),Qe.GOOGLE_CREDENTIALS=new Qe("google-credentials-uid"),Qe.FIRST_PARTY=new Qe("first-party-uid"),Qe.MOCK_USER=new Qe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let to="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zs=new am("@firebase/firestore");function ka(){return zs.logLevel}function it(r,...t){if(zs.logLevel<=Nt.DEBUG){const n=t.map(ym);zs.debug(`Firestore (${to}): ${r}`,...n)}}function Ki(r,...t){if(zs.logLevel<=Nt.ERROR){const n=t.map(ym);zs.error(`Firestore (${to}): ${r}`,...n)}}function Ga(r,...t){if(zs.logLevel<=Nt.WARN){const n=t.map(ym);zs.warn(`Firestore (${to}): ${r}`,...n)}}function ym(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(r="Unexpected state"){const t=`FIRESTORE (${to}) INTERNAL ASSERTION FAILED: `+r;throw Ki(t),new Error(t)}function Gt(r,t){r||yt()}function St(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ct extends Yi{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class HR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Qe.UNAUTHENTICATED))}shutdown(){}}class FR{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class GR{constructor(t){this.t=t,this.currentUser=Qe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Gt(this.o===void 0);let s=this.i;const l=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let c=new Hr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Hr,t.enqueueRetryable(()=>l(this.currentUser))};const f=()=>{const p=c;t.enqueueRetryable(async()=>{await p.promise,await l(this.currentUser)})},g=p=>{it("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>g(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?g(p):(it("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Hr)}},0),f()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==t?(it("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Gt(typeof s.accessToken=="string"),new kE(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Gt(t===null||typeof t=="string"),new Qe(t)}}class KR{constructor(t,n,s){this.l=t,this.h=n,this.P=s,this.type="FirstParty",this.user=Qe.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.T.set("Authorization",t),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class QR{constructor(t,n,s){this.l=t,this.h=n,this.P=s}getToken(){return Promise.resolve(new KR(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(Qe.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class qy{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class YR{constructor(t,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Pn(t)&&t.settings.appCheckToken&&(this.V=t.settings.appCheckToken)}start(t,n){Gt(this.o===void 0);const s=c=>{c.error!=null&&it("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const f=c.token!==this.R;return this.R=c.token,it("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable(()=>s(c))};const l=c=>{it("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(c=>l(c)),setTimeout(()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?l(c):it("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new qy(this.V));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Gt(typeof n.token=="string"),this.R=n.token,new qy(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XR(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UE(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=XR(40);for(let c=0;c<l.length;++c)s.length<20&&l[c]<n&&(s+=t.charAt(l[c]%62))}return s}}function Ct(r,t){return r<t?-1:r>t?1:0}function jd(r,t){let n=0;for(;n<r.length&&n<t.length;){const s=r.codePointAt(n),l=t.codePointAt(n);if(s!==l){if(s<128&&l<128)return Ct(s,l);{const c=UE(),f=$R(c.encode(Hy(r,n)),c.encode(Hy(t,n)));return f!==0?f:Ct(s,l)}}n+=s>65535?2:1}return Ct(r.length,t.length)}function Hy(r,t){return r.codePointAt(t)>65535?r.substring(t,t+2):r.substring(t,t+1)}function $R(r,t){for(let n=0;n<r.length&&n<t.length;++n)if(r[n]!==t[n])return Ct(r[n],t[n]);return Ct(r.length,t.length)}function Ka(r,t,n){return r.length===t.length&&r.every((s,l)=>n(s,t[l]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fy=-62135596800,Gy=1e6;class we{static now(){return we.fromMillis(Date.now())}static fromDate(t){return we.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*Gy);return new we(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ct(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ct(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<Fy)throw new ct(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ct(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Gy}_compareTo(t){return this.seconds===t.seconds?Ct(this.nanoseconds,t.nanoseconds):Ct(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-Fy;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{static fromTimestamp(t){return new Tt(t)}static min(){return new Tt(new we(0,0))}static max(){return new Tt(new we(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ky="__name__";class ai{constructor(t,n,s){n===void 0?n=0:n>t.length&&yt(),s===void 0?s=t.length-n:s>t.length-n&&yt(),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return ai.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof ai?t.forEach(s=>{n.push(s)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let l=0;l<s;l++){const c=ai.compareSegments(t.get(l),n.get(l));if(c!==0)return c}return Ct(t.length,n.length)}static compareSegments(t,n){const s=ai.isNumericId(t),l=ai.isNumericId(n);return s&&!l?-1:!s&&l?1:s&&l?ai.extractNumericId(t).compare(ai.extractNumericId(n)):jd(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return qr.fromString(t.substring(4,t.length-2))}}class Jt extends ai{construct(t,n,s){return new Jt(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new ct(Y.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(l=>l.length>0))}return new Jt(n)}static emptyPath(){return new Jt([])}}const WR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class je extends ai{construct(t,n,s){return new je(t,n,s)}static isValidIdentifier(t){return WR.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),je.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Ky}static keyField(){return new je([Ky])}static fromServerFormat(t){const n=[];let s="",l=0;const c=()=>{if(s.length===0)throw new ct(Y.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;l<t.length;){const g=t[l];if(g==="\\"){if(l+1===t.length)throw new ct(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[l+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ct(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=p,l+=2}else g==="`"?(f=!f,l++):g!=="."||f?(s+=g,l++):(c(),l++)}if(c(),f)throw new ct(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new je(n)}static emptyPath(){return new je([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(t){this.path=t}static fromPath(t){return new ft(Jt.fromString(t))}static fromName(t){return new ft(Jt.fromString(t).popFirst(5))}static empty(){return new ft(Jt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Jt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Jt.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ft(new Jt(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rl=-1;function ZR(r,t){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,l=Tt.fromTimestamp(s===1e9?new we(n+1,0):new we(n,s));return new Gr(l,ft.empty(),t)}function JR(r){return new Gr(r.readTime,r.key,Rl)}class Gr{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new Gr(Tt.min(),ft.empty(),Rl)}static max(){return new Gr(Tt.max(),ft.empty(),Rl)}}function t1(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=ft.comparator(r.documentKey,t.documentKey),n!==0?n:Ct(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class n1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eo(r){if(r.code!==Y.FAILED_PRECONDITION||r.message!==e1)throw r;it("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&yt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new G((s,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(s,l)},this.catchCallback=c=>{this.wrapFailure(n,c).next(s,l)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof G?n:G.resolve(n)}catch(n){return G.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):G.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):G.reject(n)}static resolve(t){return new G((n,s)=>{n(t)})}static reject(t){return new G((n,s)=>{s(t)})}static waitFor(t){return new G((n,s)=>{let l=0,c=0,f=!1;t.forEach(g=>{++l,g.next(()=>{++c,f&&c===l&&n()},p=>s(p))}),f=!0,c===l&&n()})}static or(t){let n=G.resolve(!1);for(const s of t)n=n.next(l=>l?G.resolve(l):s());return n}static forEach(t,n){const s=[];return t.forEach((l,c)=>{s.push(n.call(this,l,c))}),this.waitFor(s)}static mapArray(t,n){return new G((s,l)=>{const c=t.length,f=new Array(c);let g=0;for(let p=0;p<c;p++){const _=p;n(t[_]).next(A=>{f[_]=A,++g,g===c&&s(f)},A=>l(A))}})}static doWhile(t,n){return new G((s,l)=>{const c=()=>{t()===!0?n().next(()=>{c()},l):s()};c()})}}function i1(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function no(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.oe(s),this._e=s=>n.writeSequenceNumber(s))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this._e&&this._e(t),t}}Wc.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vm=-1;function Zc(r){return r==null}function Pc(r){return r===0&&1/r==-1/0}function r1(r){return typeof r=="number"&&Number.isInteger(r)&&!Pc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xE="";function s1(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=Qy(t)),t=a1(r.get(n),t);return Qy(t)}function a1(r,t){let n=t;const s=r.length;for(let l=0;l<s;l++){const c=r.charAt(l);switch(c){case"\0":n+="";break;case xE:n+="";break;default:n+=c}}return n}function Qy(r){return r+xE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yy(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function Jr(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function zE(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(t,n){this.comparator=t,this.root=n||ze.EMPTY}insert(t,n){return new re(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,ze.BLACK,null,null))}remove(t){return new re(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ze.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(t,s.key);if(l===0)return n+s.left.size;l<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,s)=>(t(n,s),!1))}toString(){const t=[];return this.inorderTraversal((n,s)=>(t.push(`${n}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new dc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new dc(this.root,t,this.comparator,!1)}getReverseIterator(){return new dc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new dc(this.root,t,this.comparator,!0)}}class dc{constructor(t,n,s,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=n?s(t.key,n):1,n&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class ze{constructor(t,n,s,l,c){this.key=t,this.value=n,this.color=s??ze.RED,this.left=l??ze.EMPTY,this.right=c??ze.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,l,c){return new ze(t??this.key,n??this.value,s??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let l=this;const c=s(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,n,s),null):c===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(t,n,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return ze.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,l=this;if(n(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(t,l.key)===0){if(l.right.isEmpty())return ze.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw yt();const t=this.left.check();if(t!==this.right.check())throw yt();return t+(this.isRed()?0:1)}}ze.EMPTY=null,ze.RED=!0,ze.BLACK=!1;ze.EMPTY=new class{constructor(){this.size=0}get key(){throw yt()}get value(){throw yt()}get color(){throw yt()}get left(){throw yt()}get right(){throw yt()}copy(t,n,s,l,c){return this}insert(t,n,s){return new ze(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(t){this.comparator=t,this.data=new re(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,s)=>(t(n),!1))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,t[1])>=0)return;n(l.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Xy(this.data.getIterator())}getIteratorFrom(t){return new Xy(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(s=>{n=n.add(s)}),n}isEqual(t){if(!(t instanceof Re)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=s.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Re(this.comparator);return n.data=t,n}}class Xy{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(t){this.fields=t,t.sort(je.comparator)}static empty(){return new pn([])}unionWith(t){let n=new Re(je.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new pn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Ka(this.fields,t.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new jE("Invalid base64 string: "+c):c}}(t);return new qe(n)}static fromUint8Array(t){const n=function(l){let c="";for(let f=0;f<l.length;++f)c+=String.fromCharCode(l[f]);return c}(t);return new qe(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let l=0;l<n.length;l++)s[l]=n.charCodeAt(l);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ct(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}qe.EMPTY_BYTE_STRING=new qe("");const o1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Kr(r){if(Gt(!!r),typeof r=="string"){let t=0;const n=o1.exec(r);if(Gt(!!n),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),t=Number(l)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:fe(r.seconds),nanos:fe(r.nanos)}}function fe(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Qr(r){return typeof r=="string"?qe.fromBase64String(r):qe.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BE="server_timestamp",qE="__type__",HE="__previous_value__",FE="__local_write_time__";function Em(r){var t,n;return((n=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[qE])===null||n===void 0?void 0:n.stringValue)===BE}function Jc(r){const t=r.mapValue.fields[HE];return Em(t)?Jc(t):t}function Il(r){const t=Kr(r.mapValue.fields[FE].timestampValue);return new we(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(t,n,s,l,c,f,g,p,_){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=l,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=g,this.longPollingOptions=p,this.useFetchStreams=_}}const kc="(default)";class Cl{constructor(t,n){this.projectId=t,this.database=n||kc}static empty(){return new Cl("","")}get isDefaultDatabase(){return this.database===kc}isEqual(t){return t instanceof Cl&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GE="__type__",u1="__max__",mc={mapValue:{}},KE="__vector__",Uc="value";function Yr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Em(r)?4:h1(r)?9007199254740991:c1(r)?10:11:yt()}function hi(r,t){if(r===t)return!0;const n=Yr(r);if(n!==Yr(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Il(r).isEqual(Il(t));case 3:return function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const f=Kr(l.timestampValue),g=Kr(c.timestampValue);return f.seconds===g.seconds&&f.nanos===g.nanos}(r,t);case 5:return r.stringValue===t.stringValue;case 6:return function(l,c){return Qr(l.bytesValue).isEqual(Qr(c.bytesValue))}(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return function(l,c){return fe(l.geoPointValue.latitude)===fe(c.geoPointValue.latitude)&&fe(l.geoPointValue.longitude)===fe(c.geoPointValue.longitude)}(r,t);case 2:return function(l,c){if("integerValue"in l&&"integerValue"in c)return fe(l.integerValue)===fe(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const f=fe(l.doubleValue),g=fe(c.doubleValue);return f===g?Pc(f)===Pc(g):isNaN(f)&&isNaN(g)}return!1}(r,t);case 9:return Ka(r.arrayValue.values||[],t.arrayValue.values||[],hi);case 10:case 11:return function(l,c){const f=l.mapValue.fields||{},g=c.mapValue.fields||{};if(Yy(f)!==Yy(g))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(g[p]===void 0||!hi(f[p],g[p])))return!1;return!0}(r,t);default:return yt()}}function Dl(r,t){return(r.values||[]).find(n=>hi(n,t))!==void 0}function Qa(r,t){if(r===t)return 0;const n=Yr(r),s=Yr(t);if(n!==s)return Ct(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ct(r.booleanValue,t.booleanValue);case 2:return function(c,f){const g=fe(c.integerValue||c.doubleValue),p=fe(f.integerValue||f.doubleValue);return g<p?-1:g>p?1:g===p?0:isNaN(g)?isNaN(p)?0:-1:1}(r,t);case 3:return $y(r.timestampValue,t.timestampValue);case 4:return $y(Il(r),Il(t));case 5:return jd(r.stringValue,t.stringValue);case 6:return function(c,f){const g=Qr(c),p=Qr(f);return g.compareTo(p)}(r.bytesValue,t.bytesValue);case 7:return function(c,f){const g=c.split("/"),p=f.split("/");for(let _=0;_<g.length&&_<p.length;_++){const A=Ct(g[_],p[_]);if(A!==0)return A}return Ct(g.length,p.length)}(r.referenceValue,t.referenceValue);case 8:return function(c,f){const g=Ct(fe(c.latitude),fe(f.latitude));return g!==0?g:Ct(fe(c.longitude),fe(f.longitude))}(r.geoPointValue,t.geoPointValue);case 9:return Wy(r.arrayValue,t.arrayValue);case 10:return function(c,f){var g,p,_,A;const R=c.fields||{},P=f.fields||{},j=(g=R[Uc])===null||g===void 0?void 0:g.arrayValue,Q=(p=P[Uc])===null||p===void 0?void 0:p.arrayValue,J=Ct(((_=j==null?void 0:j.values)===null||_===void 0?void 0:_.length)||0,((A=Q==null?void 0:Q.values)===null||A===void 0?void 0:A.length)||0);return J!==0?J:Wy(j,Q)}(r.mapValue,t.mapValue);case 11:return function(c,f){if(c===mc.mapValue&&f===mc.mapValue)return 0;if(c===mc.mapValue)return 1;if(f===mc.mapValue)return-1;const g=c.fields||{},p=Object.keys(g),_=f.fields||{},A=Object.keys(_);p.sort(),A.sort();for(let R=0;R<p.length&&R<A.length;++R){const P=jd(p[R],A[R]);if(P!==0)return P;const j=Qa(g[p[R]],_[A[R]]);if(j!==0)return j}return Ct(p.length,A.length)}(r.mapValue,t.mapValue);default:throw yt()}}function $y(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Ct(r,t);const n=Kr(r),s=Kr(t),l=Ct(n.seconds,s.seconds);return l!==0?l:Ct(n.nanos,s.nanos)}function Wy(r,t){const n=r.values||[],s=t.values||[];for(let l=0;l<n.length&&l<s.length;++l){const c=Qa(n[l],s[l]);if(c)return c}return Ct(n.length,s.length)}function Ya(r){return Bd(r)}function Bd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=Kr(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return Qr(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return ft.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",l=!0;for(const c of n.values||[])l?l=!1:s+=",",s+=Bd(c);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let l="{",c=!0;for(const f of s)c?c=!1:l+=",",l+=`${f}:${Bd(n.fields[f])}`;return l+"}"}(r.mapValue):yt()}function Ac(r){switch(Yr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Jc(r);return t?16+Ac(t):16;case 5:return 2*r.stringValue.length;case 6:return Qr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((l,c)=>l+Ac(c),0)}(r.arrayValue);case 10:case 11:return function(s){let l=0;return Jr(s.fields,(c,f)=>{l+=c.length+Ac(f)}),l}(r.mapValue);default:throw yt()}}function qd(r){return!!r&&"integerValue"in r}function Tm(r){return!!r&&"arrayValue"in r}function Zy(r){return!!r&&"nullValue"in r}function Jy(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Sc(r){return!!r&&"mapValue"in r}function c1(r){var t,n;return((n=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[GE])===null||n===void 0?void 0:n.stringValue)===KE}function vl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const t={mapValue:{fields:{}}};return Jr(r.mapValue.fields,(n,s)=>t.mapValue.fields[n]=vl(s)),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=vl(r.arrayValue.values[n]);return t}return Object.assign({},r)}function h1(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===u1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(t){this.value=t}static empty(){return new on({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!Sc(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=vl(n)}setAll(t){let n=je.emptyPath(),s={},l=[];t.forEach((f,g)=>{if(!n.isImmediateParentOf(g)){const p=this.getFieldsMap(n);this.applyChanges(p,s,l),s={},l=[],n=g.popLast()}f?s[g.lastSegment()]=vl(f):l.push(g.lastSegment())});const c=this.getFieldsMap(n);this.applyChanges(c,s,l)}delete(t){const n=this.field(t.popLast());Sc(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return hi(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let l=n.mapValue.fields[t.get(s)];Sc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=l),n=l}return n.mapValue.fields}applyChanges(t,n,s){Jr(n,(l,c)=>t[l]=c);for(const l of s)delete t[l]}clone(){return new on(vl(this.value))}}function QE(r){const t=[];return Jr(r.fields,(n,s)=>{const l=new je([n]);if(Sc(s)){const c=QE(s.mapValue).fields;if(c.length===0)t.push(l);else for(const f of c)t.push(l.child(f))}else t.push(l)}),new pn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(t,n,s,l,c,f,g){this.key=t,this.documentType=n,this.version=s,this.readTime=l,this.createTime=c,this.data=f,this.documentState=g}static newInvalidDocument(t){return new Ye(t,0,Tt.min(),Tt.min(),Tt.min(),on.empty(),0)}static newFoundDocument(t,n,s,l){return new Ye(t,1,n,Tt.min(),s,l,0)}static newNoDocument(t,n){return new Ye(t,2,n,Tt.min(),Tt.min(),on.empty(),0)}static newUnknownDocument(t,n){return new Ye(t,3,n,Tt.min(),Tt.min(),on.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=on.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=on.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Tt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ye&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ye(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(t,n){this.position=t,this.inclusive=n}}function tv(r,t,n){let s=0;for(let l=0;l<r.position.length;l++){const c=t[l],f=r.position[l];if(c.field.isKeyField()?s=ft.comparator(ft.fromName(f.referenceValue),n.key):s=Qa(f,n.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function ev(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!hi(r.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(t,n="asc"){this.field=t,this.dir=n}}function f1(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{}class be extends YE{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new m1(t,n,s):n==="array-contains"?new _1(t,s):n==="in"?new y1(t,s):n==="not-in"?new v1(t,s):n==="array-contains-any"?new E1(t,s):new be(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new g1(t,s):new p1(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Qa(n,this.value)):n!==null&&Yr(this.value)===Yr(n)&&this.matchesComparison(Qa(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return yt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class fi extends YE{constructor(t,n){super(),this.filters=t,this.op=n,this.ce=null}static create(t,n){return new fi(t,n)}matches(t){return XE(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function XE(r){return r.op==="and"}function $E(r){return d1(r)&&XE(r)}function d1(r){for(const t of r.filters)if(t instanceof fi)return!1;return!0}function Hd(r){if(r instanceof be)return r.field.canonicalString()+r.op.toString()+Ya(r.value);if($E(r))return r.filters.map(t=>Hd(t)).join(",");{const t=r.filters.map(n=>Hd(n)).join(",");return`${r.op}(${t})`}}function WE(r,t){return r instanceof be?function(s,l){return l instanceof be&&s.op===l.op&&s.field.isEqual(l.field)&&hi(s.value,l.value)}(r,t):r instanceof fi?function(s,l){return l instanceof fi&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce((c,f,g)=>c&&WE(f,l.filters[g]),!0):!1}(r,t):void yt()}function ZE(r){return r instanceof be?function(n){return`${n.field.canonicalString()} ${n.op} ${Ya(n.value)}`}(r):r instanceof fi?function(n){return n.op.toString()+" {"+n.getFilters().map(ZE).join(" ,")+"}"}(r):"Filter"}class m1 extends be{constructor(t,n,s){super(t,n,s),this.key=ft.fromName(s.referenceValue)}matches(t){const n=ft.comparator(t.key,this.key);return this.matchesComparison(n)}}class g1 extends be{constructor(t,n){super(t,"in",n),this.keys=JE("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class p1 extends be{constructor(t,n){super(t,"not-in",n),this.keys=JE("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function JE(r,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>ft.fromName(s.referenceValue))}class _1 extends be{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Tm(n)&&Dl(n.arrayValue,this.value)}}class y1 extends be{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Dl(this.value.arrayValue,n)}}class v1 extends be{constructor(t,n){super(t,"not-in",n)}matches(t){if(Dl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!Dl(this.value.arrayValue,n)}}class E1 extends be{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Tm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Dl(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{constructor(t,n=null,s=[],l=[],c=null,f=null,g=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=l,this.limit=c,this.startAt=f,this.endAt=g,this.le=null}}function nv(r,t=null,n=[],s=[],l=null,c=null,f=null){return new T1(r,t,n,s,l,c,f)}function Am(r){const t=St(r);if(t.le===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(s=>Hd(s)).join(","),n+="|ob:",n+=t.orderBy.map(s=>function(c){return c.field.canonicalString()+c.dir}(s)).join(","),Zc(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(s=>Ya(s)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(s=>Ya(s)).join(",")),t.le=n}return t.le}function Sm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!f1(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!WE(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!ev(r.startAt,t.startAt)&&ev(r.endAt,t.endAt)}function Fd(r){return ft.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(t,n=null,s=[],l=[],c=null,f="F",g=null,p=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=l,this.limit=c,this.limitType=f,this.startAt=g,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function A1(r,t,n,s,l,c,f,g){return new th(r,t,n,s,l,c,f,g)}function bm(r){return new th(r)}function iv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function S1(r){return r.collectionGroup!==null}function El(r){const t=St(r);if(t.he===null){t.he=[];const n=new Set;for(const c of t.explicitOrderBy)t.he.push(c),n.add(c.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let g=new Re(je.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(_=>{_.isInequality()&&(g=g.add(_.field))})}),g})(t).forEach(c=>{n.has(c.canonicalString())||c.isKeyField()||t.he.push(new xc(c,s))}),n.has(je.keyField().canonicalString())||t.he.push(new xc(je.keyField(),s))}return t.he}function ui(r){const t=St(r);return t.Pe||(t.Pe=b1(t,El(r))),t.Pe}function b1(r,t){if(r.limitType==="F")return nv(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map(l=>{const c=l.dir==="desc"?"asc":"desc";return new xc(l.field,c)});const n=r.endAt?new Lc(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Lc(r.startAt.position,r.startAt.inclusive):null;return nv(r.path,r.collectionGroup,t,r.filters,r.limit,n,s)}}function Gd(r,t,n){return new th(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function eh(r,t){return Sm(ui(r),ui(t))&&r.limitType===t.limitType}function tT(r){return`${Am(ui(r))}|lt:${r.limitType}`}function Ua(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(l=>ZE(l)).join(", ")}]`),Zc(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(l=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(l)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(l=>Ya(l)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(l=>Ya(l)).join(",")),`Target(${s})`}(ui(r))}; limitType=${r.limitType})`}function nh(r,t){return t.isFoundDocument()&&function(s,l){const c=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):ft.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)}(r,t)&&function(s,l){for(const c of El(s))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0}(r,t)&&function(s,l){for(const c of s.filters)if(!c.matches(l))return!1;return!0}(r,t)&&function(s,l){return!(s.startAt&&!function(f,g,p){const _=tv(f,g,p);return f.inclusive?_<=0:_<0}(s.startAt,El(s),l)||s.endAt&&!function(f,g,p){const _=tv(f,g,p);return f.inclusive?_>=0:_>0}(s.endAt,El(s),l))}(r,t)}function w1(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function eT(r){return(t,n)=>{let s=!1;for(const l of El(r)){const c=R1(l,t,n);if(c!==0)return c;s=s||l.field.isKeyField()}return 0}}function R1(r,t,n){const s=r.field.isKeyField()?ft.comparator(t.key,n.key):function(c,f,g){const p=f.data.field(c),_=g.data.field(c);return p!==null&&_!==null?Qa(p,_):yt()}(r.field,t,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return yt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[l,c]of s)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),l=this.inner[s];if(l===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,n]);l.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],t))return s.length===1?delete this.inner[n]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(t){Jr(this.inner,(n,s)=>{for(const[l,c]of s)t(l,c)})}isEmpty(){return zE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I1=new re(ft.comparator);function Qi(){return I1}const nT=new re(ft.comparator);function gl(...r){let t=nT;for(const n of r)t=t.insert(n.key,n);return t}function iT(r){let t=nT;return r.forEach((n,s)=>t=t.insert(n,s.overlayedDocument)),t}function Ps(){return Tl()}function rT(){return Tl()}function Tl(){return new Hs(r=>r.toString(),(r,t)=>r.isEqual(t))}const C1=new re(ft.comparator),D1=new Re(ft.comparator);function Mt(...r){let t=D1;for(const n of r)t=t.add(n);return t}const O1=new Re(Ct);function N1(){return O1}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Pc(t)?"-0":t}}function sT(r){return{integerValue:""+r}}function M1(r,t){return r1(t)?sT(t):wm(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(){this._=void 0}}function V1(r,t,n){return r instanceof zc?function(l,c){const f={fields:{[qE]:{stringValue:BE},[FE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Em(c)&&(c=Jc(c)),c&&(f.fields[HE]=c),{mapValue:f}}(n,t):r instanceof Ol?oT(r,t):r instanceof Nl?lT(r,t):function(l,c){const f=aT(l,c),g=rv(f)+rv(l.Ie);return qd(f)&&qd(l.Ie)?sT(g):wm(l.serializer,g)}(r,t)}function P1(r,t,n){return r instanceof Ol?oT(r,t):r instanceof Nl?lT(r,t):n}function aT(r,t){return r instanceof jc?function(s){return qd(s)||function(c){return!!c&&"doubleValue"in c}(s)}(t)?t:{integerValue:0}:null}class zc extends ih{}class Ol extends ih{constructor(t){super(),this.elements=t}}function oT(r,t){const n=uT(t);for(const s of r.elements)n.some(l=>hi(l,s))||n.push(s);return{arrayValue:{values:n}}}class Nl extends ih{constructor(t){super(),this.elements=t}}function lT(r,t){let n=uT(t);for(const s of r.elements)n=n.filter(l=>!hi(l,s));return{arrayValue:{values:n}}}class jc extends ih{constructor(t,n){super(),this.serializer=t,this.Ie=n}}function rv(r){return fe(r.integerValue||r.doubleValue)}function uT(r){return Tm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function k1(r,t){return r.field.isEqual(t.field)&&function(s,l){return s instanceof Ol&&l instanceof Ol||s instanceof Nl&&l instanceof Nl?Ka(s.elements,l.elements,hi):s instanceof jc&&l instanceof jc?hi(s.Ie,l.Ie):s instanceof zc&&l instanceof zc}(r.transform,t.transform)}class U1{constructor(t,n){this.version=t,this.transformResults=n}}class Bn{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Bn}static exists(t){return new Bn(void 0,t)}static updateTime(t){return new Bn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function bc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class rh{}function cT(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new Rm(r.key,Bn.none()):new zl(r.key,r.data,Bn.none());{const n=r.data,s=on.empty();let l=new Re(je.comparator);for(let c of t.fields)if(!l.has(c)){let f=n.field(c);f===null&&c.length>1&&(c=c.popLast(),f=n.field(c)),f===null?s.delete(c):s.set(c,f),l=l.add(c)}return new ts(r.key,s,new pn(l.toArray()),Bn.none())}}function L1(r,t,n){r instanceof zl?function(l,c,f){const g=l.value.clone(),p=av(l.fieldTransforms,c,f.transformResults);g.setAll(p),c.convertToFoundDocument(f.version,g).setHasCommittedMutations()}(r,t,n):r instanceof ts?function(l,c,f){if(!bc(l.precondition,c))return void c.convertToUnknownDocument(f.version);const g=av(l.fieldTransforms,c,f.transformResults),p=c.data;p.setAll(hT(l)),p.setAll(g),c.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(r,t,n):function(l,c,f){c.convertToNoDocument(f.version).setHasCommittedMutations()}(0,t,n)}function Al(r,t,n,s){return r instanceof zl?function(c,f,g,p){if(!bc(c.precondition,f))return g;const _=c.value.clone(),A=ov(c.fieldTransforms,p,f);return _.setAll(A),f.convertToFoundDocument(f.version,_).setHasLocalMutations(),null}(r,t,n,s):r instanceof ts?function(c,f,g,p){if(!bc(c.precondition,f))return g;const _=ov(c.fieldTransforms,p,f),A=f.data;return A.setAll(hT(c)),A.setAll(_),f.convertToFoundDocument(f.version,A).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(R=>R.field))}(r,t,n,s):function(c,f,g){return bc(c.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):g}(r,t,n)}function x1(r,t){let n=null;for(const s of r.fieldTransforms){const l=t.data.field(s.field),c=aT(s.transform,l||null);c!=null&&(n===null&&(n=on.empty()),n.set(s.field,c))}return n||null}function sv(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&Ka(s,l,(c,f)=>k1(c,f))}(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class zl extends rh{constructor(t,n,s,l=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class ts extends rh{constructor(t,n,s,l,c=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function hT(r){const t=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);t.set(n,s)}}),t}function av(r,t,n){const s=new Map;Gt(r.length===n.length);for(let l=0;l<n.length;l++){const c=r[l],f=c.transform,g=t.data.field(c.field);s.set(c.field,P1(f,g,n[l]))}return s}function ov(r,t,n){const s=new Map;for(const l of r){const c=l.transform,f=n.data.field(l.field);s.set(l.field,V1(c,f,t))}return s}class Rm extends rh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class z1 extends rh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(t,n,s,l){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&L1(c,t,s[l])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=Al(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=Al(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=rT();return this.mutations.forEach(l=>{const c=t.get(l.key),f=c.overlayedDocument;let g=this.applyToLocalView(f,c.mutatedFields);g=n.has(l.key)?null:g;const p=cT(f,g);p!==null&&s.set(l.key,p),f.isValidDocument()||f.convertToNoDocument(Tt.min())}),s}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),Mt())}isEqual(t){return this.batchId===t.batchId&&Ka(this.mutations,t.mutations,(n,s)=>sv(n,s))&&Ka(this.baseMutations,t.baseMutations,(n,s)=>sv(n,s))}}class Im{constructor(t,n,s,l){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=l}static from(t,n,s){Gt(t.mutations.length===s.length);let l=function(){return C1}();const c=t.mutations;for(let f=0;f<c.length;f++)l=l.insert(c[f].key,s[f].version);return new Im(t,n,s,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _e,Lt;function H1(r){switch(r){case Y.OK:return yt();case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0;default:return yt()}}function fT(r){if(r===void 0)return Ki("GRPC error has no .code"),Y.UNKNOWN;switch(r){case _e.OK:return Y.OK;case _e.CANCELLED:return Y.CANCELLED;case _e.UNKNOWN:return Y.UNKNOWN;case _e.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case _e.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case _e.INTERNAL:return Y.INTERNAL;case _e.UNAVAILABLE:return Y.UNAVAILABLE;case _e.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case _e.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case _e.NOT_FOUND:return Y.NOT_FOUND;case _e.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case _e.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case _e.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case _e.ABORTED:return Y.ABORTED;case _e.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case _e.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case _e.DATA_LOSS:return Y.DATA_LOSS;default:return yt()}}(Lt=_e||(_e={}))[Lt.OK=0]="OK",Lt[Lt.CANCELLED=1]="CANCELLED",Lt[Lt.UNKNOWN=2]="UNKNOWN",Lt[Lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Lt[Lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Lt[Lt.NOT_FOUND=5]="NOT_FOUND",Lt[Lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Lt[Lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Lt[Lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Lt[Lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Lt[Lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Lt[Lt.ABORTED=10]="ABORTED",Lt[Lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Lt[Lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Lt[Lt.INTERNAL=13]="INTERNAL",Lt[Lt.UNAVAILABLE=14]="UNAVAILABLE",Lt[Lt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F1=new qr([4294967295,4294967295],0);function lv(r){const t=UE().encode(r),n=new DE;return n.update(t),new Uint8Array(n.digest())}function uv(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new qr([n,s],0),new qr([l,c],0)]}class Cm{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new pl(`Invalid padding: ${n}`);if(s<0)throw new pl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new pl(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new pl(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*t.length-n,this.de=qr.fromNumber(this.Ee)}Ae(t,n,s){let l=t.add(n.multiply(qr.fromNumber(s)));return l.compare(F1)===1&&(l=new qr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.de).toNumber()}Re(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.Ee===0)return!1;const n=lv(t),[s,l]=uv(n);for(let c=0;c<this.hashCount;c++){const f=this.Ae(s,l,c);if(!this.Re(f))return!1}return!0}static create(t,n,s){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),f=new Cm(c,l,n);return s.forEach(g=>f.insert(g)),f}insert(t){if(this.Ee===0)return;const n=lv(t),[s,l]=uv(n);for(let c=0;c<this.hashCount;c++){const f=this.Ae(s,l,c);this.Ve(f)}}Ve(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class pl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(t,n,s,l,c){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const l=new Map;return l.set(t,jl.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new sh(Tt.min(),l,new re(Ct),Qi(),Mt())}}class jl{constructor(t,n,s,l,c){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new jl(s,n,Mt(),Mt(),Mt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(t,n,s,l){this.me=t,this.removedTargetIds=n,this.key=s,this.fe=l}}class dT{constructor(t,n){this.targetId=t,this.ge=n}}class mT{constructor(t,n,s=qe.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=l}}class cv{constructor(){this.pe=0,this.ye=hv(),this.we=qe.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(t){t.approximateByteSize()>0&&(this.be=!0,this.we=t)}Fe(){let t=Mt(),n=Mt(),s=Mt();return this.ye.forEach((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:n=n.add(l);break;case 1:s=s.add(l);break;default:yt()}}),new jl(this.we,this.Se,t,n,s)}Me(){this.be=!1,this.ye=hv()}xe(t,n){this.be=!0,this.ye=this.ye.insert(t,n)}Oe(t){this.be=!0,this.ye=this.ye.remove(t)}Ne(){this.pe+=1}Be(){this.pe-=1,Gt(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class G1{constructor(t){this.ke=t,this.qe=new Map,this.Qe=Qi(),this.$e=gc(),this.Ue=gc(),this.Ke=new re(Ct)}We(t){for(const n of t.me)t.fe&&t.fe.isFoundDocument()?this.Ge(n,t.fe):this.ze(n,t.key,t.fe);for(const n of t.removedTargetIds)this.ze(n,t.key,t.fe)}je(t){this.forEachTarget(t,n=>{const s=this.He(n);switch(t.state){case 0:this.Je(n)&&s.Ce(t.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(t.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(n);break;case 3:this.Je(n)&&(s.Le(),s.Ce(t.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),s.Ce(t.resumeToken));break;default:yt()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.qe.forEach((s,l)=>{this.Je(l)&&n(l)})}Ze(t){const n=t.targetId,s=t.ge.count,l=this.Xe(n);if(l){const c=l.target;if(Fd(c))if(s===0){const f=new ft(c.path);this.ze(n,f,Ye.newNoDocument(f,Tt.min()))}else Gt(s===1);else{const f=this.et(n);if(f!==s){const g=this.tt(t),p=g?this.nt(g,t,f):1;if(p!==0){this.Ye(n);const _=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,_)}}}}}tt(t){const n=t.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:c=0}=n;let f,g;try{f=Qr(s).toUint8Array()}catch(p){if(p instanceof jE)return Ga("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{g=new Cm(f,l,c)}catch(p){return Ga(p instanceof pl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return g.Ee===0?null:g}nt(t,n,s){return n.ge.count===s-this.st(t,n.targetId)?0:2}st(t,n){const s=this.ke.getRemoteKeysForTarget(n);let l=0;return s.forEach(c=>{const f=this.ke.it(),g=`projects/${f.projectId}/databases/${f.database}/documents/${c.path.canonicalString()}`;t.mightContain(g)||(this.ze(n,c,null),l++)}),l}ot(t){const n=new Map;this.qe.forEach((c,f)=>{const g=this.Xe(f);if(g){if(c.current&&Fd(g.target)){const p=new ft(g.target.path);this._t(p).has(f)||this.ut(f,p)||this.ze(f,p,Ye.newNoDocument(p,t))}c.ve&&(n.set(f,c.Fe()),c.Me())}});let s=Mt();this.Ue.forEach((c,f)=>{let g=!0;f.forEachWhile(p=>{const _=this.Xe(p);return!_||_.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(s=s.add(c))}),this.Qe.forEach((c,f)=>f.setReadTime(t));const l=new sh(t,n,this.Ke,this.Qe,s);return this.Qe=Qi(),this.$e=gc(),this.Ue=gc(),this.Ke=new re(Ct),l}Ge(t,n){if(!this.Je(t))return;const s=this.ut(t,n.key)?2:0;this.He(t).xe(n.key,s),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(t)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(t))}ze(t,n,s){if(!this.Je(t))return;const l=this.He(t);this.ut(t,n)?l.xe(n,1):l.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(t)),this.Ue=this.Ue.insert(n,this.ct(n).add(t)),s&&(this.Qe=this.Qe.insert(n,s))}removeTarget(t){this.qe.delete(t)}et(t){const n=this.He(t).Fe();return this.ke.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ne(t){this.He(t).Ne()}He(t){let n=this.qe.get(t);return n||(n=new cv,this.qe.set(t,n)),n}ct(t){let n=this.Ue.get(t);return n||(n=new Re(Ct),this.Ue=this.Ue.insert(t,n)),n}_t(t){let n=this.$e.get(t);return n||(n=new Re(Ct),this.$e=this.$e.insert(t,n)),n}Je(t){const n=this.Xe(t)!==null;return n||it("WatchChangeAggregator","Detected inactive target",t),n}Xe(t){const n=this.qe.get(t);return n&&n.De?null:this.ke.lt(t)}Ye(t){this.qe.set(t,new cv),this.ke.getRemoteKeysForTarget(t).forEach(n=>{this.ze(t,n,null)})}ut(t,n){return this.ke.getRemoteKeysForTarget(t).has(n)}}function gc(){return new re(ft.comparator)}function hv(){return new re(ft.comparator)}const K1={asc:"ASCENDING",desc:"DESCENDING"},Q1={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Y1={and:"AND",or:"OR"};class X1{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Kd(r,t){return r.useProto3Json||Zc(t)?t:{value:t}}function Bc(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function gT(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function $1(r,t){return Bc(r,t.toTimestamp())}function ci(r){return Gt(!!r),Tt.fromTimestamp(function(n){const s=Kr(n);return new we(s.seconds,s.nanos)}(r))}function Dm(r,t){return Qd(r,t).canonicalString()}function Qd(r,t){const n=function(l){return new Jt(["projects",l.projectId,"databases",l.database])}(r).child("documents");return t===void 0?n:n.child(t)}function pT(r){const t=Jt.fromString(r);return Gt(TT(t)),t}function Yd(r,t){return Dm(r.databaseId,t.path)}function wd(r,t){const n=pT(t);if(n.get(1)!==r.databaseId.projectId)throw new ct(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ct(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ft(yT(n))}function _T(r,t){return Dm(r.databaseId,t)}function W1(r){const t=pT(r);return t.length===4?Jt.emptyPath():yT(t)}function Xd(r){return new Jt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function yT(r){return Gt(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function fv(r,t,n){return{name:Yd(r,t),fields:n.value.mapValue.fields}}function Z1(r,t){let n;if("targetChange"in t){t.targetChange;const s=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:yt()}(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=function(_,A){return _.useProto3Json?(Gt(A===void 0||typeof A=="string"),qe.fromBase64String(A||"")):(Gt(A===void 0||A instanceof Buffer||A instanceof Uint8Array),qe.fromUint8Array(A||new Uint8Array))}(r,t.targetChange.resumeToken),f=t.targetChange.cause,g=f&&function(_){const A=_.code===void 0?Y.UNKNOWN:fT(_.code);return new ct(A,_.message||"")}(f);n=new mT(s,l,c,g||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const l=wd(r,s.document.name),c=ci(s.document.updateTime),f=s.document.createTime?ci(s.document.createTime):Tt.min(),g=new on({mapValue:{fields:s.document.fields}}),p=Ye.newFoundDocument(l,c,f,g),_=s.targetIds||[],A=s.removedTargetIds||[];n=new wc(_,A,p.key,p)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const l=wd(r,s.document),c=s.readTime?ci(s.readTime):Tt.min(),f=Ye.newNoDocument(l,c),g=s.removedTargetIds||[];n=new wc([],g,f.key,f)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const l=wd(r,s.document),c=s.removedTargetIds||[];n=new wc([],c,l,null)}else{if(!("filter"in t))return yt();{t.filter;const s=t.filter;s.targetId;const{count:l=0,unchangedNames:c}=s,f=new q1(l,c),g=s.targetId;n=new dT(g,f)}}return n}function J1(r,t){let n;if(t instanceof zl)n={update:fv(r,t.key,t.value)};else if(t instanceof Rm)n={delete:Yd(r,t.key)};else if(t instanceof ts)n={update:fv(r,t.key,t.data),updateMask:lI(t.fieldMask)};else{if(!(t instanceof z1))return yt();n={verify:Yd(r,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(s=>function(c,f){const g=f.transform;if(g instanceof zc)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Ol)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Nl)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof jc)return{fieldPath:f.field.canonicalString(),increment:g.Ie};throw yt()}(0,s))),t.precondition.isNone||(n.currentDocument=function(l,c){return c.updateTime!==void 0?{updateTime:$1(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:yt()}(r,t.precondition)),n}function tI(r,t){return r&&r.length>0?(Gt(t!==void 0),r.map(n=>function(l,c){let f=l.updateTime?ci(l.updateTime):ci(c);return f.isEqual(Tt.min())&&(f=ci(c)),new U1(f,l.transformResults||[])}(n,t))):[]}function eI(r,t){return{documents:[_T(r,t.path)]}}function nI(r,t){const n={structuredQuery:{}},s=t.path;let l;t.collectionGroup!==null?(l=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=_T(r,l);const c=function(_){if(_.length!==0)return ET(fi.create(_,"and"))}(t.filters);c&&(n.structuredQuery.where=c);const f=function(_){if(_.length!==0)return _.map(A=>function(P){return{field:La(P.field),direction:sI(P.dir)}}(A))}(t.orderBy);f&&(n.structuredQuery.orderBy=f);const g=Kd(r,t.limit);return g!==null&&(n.structuredQuery.limit=g),t.startAt&&(n.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(t.endAt)),{ht:n,parent:l}}function iI(r){let t=W1(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let l=null;if(s>0){Gt(s===1);const A=n.from[0];A.allDescendants?l=A.collectionId:t=t.child(A.collectionId)}let c=[];n.where&&(c=function(R){const P=vT(R);return P instanceof fi&&$E(P)?P.getFilters():[P]}(n.where));let f=[];n.orderBy&&(f=function(R){return R.map(P=>function(Q){return new xc(xa(Q.field),function($){switch($){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Q.direction))}(P))}(n.orderBy));let g=null;n.limit&&(g=function(R){let P;return P=typeof R=="object"?R.value:R,Zc(P)?null:P}(n.limit));let p=null;n.startAt&&(p=function(R){const P=!!R.before,j=R.values||[];return new Lc(j,P)}(n.startAt));let _=null;return n.endAt&&(_=function(R){const P=!R.before,j=R.values||[];return new Lc(j,P)}(n.endAt)),A1(t,l,f,c,g,"F",p,_)}function rI(r,t){const n=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return yt()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function vT(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=xa(n.unaryFilter.field);return be.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=xa(n.unaryFilter.field);return be.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=xa(n.unaryFilter.field);return be.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=xa(n.unaryFilter.field);return be.create(f,"!=",{nullValue:"NULL_VALUE"});default:return yt()}}(r):r.fieldFilter!==void 0?function(n){return be.create(xa(n.fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return yt()}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return fi.create(n.compositeFilter.filters.map(s=>vT(s)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return yt()}}(n.compositeFilter.op))}(r):yt()}function sI(r){return K1[r]}function aI(r){return Q1[r]}function oI(r){return Y1[r]}function La(r){return{fieldPath:r.canonicalString()}}function xa(r){return je.fromServerFormat(r.fieldPath)}function ET(r){return r instanceof be?function(n){if(n.op==="=="){if(Jy(n.value))return{unaryFilter:{field:La(n.field),op:"IS_NAN"}};if(Zy(n.value))return{unaryFilter:{field:La(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Jy(n.value))return{unaryFilter:{field:La(n.field),op:"IS_NOT_NAN"}};if(Zy(n.value))return{unaryFilter:{field:La(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:La(n.field),op:aI(n.op),value:n.value}}}(r):r instanceof fi?function(n){const s=n.getFilters().map(l=>ET(l));return s.length===1?s[0]:{compositeFilter:{op:oI(n.op),filters:s}}}(r):yt()}function lI(r){const t=[];return r.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function TT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(t,n,s,l,c=Tt.min(),f=Tt.min(),g=qe.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=g,this.expectedCount=p}withSequenceNumber(t){return new Lr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Lr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Lr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Lr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{constructor(t){this.Tt=t}}function cI(r){const t=iI({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Gd(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(){this.Tn=new fI}addToCollectionParentIndex(t,n){return this.Tn.add(n),G.resolve()}getCollectionParents(t,n){return G.resolve(this.Tn.getEntries(n))}addFieldIndex(t,n){return G.resolve()}deleteFieldIndex(t,n){return G.resolve()}deleteAllFieldIndexes(t){return G.resolve()}createTargetIndexes(t,n){return G.resolve()}getDocumentsMatchingTarget(t,n){return G.resolve(null)}getIndexType(t,n){return G.resolve(0)}getFieldIndexes(t,n){return G.resolve([])}getNextCollectionGroupToUpdate(t){return G.resolve(null)}getMinOffset(t,n){return G.resolve(Gr.min())}getMinOffsetFromCollectionGroup(t,n){return G.resolve(Gr.min())}updateCollectionGroup(t,n,s){return G.resolve()}updateIndexEntries(t,n){return G.resolve()}}class fI{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),l=this.index[n]||new Re(Jt.comparator),c=!l.has(s);return this.index[n]=l.add(s),c}has(t){const n=t.lastSegment(),s=t.popLast(),l=this.index[n];return l&&l.has(s)}getEntries(t){return(this.index[t]||new Re(Jt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},AT=41943040;class an{static withCacheSize(t){return new an(t,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */an.DEFAULT_COLLECTION_PERCENTILE=10,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,an.DEFAULT=new an(AT,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),an.DISABLED=new an(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(t){this.$n=t}next(){return this.$n+=2,this.$n}static Un(){return new Xa(0)}static Kn(){return new Xa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mv="LruGarbageCollector",dI=1048576;function gv([r,t],[n,s]){const l=Ct(r,n);return l===0?Ct(t,s):l}class mI{constructor(t){this.Hn=t,this.buffer=new Re(gv),this.Jn=0}Yn(){return++this.Jn}Zn(t){const n=[t,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();gv(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class gI{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(t){it(mv,`Garbage collection scheduled in ${t}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){no(n)?it(mv,"Ignoring IndexedDB error during garbage collection: ",n):await eo(n)}await this.er(3e5)})}}class pI{constructor(t,n){this.tr=t,this.params=n}calculateTargetCount(t,n){return this.tr.nr(t).next(s=>Math.floor(n/100*s))}nthSequenceNumber(t,n){if(n===0)return G.resolve(Wc.ae);const s=new mI(n);return this.tr.forEachTarget(t,l=>s.Zn(l.sequenceNumber)).next(()=>this.tr.rr(t,l=>s.Zn(l))).next(()=>s.maxValue)}removeTargets(t,n,s){return this.tr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.tr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(it("LruGarbageCollector","Garbage collection skipped; disabled"),G.resolve(dv)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(it("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),dv):this.ir(t,n))}getCacheSize(t){return this.tr.getCacheSize(t)}ir(t,n){let s,l,c,f,g,p,_;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(R=>(R>this.params.maximumSequenceNumbersToCollect?(it("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${R}`),l=this.params.maximumSequenceNumbersToCollect):l=R,f=Date.now(),this.nthSequenceNumber(t,l))).next(R=>(s=R,g=Date.now(),this.removeTargets(t,s,n))).next(R=>(c=R,p=Date.now(),this.removeOrphanedDocuments(t,s))).next(R=>(_=Date.now(),ka()<=Nt.DEBUG&&it("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-A}ms
	Determined least recently used ${l} in `+(g-f)+`ms
	Removed ${c} targets in `+(p-g)+`ms
	Removed ${R} documents in `+(_-p)+`ms
Total Duration: ${_-A}ms`),G.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:R})))}}function _I(r,t){return new pI(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(){this.changes=new Hs(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Ye.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?G.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(t,n,s,l){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=l}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next(l=>(s=l,this.remoteDocumentCache.getEntry(t,n))).next(l=>(s!==null&&Al(s.mutation,l,pn.empty(),we.now()),l))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.getLocalViewOfDocuments(t,s,Mt()).next(()=>s))}getLocalViewOfDocuments(t,n,s=Mt()){const l=Ps();return this.populateOverlays(t,l,n).next(()=>this.computeViews(t,n,l,s).next(c=>{let f=gl();return c.forEach((g,p)=>{f=f.insert(g,p.overlayedDocument)}),f}))}getOverlayedDocuments(t,n){const s=Ps();return this.populateOverlays(t,s,n).next(()=>this.computeViews(t,n,s,Mt()))}populateOverlays(t,n,s){const l=[];return s.forEach(c=>{n.has(c)||l.push(c)}),this.documentOverlayCache.getOverlays(t,l).next(c=>{c.forEach((f,g)=>{n.set(f,g)})})}computeViews(t,n,s,l){let c=Qi();const f=Tl(),g=function(){return Tl()}();return n.forEach((p,_)=>{const A=s.get(_.key);l.has(_.key)&&(A===void 0||A.mutation instanceof ts)?c=c.insert(_.key,_):A!==void 0?(f.set(_.key,A.mutation.getFieldMask()),Al(A.mutation,_,A.mutation.getFieldMask(),we.now())):f.set(_.key,pn.empty())}),this.recalculateAndSaveOverlays(t,c).next(p=>(p.forEach((_,A)=>f.set(_,A)),n.forEach((_,A)=>{var R;return g.set(_,new vI(A,(R=f.get(_))!==null&&R!==void 0?R:null))}),g))}recalculateAndSaveOverlays(t,n){const s=Tl();let l=new re((f,g)=>f-g),c=Mt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(f=>{for(const g of f)g.keys().forEach(p=>{const _=n.get(p);if(_===null)return;let A=s.get(p)||pn.empty();A=g.applyToLocalView(_,A),s.set(p,A);const R=(l.get(g.batchId)||Mt()).add(p);l=l.insert(g.batchId,R)})}).next(()=>{const f=[],g=l.getReverseIterator();for(;g.hasNext();){const p=g.getNext(),_=p.key,A=p.value,R=rT();A.forEach(P=>{if(!c.has(P)){const j=cT(n.get(P),s.get(P));j!==null&&R.set(P,j),c=c.add(P)}}),f.push(this.documentOverlayCache.saveOverlays(t,_,R))}return G.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,n,s,l){return function(f){return ft.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):S1(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,l):this.getDocumentsMatchingCollectionQuery(t,n,s,l)}getNextDocuments(t,n,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,l).next(c=>{const f=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,l-c.size):G.resolve(Ps());let g=Rl,p=c;return f.next(_=>G.forEach(_,(A,R)=>(g<R.largestBatchId&&(g=R.largestBatchId),c.get(A)?G.resolve():this.remoteDocumentCache.getEntry(t,A).next(P=>{p=p.insert(A,P)}))).next(()=>this.populateOverlays(t,_,c)).next(()=>this.computeViews(t,p,_,Mt())).next(A=>({batchId:g,changes:iT(A)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new ft(n)).next(s=>{let l=gl();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l})}getDocumentsMatchingCollectionGroupQuery(t,n,s,l){const c=n.collectionGroup;let f=gl();return this.indexManager.getCollectionParents(t,c).next(g=>G.forEach(g,p=>{const _=function(R,P){return new th(P,null,R.explicitOrderBy.slice(),R.filters.slice(),R.limit,R.limitType,R.startAt,R.endAt)}(n,p.child(c));return this.getDocumentsMatchingCollectionQuery(t,_,s,l).next(A=>{A.forEach((R,P)=>{f=f.insert(R,P)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(t,n,s,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next(f=>(c=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,c,l))).next(f=>{c.forEach((p,_)=>{const A=_.getKey();f.get(A)===null&&(f=f.insert(A,Ye.newInvalidDocument(A)))});let g=gl();return f.forEach((p,_)=>{const A=c.get(p);A!==void 0&&Al(A.mutation,_,pn.empty(),we.now()),nh(n,_)&&(g=g.insert(p,_))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(t){this.serializer=t,this.dr=new Map,this.Ar=new Map}getBundleMetadata(t,n){return G.resolve(this.dr.get(n))}saveBundleMetadata(t,n){return this.dr.set(n.id,function(l){return{id:l.id,version:l.version,createTime:ci(l.createTime)}}(n)),G.resolve()}getNamedQuery(t,n){return G.resolve(this.Ar.get(n))}saveNamedQuery(t,n){return this.Ar.set(n.name,function(l){return{name:l.name,query:cI(l.bundledQuery),readTime:ci(l.readTime)}}(n)),G.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(){this.overlays=new re(ft.comparator),this.Rr=new Map}getOverlay(t,n){return G.resolve(this.overlays.get(n))}getOverlays(t,n){const s=Ps();return G.forEach(n,l=>this.getOverlay(t,l).next(c=>{c!==null&&s.set(l,c)})).next(()=>s)}saveOverlays(t,n,s){return s.forEach((l,c)=>{this.Et(t,n,c)}),G.resolve()}removeOverlaysForBatchId(t,n,s){const l=this.Rr.get(s);return l!==void 0&&(l.forEach(c=>this.overlays=this.overlays.remove(c)),this.Rr.delete(s)),G.resolve()}getOverlaysForCollection(t,n,s){const l=Ps(),c=n.length+1,f=new ft(n.child("")),g=this.overlays.getIteratorFrom(f);for(;g.hasNext();){const p=g.getNext().value,_=p.getKey();if(!n.isPrefixOf(_.path))break;_.path.length===c&&p.largestBatchId>s&&l.set(p.getKey(),p)}return G.resolve(l)}getOverlaysForCollectionGroup(t,n,s,l){let c=new re((_,A)=>_-A);const f=this.overlays.getIterator();for(;f.hasNext();){const _=f.getNext().value;if(_.getKey().getCollectionGroup()===n&&_.largestBatchId>s){let A=c.get(_.largestBatchId);A===null&&(A=Ps(),c=c.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const g=Ps(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((_,A)=>g.set(_,A)),!(g.size()>=l)););return G.resolve(g)}Et(t,n,s){const l=this.overlays.get(s.key);if(l!==null){const f=this.Rr.get(l.largestBatchId).delete(s.key);this.Rr.set(l.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new B1(n,s));let c=this.Rr.get(n);c===void 0&&(c=Mt(),this.Rr.set(n,c)),this.Rr.set(n,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(){this.sessionToken=qe.EMPTY_BYTE_STRING}getSessionToken(t){return G.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,G.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(){this.Vr=new Re(Pe.mr),this.gr=new Re(Pe.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(t,n){const s=new Pe(t,n);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(t,n){t.forEach(s=>this.addReference(s,n))}removeReference(t,n){this.wr(new Pe(t,n))}Sr(t,n){t.forEach(s=>this.removeReference(s,n))}br(t){const n=new ft(new Jt([])),s=new Pe(n,t),l=new Pe(n,t+1),c=[];return this.gr.forEachInRange([s,l],f=>{this.wr(f),c.push(f.key)}),c}Dr(){this.Vr.forEach(t=>this.wr(t))}wr(t){this.Vr=this.Vr.delete(t),this.gr=this.gr.delete(t)}vr(t){const n=new ft(new Jt([])),s=new Pe(n,t),l=new Pe(n,t+1);let c=Mt();return this.gr.forEachInRange([s,l],f=>{c=c.add(f.key)}),c}containsKey(t){const n=new Pe(t,0),s=this.Vr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class Pe{constructor(t,n){this.key=t,this.Cr=n}static mr(t,n){return ft.comparator(t.key,n.key)||Ct(t.Cr,n.Cr)}static pr(t,n){return Ct(t.Cr,n.Cr)||ft.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new Re(Pe.mr)}checkEmpty(t){return G.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,l){const c=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new j1(c,n,s,l);this.mutationQueue.push(f);for(const g of l)this.Mr=this.Mr.add(new Pe(g.key,c)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return G.resolve(f)}lookupMutationBatch(t,n){return G.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,l=this.Nr(s),c=l<0?0:l;return G.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return G.resolve(this.mutationQueue.length===0?vm:this.Fr-1)}getAllMutationBatches(t){return G.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new Pe(n,0),l=new Pe(n,Number.POSITIVE_INFINITY),c=[];return this.Mr.forEachInRange([s,l],f=>{const g=this.Or(f.Cr);c.push(g)}),G.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new Re(Ct);return n.forEach(l=>{const c=new Pe(l,0),f=new Pe(l,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([c,f],g=>{s=s.add(g.Cr)})}),G.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,l=s.length+1;let c=s;ft.isDocumentKey(c)||(c=c.child(""));const f=new Pe(new ft(c),0);let g=new Re(Ct);return this.Mr.forEachWhile(p=>{const _=p.key.path;return!!s.isPrefixOf(_)&&(_.length===l&&(g=g.add(p.Cr)),!0)},f),G.resolve(this.Br(g))}Br(t){const n=[];return t.forEach(s=>{const l=this.Or(s);l!==null&&n.push(l)}),n}removeMutationBatch(t,n){Gt(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return G.forEach(n.mutations,l=>{const c=new Pe(l.key,n.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)}).next(()=>{this.Mr=s})}qn(t){}containsKey(t,n){const s=new Pe(n,0),l=this.Mr.firstAfterOrEqual(s);return G.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,G.resolve()}Lr(t,n){return this.Nr(t)}Nr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Or(t){const n=this.Nr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(t){this.kr=t,this.docs=function(){return new re(ft.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,l=this.docs.get(s),c=l?l.size:0,f=this.kr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-c,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return G.resolve(s?s.document.mutableCopy():Ye.newInvalidDocument(n))}getEntries(t,n){let s=Qi();return n.forEach(l=>{const c=this.docs.get(l);s=s.insert(l,c?c.document.mutableCopy():Ye.newInvalidDocument(l))}),G.resolve(s)}getDocumentsMatchingQuery(t,n,s,l){let c=Qi();const f=n.path,g=new ft(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(g);for(;p.hasNext();){const{key:_,value:{document:A}}=p.getNext();if(!f.isPrefixOf(_.path))break;_.path.length>f.length+1||t1(JR(A),s)<=0||(l.has(A.key)||nh(n,A))&&(c=c.insert(A.key,A.mutableCopy()))}return G.resolve(c)}getAllFromCollectionGroup(t,n,s,l){yt()}qr(t,n){return G.forEach(this.docs,s=>n(s))}newChangeBuffer(t){return new RI(this)}getSize(t){return G.resolve(this.size)}}class RI extends yI{constructor(t){super(),this.Ir=t}applyChanges(t){const n=[];return this.changes.forEach((s,l)=>{l.isValidDocument()?n.push(this.Ir.addEntry(t,l)):this.Ir.removeEntry(s)}),G.waitFor(n)}getFromCache(t,n){return this.Ir.getEntry(t,n)}getAllFromCache(t,n){return this.Ir.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(t){this.persistence=t,this.Qr=new Hs(n=>Am(n),Sm),this.lastRemoteSnapshotVersion=Tt.min(),this.highestTargetId=0,this.$r=0,this.Ur=new Om,this.targetCount=0,this.Kr=Xa.Un()}forEachTarget(t,n){return this.Qr.forEach((s,l)=>n(l)),G.resolve()}getLastRemoteSnapshotVersion(t){return G.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return G.resolve(this.$r)}allocateTargetId(t){return this.highestTargetId=this.Kr.next(),G.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.$r&&(this.$r=n),G.resolve()}zn(t){this.Qr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Kr=new Xa(n),this.highestTargetId=n),t.sequenceNumber>this.$r&&(this.$r=t.sequenceNumber)}addTargetData(t,n){return this.zn(n),this.targetCount+=1,G.resolve()}updateTargetData(t,n){return this.zn(n),G.resolve()}removeTargetData(t,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,G.resolve()}removeTargets(t,n,s){let l=0;const c=[];return this.Qr.forEach((f,g)=>{g.sequenceNumber<=n&&s.get(g.targetId)===null&&(this.Qr.delete(f),c.push(this.removeMatchingKeysForTargetId(t,g.targetId)),l++)}),G.waitFor(c).next(()=>l)}getTargetCount(t){return G.resolve(this.targetCount)}getTargetData(t,n){const s=this.Qr.get(n)||null;return G.resolve(s)}addMatchingKeys(t,n,s){return this.Ur.yr(n,s),G.resolve()}removeMatchingKeys(t,n,s){this.Ur.Sr(n,s);const l=this.persistence.referenceDelegate,c=[];return l&&n.forEach(f=>{c.push(l.markPotentiallyOrphaned(t,f))}),G.waitFor(c)}removeMatchingKeysForTargetId(t,n){return this.Ur.br(n),G.resolve()}getMatchingKeysForTargetId(t,n){const s=this.Ur.vr(n);return G.resolve(s)}containsKey(t,n){return G.resolve(this.Ur.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(t,n){this.Wr={},this.overlays={},this.Gr=new Wc(0),this.zr=!1,this.zr=!0,this.jr=new SI,this.referenceDelegate=t(this),this.Hr=new II(this),this.indexManager=new hI,this.remoteDocumentCache=function(l){return new wI(l)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new uI(n),this.Yr=new TI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new AI,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.Wr[t.toKey()];return s||(s=new bI(n,this.referenceDelegate),this.Wr[t.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(t,n,s){it("MemoryPersistence","Starting transaction:",t);const l=new CI(this.Gr.next());return this.referenceDelegate.Zr(),s(l).next(c=>this.referenceDelegate.Xr(l).next(()=>c)).toPromise().then(c=>(l.raiseOnCommittedEvent(),c))}ei(t,n){return G.or(Object.values(this.Wr).map(s=>()=>s.containsKey(t,n)))}}class CI extends n1{constructor(t){super(),this.currentSequenceNumber=t}}class Nm{constructor(t){this.persistence=t,this.ti=new Om,this.ni=null}static ri(t){return new Nm(t)}get ii(){if(this.ni)return this.ni;throw yt()}addReference(t,n,s){return this.ti.addReference(s,n),this.ii.delete(s.toString()),G.resolve()}removeReference(t,n,s){return this.ti.removeReference(s,n),this.ii.add(s.toString()),G.resolve()}markPotentiallyOrphaned(t,n){return this.ii.add(n.toString()),G.resolve()}removeTarget(t,n){this.ti.br(n.targetId).forEach(l=>this.ii.add(l.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next(l=>{l.forEach(c=>this.ii.add(c.toString()))}).next(()=>s.removeTargetData(t,n))}Zr(){this.ni=new Set}Xr(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return G.forEach(this.ii,s=>{const l=ft.fromPath(s);return this.si(t,l).next(c=>{c||n.removeEntry(l,Tt.min())})}).next(()=>(this.ni=null,n.apply(t)))}updateLimboDocument(t,n){return this.si(t,n).next(s=>{s?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(t){return 0}si(t,n){return G.or([()=>G.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.ei(t,n)])}}class qc{constructor(t,n){this.persistence=t,this.oi=new Hs(s=>s1(s.path),(s,l)=>s.isEqual(l)),this.garbageCollector=_I(this,n)}static ri(t,n){return new qc(t,n)}Zr(){}Xr(t){return G.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}nr(t){const n=this.sr(t);return this.persistence.getTargetCache().getTargetCount(t).next(s=>n.next(l=>s+l))}sr(t){let n=0;return this.rr(t,s=>{n++}).next(()=>n)}rr(t,n){return G.forEach(this.oi,(s,l)=>this.ar(t,s,l).next(c=>c?G.resolve():n(l)))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.qr(t,f=>this.ar(t,f,n).next(g=>{g||(s++,c.removeEntry(f,Tt.min()))})).next(()=>c.apply(t)).next(()=>s)}markPotentiallyOrphaned(t,n){return this.oi.set(n,t.currentSequenceNumber),G.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.oi.set(s,t.currentSequenceNumber),G.resolve()}removeReference(t,n,s){return this.oi.set(s,t.currentSequenceNumber),G.resolve()}updateLimboDocument(t,n){return this.oi.set(n,t.currentSequenceNumber),G.resolve()}Jr(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Ac(t.data.value)),n}ar(t,n,s){return G.or([()=>this.persistence.ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const l=this.oi.get(n);return G.resolve(l!==void 0&&l>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(t,n,s,l){this.targetId=t,this.fromCache=n,this.Hi=s,this.Ji=l}static Yi(t,n){let s=Mt(),l=Mt();for(const c of n.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Mm(t,n.fromCache,s,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return cS()?8:i1(Xe())>0?6:4}()}initialize(t,n){this.ns=t,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(t,n,s,l){const c={result:null};return this.rs(t,n).next(f=>{c.result=f}).next(()=>{if(!c.result)return this.ss(t,n,l,s).next(f=>{c.result=f})}).next(()=>{if(c.result)return;const f=new DI;return this._s(t,n,f).next(g=>{if(c.result=g,this.Xi)return this.us(t,n,f,g.size)})}).next(()=>c.result)}us(t,n,s,l){return s.documentReadCount<this.es?(ka()<=Nt.DEBUG&&it("QueryEngine","SDK will not create cache indexes for query:",Ua(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),G.resolve()):(ka()<=Nt.DEBUG&&it("QueryEngine","Query:",Ua(n),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.ts*l?(ka()<=Nt.DEBUG&&it("QueryEngine","The SDK decides to create cache indexes for query:",Ua(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ui(n))):G.resolve())}rs(t,n){if(iv(n))return G.resolve(null);let s=ui(n);return this.indexManager.getIndexType(t,s).next(l=>l===0?null:(n.limit!==null&&l===1&&(n=Gd(n,null,"F"),s=ui(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next(c=>{const f=Mt(...c);return this.ns.getDocuments(t,f).next(g=>this.indexManager.getMinOffset(t,s).next(p=>{const _=this.cs(n,g);return this.ls(n,_,f,p.readTime)?this.rs(t,Gd(n,null,"F")):this.hs(t,_,n,p)}))})))}ss(t,n,s,l){return iv(n)||l.isEqual(Tt.min())?G.resolve(null):this.ns.getDocuments(t,s).next(c=>{const f=this.cs(n,c);return this.ls(n,f,s,l)?G.resolve(null):(ka()<=Nt.DEBUG&&it("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Ua(n)),this.hs(t,f,n,ZR(l,Rl)).next(g=>g))})}cs(t,n){let s=new Re(eT(t));return n.forEach((l,c)=>{nh(t,c)&&(s=s.add(c))}),s}ls(t,n,s,l){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const c=t.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}_s(t,n,s){return ka()<=Nt.DEBUG&&it("QueryEngine","Using full collection scan to execute query:",Ua(n)),this.ns.getDocumentsMatchingQuery(t,n,Gr.min(),s)}hs(t,n,s,l){return this.ns.getDocumentsMatchingQuery(t,s,l).next(c=>(n.forEach(f=>{c=c.insert(f.key,f)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vm="LocalStore",NI=3e8;class MI{constructor(t,n,s,l){this.persistence=t,this.Ps=n,this.serializer=l,this.Ts=new re(Ct),this.Is=new Hs(c=>Am(c),Sm),this.Es=new Map,this.ds=t.getRemoteDocumentCache(),this.Hr=t.getTargetCache(),this.Yr=t.getBundleCache(),this.As(s)}As(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new EI(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Ts))}}function VI(r,t,n,s){return new MI(r,t,n,s)}async function bT(r,t){const n=St(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let l;return n.mutationQueue.getAllMutationBatches(s).next(c=>(l=c,n.As(t),n.mutationQueue.getAllMutationBatches(s))).next(c=>{const f=[],g=[];let p=Mt();for(const _ of l){f.push(_.batchId);for(const A of _.mutations)p=p.add(A.key)}for(const _ of c){g.push(_.batchId);for(const A of _.mutations)p=p.add(A.key)}return n.localDocuments.getDocuments(s,p).next(_=>({Rs:_,removedBatchIds:f,addedBatchIds:g}))})})}function PI(r,t){const n=St(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const l=t.batch.keys(),c=n.ds.newChangeBuffer({trackRemovals:!0});return function(g,p,_,A){const R=_.batch,P=R.keys();let j=G.resolve();return P.forEach(Q=>{j=j.next(()=>A.getEntry(p,Q)).next(J=>{const $=_.docVersions.get(Q);Gt($!==null),J.version.compareTo($)<0&&(R.applyToRemoteDocument(J,_),J.isValidDocument()&&(J.setReadTime(_.commitVersion),A.addEntry(J)))})}),j.next(()=>g.mutationQueue.removeMutationBatch(p,R))}(n,s,t,c).next(()=>c.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,l,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(g){let p=Mt();for(let _=0;_<g.mutationResults.length;++_)g.mutationResults[_].transformResults.length>0&&(p=p.add(g.batch.mutations[_].key));return p}(t))).next(()=>n.localDocuments.getDocuments(s,l))})}function wT(r){const t=St(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Hr.getLastRemoteSnapshotVersion(n))}function kI(r,t){const n=St(r),s=t.snapshotVersion;let l=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const f=n.ds.newChangeBuffer({trackRemovals:!0});l=n.Ts;const g=[];t.targetChanges.forEach((A,R)=>{const P=l.get(R);if(!P)return;g.push(n.Hr.removeMatchingKeys(c,A.removedDocuments,R).next(()=>n.Hr.addMatchingKeys(c,A.addedDocuments,R)));let j=P.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(R)!==null?j=j.withResumeToken(qe.EMPTY_BYTE_STRING,Tt.min()).withLastLimboFreeSnapshotVersion(Tt.min()):A.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(A.resumeToken,s)),l=l.insert(R,j),function(J,$,vt){return J.resumeToken.approximateByteSize()===0||$.snapshotVersion.toMicroseconds()-J.snapshotVersion.toMicroseconds()>=NI?!0:vt.addedDocuments.size+vt.modifiedDocuments.size+vt.removedDocuments.size>0}(P,j,A)&&g.push(n.Hr.updateTargetData(c,j))});let p=Qi(),_=Mt();if(t.documentUpdates.forEach(A=>{t.resolvedLimboDocuments.has(A)&&g.push(n.persistence.referenceDelegate.updateLimboDocument(c,A))}),g.push(UI(c,f,t.documentUpdates).next(A=>{p=A.Vs,_=A.fs})),!s.isEqual(Tt.min())){const A=n.Hr.getLastRemoteSnapshotVersion(c).next(R=>n.Hr.setTargetsMetadata(c,c.currentSequenceNumber,s));g.push(A)}return G.waitFor(g).next(()=>f.apply(c)).next(()=>n.localDocuments.getLocalViewOfDocuments(c,p,_)).next(()=>p)}).then(c=>(n.Ts=l,c))}function UI(r,t,n){let s=Mt(),l=Mt();return n.forEach(c=>s=s.add(c)),t.getEntries(r,s).next(c=>{let f=Qi();return n.forEach((g,p)=>{const _=c.get(g);p.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(g)),p.isNoDocument()&&p.version.isEqual(Tt.min())?(t.removeEntry(g,p.readTime),f=f.insert(g,p)):!_.isValidDocument()||p.version.compareTo(_.version)>0||p.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(p),f=f.insert(g,p)):it(Vm,"Ignoring outdated watch update for ",g,". Current version:",_.version," Watch version:",p.version)}),{Vs:f,fs:l}})}function LI(r,t){const n=St(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(t===void 0&&(t=vm),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function xI(r,t){const n=St(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let l;return n.Hr.getTargetData(s,t).next(c=>c?(l=c,G.resolve(l)):n.Hr.allocateTargetId(s).next(f=>(l=new Lr(t,f,"TargetPurposeListen",s.currentSequenceNumber),n.Hr.addTargetData(s,l).next(()=>l))))}).then(s=>{const l=n.Ts.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(s.targetId,s),n.Is.set(t,s.targetId)),s})}async function $d(r,t,n){const s=St(r),l=s.Ts.get(t),c=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",c,f=>s.persistence.referenceDelegate.removeTarget(f,l))}catch(f){if(!no(f))throw f;it(Vm,`Failed to update sequence numbers for target ${t}: ${f}`)}s.Ts=s.Ts.remove(t),s.Is.delete(l.target)}function pv(r,t,n){const s=St(r);let l=Tt.min(),c=Mt();return s.persistence.runTransaction("Execute query","readwrite",f=>function(p,_,A){const R=St(p),P=R.Is.get(A);return P!==void 0?G.resolve(R.Ts.get(P)):R.Hr.getTargetData(_,A)}(s,f,ui(t)).next(g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(f,g.targetId).next(p=>{c=p})}).next(()=>s.Ps.getDocumentsMatchingQuery(f,t,n?l:Tt.min(),n?c:Mt())).next(g=>(zI(s,w1(t),g),{documents:g,gs:c})))}function zI(r,t,n){let s=r.Es.get(t)||Tt.min();n.forEach((l,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),r.Es.set(t,s)}class _v{constructor(){this.activeTargetIds=N1()}Ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}vs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}bs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class jI{constructor(){this.ho=new _v,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.ho.Ds(t),this.Po[t]||"not-current"}updateQueryState(t,n,s){this.Po[t]=n}removeLocalQueryTarget(t){this.ho.vs(t)}isLocalQueryTarget(t){return this.ho.activeTargetIds.has(t)}clearQueryState(t){delete this.Po[t]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(t){return this.ho.activeTargetIds.has(t)}start(){return this.ho=new _v,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{To(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yv="ConnectivityMonitor";class vv{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(t){this.Vo.push(t)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){it(yv,"Network connectivity changed: AVAILABLE");for(const t of this.Vo)t(0)}Ro(){it(yv,"Network connectivity changed: UNAVAILABLE");for(const t of this.Vo)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pc=null;function Wd(){return pc===null?pc=function(){return 268435456+Math.round(2147483648*Math.random())}():pc++,"0x"+pc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rd="RestConnection",qI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class HI{get fo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.po=n+"://"+t.host,this.yo=`projects/${s}/databases/${l}`,this.wo=this.databaseId.database===kc?`project_id=${s}`:`project_id=${s}&database_id=${l}`}So(t,n,s,l,c){const f=Wd(),g=this.bo(t,n.toUriEncodedString());it(Rd,`Sending RPC '${t}' ${f}:`,g,s);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,l,c),this.vo(t,g,p,s).then(_=>(it(Rd,`Received RPC '${t}' ${f}: `,_),_),_=>{throw Ga(Rd,`RPC '${t}' ${f} failed with error: `,_,"url: ",g,"request:",s),_})}Co(t,n,s,l,c,f){return this.So(t,n,s,l,c)}Do(t,n,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+to}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((l,c)=>t[c]=l),s&&s.headers.forEach((l,c)=>t[c]=l)}bo(t,n){const s=qI[t];return`${this.po}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{constructor(t){this.Fo=t.Fo,this.Mo=t.Mo}xo(t){this.Oo=t}No(t){this.Bo=t}Lo(t){this.ko=t}onMessage(t){this.qo=t}close(){this.Mo()}send(t){this.Fo(t)}Qo(){this.Oo()}$o(){this.Bo()}Uo(t){this.ko(t)}Ko(t){this.qo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ke="WebChannelConnection";class GI extends HI{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}vo(t,n,s,l){const c=Wd();return new Promise((f,g)=>{const p=new OE;p.setWithCredentials(!0),p.listenOnce(NE.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Tc.NO_ERROR:const A=p.getResponseJson();it(Ke,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(A)),f(A);break;case Tc.TIMEOUT:it(Ke,`RPC '${t}' ${c} timed out`),g(new ct(Y.DEADLINE_EXCEEDED,"Request time out"));break;case Tc.HTTP_ERROR:const R=p.getStatus();if(it(Ke,`RPC '${t}' ${c} failed with status:`,R,"response text:",p.getResponseText()),R>0){let P=p.getResponseJson();Array.isArray(P)&&(P=P[0]);const j=P==null?void 0:P.error;if(j&&j.status&&j.message){const Q=function($){const vt=$.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(vt)>=0?vt:Y.UNKNOWN}(j.status);g(new ct(Q,j.message))}else g(new ct(Y.UNKNOWN,"Server responded with status "+p.getStatus()))}else g(new ct(Y.UNAVAILABLE,"Connection failed."));break;default:yt()}}finally{it(Ke,`RPC '${t}' ${c} completed.`)}});const _=JSON.stringify(l);it(Ke,`RPC '${t}' ${c} sending request:`,l),p.send(n,"POST",_,s,15)})}Wo(t,n,s){const l=Wd(),c=[this.po,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=PE(),g=VE(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(p.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const A=c.join("");it(Ke,`Creating RPC '${t}' stream ${l}: ${A}`,p);const R=f.createWebChannel(A,p);let P=!1,j=!1;const Q=new FI({Fo:$=>{j?it(Ke,`Not sending because RPC '${t}' stream ${l} is closed:`,$):(P||(it(Ke,`Opening RPC '${t}' stream ${l} transport.`),R.open(),P=!0),it(Ke,`RPC '${t}' stream ${l} sending:`,$),R.send($))},Mo:()=>R.close()}),J=($,vt,mt)=>{$.listen(vt,Et=>{try{mt(Et)}catch(dt){setTimeout(()=>{throw dt},0)}})};return J(R,ml.EventType.OPEN,()=>{j||(it(Ke,`RPC '${t}' stream ${l} transport opened.`),Q.Qo())}),J(R,ml.EventType.CLOSE,()=>{j||(j=!0,it(Ke,`RPC '${t}' stream ${l} transport closed`),Q.Uo())}),J(R,ml.EventType.ERROR,$=>{j||(j=!0,Ga(Ke,`RPC '${t}' stream ${l} transport errored:`,$),Q.Uo(new ct(Y.UNAVAILABLE,"The operation could not be completed")))}),J(R,ml.EventType.MESSAGE,$=>{var vt;if(!j){const mt=$.data[0];Gt(!!mt);const Et=mt,dt=(Et==null?void 0:Et.error)||((vt=Et[0])===null||vt===void 0?void 0:vt.error);if(dt){it(Ke,`RPC '${t}' stream ${l} received error:`,dt);const lt=dt.status;let st=function(S){const I=_e[S];if(I!==void 0)return fT(I)}(lt),O=dt.message;st===void 0&&(st=Y.INTERNAL,O="Unknown error status: "+lt+" with message "+dt.message),j=!0,Q.Uo(new ct(st,O)),R.close()}else it(Ke,`RPC '${t}' stream ${l} received:`,mt),Q.Ko(mt)}}),J(g,ME.STAT_EVENT,$=>{$.stat===zd.PROXY?it(Ke,`RPC '${t}' stream ${l} detected buffering proxy`):$.stat===zd.NOPROXY&&it(Ke,`RPC '${t}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{Q.$o()},0),Q}}function Id(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ah(r){return new X1(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT{constructor(t,n,s=1e3,l=1.5,c=6e4){this.Ti=t,this.timerId=n,this.Go=s,this.zo=l,this.jo=c,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(t){this.cancel();const n=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),l=Math.max(0,n-s);l>0&&it("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,l,()=>(this.Yo=Date.now(),t())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ev="PersistentStream";class IT{constructor(t,n,s,l,c,f,g,p){this.Ti=t,this.n_=s,this.r_=l,this.connection=c,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=g,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new RT(t,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(t){this.E_(),this.stream.send(t)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(t,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,t!==4?this.a_.reset():n&&n.code===Y.RESOURCE_EXHAUSTED?(Ki(n.toString()),Ki("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const t=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,l])=>{this.i_===n&&this.V_(s,l)},s=>{t(()=>{const l=new ct(Y.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(l)})})}V_(t,n){const s=this.R_(this.i_);this.stream=this.f_(t,n),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(l=>{s(()=>this.m_(l))}),this.stream.onMessage(l=>{s(()=>++this.__==1?this.g_(l):this.onNext(l))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(t){return it(Ev,`close with error: ${t}`),this.stream=null,this.close(4,t)}R_(t){return n=>{this.Ti.enqueueAndForget(()=>this.i_===t?n():(it(Ev,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class KI extends IT{constructor(t,n,s,l,c,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,l,f),this.serializer=c}f_(t,n){return this.connection.Wo("Listen",t,n)}g_(t){return this.onNext(t)}onNext(t){this.a_.reset();const n=Z1(this.serializer,t),s=function(c){if(!("targetChange"in c))return Tt.min();const f=c.targetChange;return f.targetIds&&f.targetIds.length?Tt.min():f.readTime?ci(f.readTime):Tt.min()}(t);return this.listener.p_(n,s)}y_(t){const n={};n.database=Xd(this.serializer),n.addTarget=function(c,f){let g;const p=f.target;if(g=Fd(p)?{documents:eI(c,p)}:{query:nI(c,p).ht},g.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){g.resumeToken=gT(c,f.resumeToken);const _=Kd(c,f.expectedCount);_!==null&&(g.expectedCount=_)}else if(f.snapshotVersion.compareTo(Tt.min())>0){g.readTime=Bc(c,f.snapshotVersion.toTimestamp());const _=Kd(c,f.expectedCount);_!==null&&(g.expectedCount=_)}return g}(this.serializer,t);const s=rI(this.serializer,t);s&&(n.labels=s),this.I_(n)}w_(t){const n={};n.database=Xd(this.serializer),n.removeTarget=t,this.I_(n)}}class QI extends IT{constructor(t,n,s,l,c,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,l,f),this.serializer=c}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(t,n){return this.connection.Wo("Write",t,n)}g_(t){return Gt(!!t.streamToken),this.lastStreamToken=t.streamToken,Gt(!t.writeResults||t.writeResults.length===0),this.listener.D_()}onNext(t){Gt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.a_.reset();const n=tI(t.writeResults,t.commitTime),s=ci(t.commitTime);return this.listener.v_(s,n)}C_(){const t={};t.database=Xd(this.serializer),this.I_(t)}b_(t){const n={streamToken:this.lastStreamToken,writes:t.map(s=>J1(this.serializer,s))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{}class XI extends YI{constructor(t,n,s,l){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=l,this.F_=!1}M_(){if(this.F_)throw new ct(Y.FAILED_PRECONDITION,"The client has already been terminated.")}So(t,n,s,l){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.So(t,Qd(n,s),l,c,f)).catch(c=>{throw c.name==="FirebaseError"?(c.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ct(Y.UNKNOWN,c.toString())})}Co(t,n,s,l,c){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,g])=>this.connection.Co(t,Qd(n,s),l,f,g,c)).catch(f=>{throw f.name==="FirebaseError"?(f.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ct(Y.UNKNOWN,f.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class $I{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(t){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.L_("Offline")))}set(t){this.Q_(),this.x_=0,t==="Online"&&(this.N_=!1),this.L_(t)}L_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}k_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Ki(n),this.N_=!1):it("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const js="RemoteStore";class WI{constructor(t,n,s,l,c){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=c,this.z_.To(f=>{s.enqueueAndForget(async()=>{Fs(this)&&(it(js,"Restarting streams for network reachability change."),await async function(p){const _=St(p);_.W_.add(4),await Bl(_),_.j_.set("Unknown"),_.W_.delete(4),await oh(_)}(this))})}),this.j_=new $I(s,l)}}async function oh(r){if(Fs(r))for(const t of r.G_)await t(!0)}async function Bl(r){for(const t of r.G_)await t(!1)}function CT(r,t){const n=St(r);n.K_.has(t.targetId)||(n.K_.set(t.targetId,t),Lm(n)?Um(n):io(n).c_()&&km(n,t))}function Pm(r,t){const n=St(r),s=io(n);n.K_.delete(t),s.c_()&&DT(n,t),n.K_.size===0&&(s.c_()?s.P_():Fs(n)&&n.j_.set("Unknown"))}function km(r,t){if(r.H_.Ne(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Tt.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}io(r).y_(t)}function DT(r,t){r.H_.Ne(t),io(r).w_(t)}function Um(r){r.H_=new G1({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),lt:t=>r.K_.get(t)||null,it:()=>r.datastore.serializer.databaseId}),io(r).start(),r.j_.B_()}function Lm(r){return Fs(r)&&!io(r).u_()&&r.K_.size>0}function Fs(r){return St(r).W_.size===0}function OT(r){r.H_=void 0}async function ZI(r){r.j_.set("Online")}async function JI(r){r.K_.forEach((t,n)=>{km(r,t)})}async function tC(r,t){OT(r),Lm(r)?(r.j_.q_(t),Um(r)):r.j_.set("Unknown")}async function eC(r,t,n){if(r.j_.set("Online"),t instanceof mT&&t.state===2&&t.cause)try{await async function(l,c){const f=c.cause;for(const g of c.targetIds)l.K_.has(g)&&(await l.remoteSyncer.rejectListen(g,f),l.K_.delete(g),l.H_.removeTarget(g))}(r,t)}catch(s){it(js,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await Hc(r,s)}else if(t instanceof wc?r.H_.We(t):t instanceof dT?r.H_.Ze(t):r.H_.je(t),!n.isEqual(Tt.min()))try{const s=await wT(r.localStore);n.compareTo(s)>=0&&await function(c,f){const g=c.H_.ot(f);return g.targetChanges.forEach((p,_)=>{if(p.resumeToken.approximateByteSize()>0){const A=c.K_.get(_);A&&c.K_.set(_,A.withResumeToken(p.resumeToken,f))}}),g.targetMismatches.forEach((p,_)=>{const A=c.K_.get(p);if(!A)return;c.K_.set(p,A.withResumeToken(qe.EMPTY_BYTE_STRING,A.snapshotVersion)),DT(c,p);const R=new Lr(A.target,p,_,A.sequenceNumber);km(c,R)}),c.remoteSyncer.applyRemoteEvent(g)}(r,n)}catch(s){it(js,"Failed to raise snapshot:",s),await Hc(r,s)}}async function Hc(r,t,n){if(!no(t))throw t;r.W_.add(1),await Bl(r),r.j_.set("Offline"),n||(n=()=>wT(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{it(js,"Retrying IndexedDB access"),await n(),r.W_.delete(1),await oh(r)})}function NT(r,t){return t().catch(n=>Hc(r,n,t))}async function lh(r){const t=St(r),n=Xr(t);let s=t.U_.length>0?t.U_[t.U_.length-1].batchId:vm;for(;nC(t);)try{const l=await LI(t.localStore,s);if(l===null){t.U_.length===0&&n.P_();break}s=l.batchId,iC(t,l)}catch(l){await Hc(t,l)}MT(t)&&VT(t)}function nC(r){return Fs(r)&&r.U_.length<10}function iC(r,t){r.U_.push(t);const n=Xr(r);n.c_()&&n.S_&&n.b_(t.mutations)}function MT(r){return Fs(r)&&!Xr(r).u_()&&r.U_.length>0}function VT(r){Xr(r).start()}async function rC(r){Xr(r).C_()}async function sC(r){const t=Xr(r);for(const n of r.U_)t.b_(n.mutations)}async function aC(r,t,n){const s=r.U_.shift(),l=Im.from(s,t,n);await NT(r,()=>r.remoteSyncer.applySuccessfulWrite(l)),await lh(r)}async function oC(r,t){t&&Xr(r).S_&&await async function(s,l){if(function(f){return H1(f)&&f!==Y.ABORTED}(l.code)){const c=s.U_.shift();Xr(s).h_(),await NT(s,()=>s.remoteSyncer.rejectFailedWrite(c.batchId,l)),await lh(s)}}(r,t),MT(r)&&VT(r)}async function Tv(r,t){const n=St(r);n.asyncQueue.verifyOperationInProgress(),it(js,"RemoteStore received new credentials");const s=Fs(n);n.W_.add(3),await Bl(n),s&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.W_.delete(3),await oh(n)}async function lC(r,t){const n=St(r);t?(n.W_.delete(2),await oh(n)):t||(n.W_.add(2),await Bl(n),n.j_.set("Unknown"))}function io(r){return r.J_||(r.J_=function(n,s,l){const c=St(n);return c.M_(),new KI(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)}(r.datastore,r.asyncQueue,{xo:ZI.bind(null,r),No:JI.bind(null,r),Lo:tC.bind(null,r),p_:eC.bind(null,r)}),r.G_.push(async t=>{t?(r.J_.h_(),Lm(r)?Um(r):r.j_.set("Unknown")):(await r.J_.stop(),OT(r))})),r.J_}function Xr(r){return r.Y_||(r.Y_=function(n,s,l){const c=St(n);return c.M_(),new QI(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)}(r.datastore,r.asyncQueue,{xo:()=>Promise.resolve(),No:rC.bind(null,r),Lo:oC.bind(null,r),D_:sC.bind(null,r),v_:aC.bind(null,r)}),r.G_.push(async t=>{t?(r.Y_.h_(),await lh(r)):(await r.Y_.stop(),r.U_.length>0&&(it(js,`Stopping write stream with ${r.U_.length} pending writes`),r.U_=[]))})),r.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(t,n,s,l,c){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=l,this.removalCallback=c,this.deferred=new Hr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,l,c){const f=Date.now()+s,g=new xm(t,n,f,l,c);return g.start(s),g}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ct(Y.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function zm(r,t){if(Ki("AsyncQueue",`${t}: ${r}`),no(r))return new ct(Y.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{static emptySet(t){return new Ha(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||ft.comparator(n.key,s.key):(n,s)=>ft.comparator(n.key,s.key),this.keyedMap=gl(),this.sortedSet=new re(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,s)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Ha)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=s.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new Ha;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Av{constructor(){this.Z_=new re(ft.comparator)}track(t){const n=t.doc.key,s=this.Z_.get(n);s?t.type!==0&&s.type===3?this.Z_=this.Z_.insert(n,t):t.type===3&&s.type!==1?this.Z_=this.Z_.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.Z_=this.Z_.remove(n):t.type===1&&s.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:t.doc}):yt():this.Z_=this.Z_.insert(n,t)}X_(){const t=[];return this.Z_.inorderTraversal((n,s)=>{t.push(s)}),t}}class $a{constructor(t,n,s,l,c,f,g,p,_){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=g,this.excludesMetadataChanges=p,this.hasCachedResults=_}static fromInitialDocuments(t,n,s,l,c){const f=[];return n.forEach(g=>{f.push({type:0,doc:g})}),new $a(t,n,Ha.emptySet(n),f,s,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&eh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==s[l].type||!n[l].doc.isEqual(s[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(t=>t.ra())}}class cC{constructor(){this.queries=Sv(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,s){const l=St(n),c=l.queries;l.queries=Sv(),c.forEach((f,g)=>{for(const p of g.ta)p.onError(s)})})(this,new ct(Y.ABORTED,"Firestore shutting down"))}}function Sv(){return new Hs(r=>tT(r),eh)}async function PT(r,t){const n=St(r);let s=3;const l=t.query;let c=n.queries.get(l);c?!c.na()&&t.ra()&&(s=2):(c=new uC,s=t.ra()?0:1);try{switch(s){case 0:c.ea=await n.onListen(l,!0);break;case 1:c.ea=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(f){const g=zm(f,`Initialization of query '${Ua(t.query)}' failed`);return void t.onError(g)}n.queries.set(l,c),c.ta.push(t),t.sa(n.onlineState),c.ea&&t.oa(c.ea)&&jm(n)}async function kT(r,t){const n=St(r),s=t.query;let l=3;const c=n.queries.get(s);if(c){const f=c.ta.indexOf(t);f>=0&&(c.ta.splice(f,1),c.ta.length===0?l=t.ra()?0:1:!c.na()&&t.ra()&&(l=2))}switch(l){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function hC(r,t){const n=St(r);let s=!1;for(const l of t){const c=l.query,f=n.queries.get(c);if(f){for(const g of f.ta)g.oa(l)&&(s=!0);f.ea=l}}s&&jm(n)}function fC(r,t,n){const s=St(r),l=s.queries.get(t);if(l)for(const c of l.ta)c.onError(n);s.queries.delete(t)}function jm(r){r.ia.forEach(t=>{t.next()})}var Zd,bv;(bv=Zd||(Zd={}))._a="default",bv.Cache="cache";class UT{constructor(t,n,s){this.query=t,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(t){if(!this.options.includeMetadataChanges){const s=[];for(const l of t.docChanges)l.type!==3&&s.push(l);t=new $a(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.ua?this.la(t)&&(this.aa.next(t),n=!0):this.ha(t,this.onlineState)&&(this.Pa(t),n=!0),this.ca=t,n}onError(t){this.aa.error(t)}sa(t){this.onlineState=t;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,t)&&(this.Pa(this.ca),n=!0),n}ha(t,n){if(!t.fromCache||!this.ra())return!0;const s=n!=="Offline";return(!this.options.Ta||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}la(t){if(t.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(t){t=$a.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ua=!0,this.aa.next(t)}ra(){return this.options.source!==Zd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{constructor(t){this.key=t}}class xT{constructor(t){this.key=t}}class dC{constructor(t,n){this.query=t,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Mt(),this.mutatedKeys=Mt(),this.ya=eT(t),this.wa=new Ha(this.ya)}get Sa(){return this.fa}ba(t,n){const s=n?n.Da:new Av,l=n?n.wa:this.wa;let c=n?n.mutatedKeys:this.mutatedKeys,f=l,g=!1;const p=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal((A,R)=>{const P=l.get(A),j=nh(this.query,R)?R:null,Q=!!P&&this.mutatedKeys.has(P.key),J=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let $=!1;P&&j?P.data.isEqual(j.data)?Q!==J&&(s.track({type:3,doc:j}),$=!0):this.va(P,j)||(s.track({type:2,doc:j}),$=!0,(p&&this.ya(j,p)>0||_&&this.ya(j,_)<0)&&(g=!0)):!P&&j?(s.track({type:0,doc:j}),$=!0):P&&!j&&(s.track({type:1,doc:P}),$=!0,(p||_)&&(g=!0)),$&&(j?(f=f.add(j),c=J?c.add(A):c.delete(A)):(f=f.delete(A),c=c.delete(A)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const A=this.query.limitType==="F"?f.last():f.first();f=f.delete(A.key),c=c.delete(A.key),s.track({type:1,doc:A})}return{wa:f,Da:s,ls:g,mutatedKeys:c}}va(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,l){const c=this.wa;this.wa=t.wa,this.mutatedKeys=t.mutatedKeys;const f=t.Da.X_();f.sort((A,R)=>function(j,Q){const J=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yt()}};return J(j)-J(Q)}(A.type,R.type)||this.ya(A.doc,R.doc)),this.Ca(s),l=l!=null&&l;const g=n&&!l?this.Fa():[],p=this.pa.size===0&&this.current&&!l?1:0,_=p!==this.ga;return this.ga=p,f.length!==0||_?{snapshot:new $a(this.query,t.wa,c,f,t.mutatedKeys,p===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:g}:{Ma:g}}sa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Av,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(t){return!this.fa.has(t)&&!!this.wa.has(t)&&!this.wa.get(t).hasLocalMutations}Ca(t){t&&(t.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=t.current)}Fa(){if(!this.current)return[];const t=this.pa;this.pa=Mt(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const n=[];return t.forEach(s=>{this.pa.has(s)||n.push(new xT(s))}),this.pa.forEach(s=>{t.has(s)||n.push(new LT(s))}),n}Oa(t){this.fa=t.gs,this.pa=Mt();const n=this.ba(t.documents);return this.applyChanges(n,!0)}Na(){return $a.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Bm="SyncEngine";class mC{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class gC{constructor(t){this.key=t,this.Ba=!1}}class pC{constructor(t,n,s,l,c,f){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.La={},this.ka=new Hs(g=>tT(g),eh),this.qa=new Map,this.Qa=new Set,this.$a=new re(ft.comparator),this.Ua=new Map,this.Ka=new Om,this.Wa={},this.Ga=new Map,this.za=Xa.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function _C(r,t,n=!0){const s=FT(r);let l;const c=s.ka.get(t);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.Na()):l=await zT(s,t,n,!0),l}async function yC(r,t){const n=FT(r);await zT(n,t,!0,!1)}async function zT(r,t,n,s){const l=await xI(r.localStore,ui(t)),c=l.targetId,f=r.sharedClientState.addLocalQueryTarget(c,n);let g;return s&&(g=await vC(r,t,c,f==="current",l.resumeToken)),r.isPrimaryClient&&n&&CT(r.remoteStore,l),g}async function vC(r,t,n,s,l){r.Ha=(R,P,j)=>async function(J,$,vt,mt){let Et=$.view.ba(vt);Et.ls&&(Et=await pv(J.localStore,$.query,!1).then(({documents:O})=>$.view.ba(O,Et)));const dt=mt&&mt.targetChanges.get($.targetId),lt=mt&&mt.targetMismatches.get($.targetId)!=null,st=$.view.applyChanges(Et,J.isPrimaryClient,dt,lt);return Rv(J,$.targetId,st.Ma),st.snapshot}(r,R,P,j);const c=await pv(r.localStore,t,!0),f=new dC(t,c.gs),g=f.ba(c.documents),p=jl.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",l),_=f.applyChanges(g,r.isPrimaryClient,p);Rv(r,n,_.Ma);const A=new mC(t,n,f);return r.ka.set(t,A),r.qa.has(n)?r.qa.get(n).push(t):r.qa.set(n,[t]),_.snapshot}async function EC(r,t,n){const s=St(r),l=s.ka.get(t),c=s.qa.get(l.targetId);if(c.length>1)return s.qa.set(l.targetId,c.filter(f=>!eh(f,t))),void s.ka.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await $d(s.localStore,l.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(l.targetId),n&&Pm(s.remoteStore,l.targetId),Jd(s,l.targetId)}).catch(eo)):(Jd(s,l.targetId),await $d(s.localStore,l.targetId,!0))}async function TC(r,t){const n=St(r),s=n.ka.get(t),l=n.qa.get(s.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Pm(n.remoteStore,s.targetId))}async function AC(r,t,n){const s=DC(r);try{const l=await function(f,g){const p=St(f),_=we.now(),A=g.reduce((j,Q)=>j.add(Q.key),Mt());let R,P;return p.persistence.runTransaction("Locally write mutations","readwrite",j=>{let Q=Qi(),J=Mt();return p.ds.getEntries(j,A).next($=>{Q=$,Q.forEach((vt,mt)=>{mt.isValidDocument()||(J=J.add(vt))})}).next(()=>p.localDocuments.getOverlayedDocuments(j,Q)).next($=>{R=$;const vt=[];for(const mt of g){const Et=x1(mt,R.get(mt.key).overlayedDocument);Et!=null&&vt.push(new ts(mt.key,Et,QE(Et.value.mapValue),Bn.exists(!0)))}return p.mutationQueue.addMutationBatch(j,_,vt,g)}).next($=>{P=$;const vt=$.applyToLocalDocumentSet(R,J);return p.documentOverlayCache.saveOverlays(j,$.batchId,vt)})}).then(()=>({batchId:P.batchId,changes:iT(R)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(l.batchId),function(f,g,p){let _=f.Wa[f.currentUser.toKey()];_||(_=new re(Ct)),_=_.insert(g,p),f.Wa[f.currentUser.toKey()]=_}(s,l.batchId,n),await ql(s,l.changes),await lh(s.remoteStore)}catch(l){const c=zm(l,"Failed to persist write");n.reject(c)}}async function jT(r,t){const n=St(r);try{const s=await kI(n.localStore,t);t.targetChanges.forEach((l,c)=>{const f=n.Ua.get(c);f&&(Gt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?f.Ba=!0:l.modifiedDocuments.size>0?Gt(f.Ba):l.removedDocuments.size>0&&(Gt(f.Ba),f.Ba=!1))}),await ql(n,s,t)}catch(s){await eo(s)}}function wv(r,t,n){const s=St(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const l=[];s.ka.forEach((c,f)=>{const g=f.view.sa(t);g.snapshot&&l.push(g.snapshot)}),function(f,g){const p=St(f);p.onlineState=g;let _=!1;p.queries.forEach((A,R)=>{for(const P of R.ta)P.sa(g)&&(_=!0)}),_&&jm(p)}(s.eventManager,t),l.length&&s.La.p_(l),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function SC(r,t,n){const s=St(r);s.sharedClientState.updateQueryState(t,"rejected",n);const l=s.Ua.get(t),c=l&&l.key;if(c){let f=new re(ft.comparator);f=f.insert(c,Ye.newNoDocument(c,Tt.min()));const g=Mt().add(c),p=new sh(Tt.min(),new Map,new re(Ct),f,g);await jT(s,p),s.$a=s.$a.remove(c),s.Ua.delete(t),qm(s)}else await $d(s.localStore,t,!1).then(()=>Jd(s,t,n)).catch(eo)}async function bC(r,t){const n=St(r),s=t.batch.batchId;try{const l=await PI(n.localStore,t);qT(n,s,null),BT(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await ql(n,l)}catch(l){await eo(l)}}async function wC(r,t,n){const s=St(r);try{const l=await function(f,g){const p=St(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let A;return p.mutationQueue.lookupMutationBatch(_,g).next(R=>(Gt(R!==null),A=R.keys(),p.mutationQueue.removeMutationBatch(_,R))).next(()=>p.mutationQueue.performConsistencyCheck(_)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(_,A,g)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A)).next(()=>p.localDocuments.getDocuments(_,A))})}(s.localStore,t);qT(s,t,n),BT(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await ql(s,l)}catch(l){await eo(l)}}function BT(r,t){(r.Ga.get(t)||[]).forEach(n=>{n.resolve()}),r.Ga.delete(t)}function qT(r,t,n){const s=St(r);let l=s.Wa[s.currentUser.toKey()];if(l){const c=l.get(t);c&&(n?c.reject(n):c.resolve(),l=l.remove(t)),s.Wa[s.currentUser.toKey()]=l}}function Jd(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.qa.get(t))r.ka.delete(s),n&&r.La.Ja(s,n);r.qa.delete(t),r.isPrimaryClient&&r.Ka.br(t).forEach(s=>{r.Ka.containsKey(s)||HT(r,s)})}function HT(r,t){r.Qa.delete(t.path.canonicalString());const n=r.$a.get(t);n!==null&&(Pm(r.remoteStore,n),r.$a=r.$a.remove(t),r.Ua.delete(n),qm(r))}function Rv(r,t,n){for(const s of n)s instanceof LT?(r.Ka.addReference(s.key,t),RC(r,s)):s instanceof xT?(it(Bm,"Document no longer in limbo: "+s.key),r.Ka.removeReference(s.key,t),r.Ka.containsKey(s.key)||HT(r,s.key)):yt()}function RC(r,t){const n=t.key,s=n.path.canonicalString();r.$a.get(n)||r.Qa.has(s)||(it(Bm,"New document in limbo: "+n),r.Qa.add(s),qm(r))}function qm(r){for(;r.Qa.size>0&&r.$a.size<r.maxConcurrentLimboResolutions;){const t=r.Qa.values().next().value;r.Qa.delete(t);const n=new ft(Jt.fromString(t)),s=r.za.next();r.Ua.set(s,new gC(n)),r.$a=r.$a.insert(n,s),CT(r.remoteStore,new Lr(ui(bm(n.path)),s,"TargetPurposeLimboResolution",Wc.ae))}}async function ql(r,t,n){const s=St(r),l=[],c=[],f=[];s.ka.isEmpty()||(s.ka.forEach((g,p)=>{f.push(s.Ha(p,t,n).then(_=>{var A;if((_||n)&&s.isPrimaryClient){const R=_?!_.fromCache:(A=n==null?void 0:n.targetChanges.get(p.targetId))===null||A===void 0?void 0:A.current;s.sharedClientState.updateQueryState(p.targetId,R?"current":"not-current")}if(_){l.push(_);const R=Mm.Yi(p.targetId,_);c.push(R)}}))}),await Promise.all(f),s.La.p_(l),await async function(p,_){const A=St(p);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",R=>G.forEach(_,P=>G.forEach(P.Hi,j=>A.persistence.referenceDelegate.addReference(R,P.targetId,j)).next(()=>G.forEach(P.Ji,j=>A.persistence.referenceDelegate.removeReference(R,P.targetId,j)))))}catch(R){if(!no(R))throw R;it(Vm,"Failed to update sequence numbers: "+R)}for(const R of _){const P=R.targetId;if(!R.fromCache){const j=A.Ts.get(P),Q=j.snapshotVersion,J=j.withLastLimboFreeSnapshotVersion(Q);A.Ts=A.Ts.insert(P,J)}}}(s.localStore,c))}async function IC(r,t){const n=St(r);if(!n.currentUser.isEqual(t)){it(Bm,"User change. New user:",t.toKey());const s=await bT(n.localStore,t);n.currentUser=t,function(c,f){c.Ga.forEach(g=>{g.forEach(p=>{p.reject(new ct(Y.CANCELLED,f))})}),c.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await ql(n,s.Rs)}}function CC(r,t){const n=St(r),s=n.Ua.get(t);if(s&&s.Ba)return Mt().add(s.key);{let l=Mt();const c=n.qa.get(t);if(!c)return l;for(const f of c){const g=n.ka.get(f);l=l.unionWith(g.view.Sa)}return l}}function FT(r){const t=St(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=jT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=CC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=SC.bind(null,t),t.La.p_=hC.bind(null,t.eventManager),t.La.Ja=fC.bind(null,t.eventManager),t}function DC(r){const t=St(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=bC.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=wC.bind(null,t),t}class Fc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=ah(t.databaseInfo.databaseId),this.sharedClientState=this.Za(t),this.persistence=this.Xa(t),await this.persistence.start(),this.localStore=this.eu(t),this.gcScheduler=this.tu(t,this.localStore),this.indexBackfillerScheduler=this.nu(t,this.localStore)}tu(t,n){return null}nu(t,n){return null}eu(t){return VI(this.persistence,new OI,t.initialUser,this.serializer)}Xa(t){return new ST(Nm.ri,this.serializer)}Za(t){return new jI}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Fc.provider={build:()=>new Fc};class OC extends Fc{constructor(t){super(),this.cacheSizeBytes=t}tu(t,n){Gt(this.persistence.referenceDelegate instanceof qc);const s=this.persistence.referenceDelegate.garbageCollector;return new gI(s,t.asyncQueue,n)}Xa(t){const n=this.cacheSizeBytes!==void 0?an.withCacheSize(this.cacheSizeBytes):an.DEFAULT;return new ST(s=>qc.ri(s,n),this.serializer)}}class tm{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>wv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=IC.bind(null,this.syncEngine),await lC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new cC}()}createDatastore(t){const n=ah(t.databaseInfo.databaseId),s=function(c){return new GI(c)}(t.databaseInfo);return function(c,f,g,p){return new XI(c,f,g,p)}(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return function(s,l,c,f,g){return new WI(s,l,c,f,g)}(this.localStore,this.datastore,t.asyncQueue,n=>wv(this.syncEngine,n,0),function(){return vv.D()?new vv:new BI}())}createSyncEngine(t,n){return function(l,c,f,g,p,_,A){const R=new pC(l,c,f,g,p,_);return A&&(R.ja=!0),R}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(l){const c=St(l);it(js,"RemoteStore shutting down."),c.W_.add(5),await Bl(c),c.z_.shutdown(),c.j_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}tm.provider={build:()=>new tm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.iu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.iu(this.observer.error,t):Ki("Uncaught Error in snapshot listener:",t.toString()))}su(){this.muted=!0}iu(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $r="FirestoreClient";class NC{constructor(t,n,s,l,c){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=l,this.user=Qe.UNAUTHENTICATED,this.clientId=LE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,async f=>{it($r,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(it($r,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Hr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=zm(n,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function Cd(r,t){r.asyncQueue.verifyOperationInProgress(),it($r,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async l=>{s.isEqual(l)||(await bT(t.localStore,l),s=l)}),t.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=t}async function Iv(r,t){r.asyncQueue.verifyOperationInProgress();const n=await MC(r);it($r,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener(s=>Tv(t.remoteStore,s)),r.setAppCheckTokenChangeListener((s,l)=>Tv(t.remoteStore,l)),r._onlineComponents=t}async function MC(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){it($r,"Using user provided OfflineComponentProvider");try{await Cd(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(l){return l.name==="FirebaseError"?l.code===Y.FAILED_PRECONDITION||l.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(n))throw n;Ga("Error using user provided cache. Falling back to memory cache: "+n),await Cd(r,new Fc)}}else it($r,"Using default OfflineComponentProvider"),await Cd(r,new OC(void 0));return r._offlineComponents}async function KT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(it($r,"Using user provided OnlineComponentProvider"),await Iv(r,r._uninitializedComponentsProvider._online)):(it($r,"Using default OnlineComponentProvider"),await Iv(r,new tm))),r._onlineComponents}function VC(r){return KT(r).then(t=>t.syncEngine)}async function em(r){const t=await KT(r),n=t.eventManager;return n.onListen=_C.bind(null,t.syncEngine),n.onUnlisten=EC.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=yC.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=TC.bind(null,t.syncEngine),n}function PC(r,t,n={}){const s=new Hr;return r.asyncQueue.enqueueAndForget(async()=>function(c,f,g,p,_){const A=new GT({next:P=>{A.su(),f.enqueueAndForget(()=>kT(c,R)),P.fromCache&&p.source==="server"?_.reject(new ct(Y.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(P)},error:P=>_.reject(P)}),R=new UT(g,A,{includeMetadataChanges:!0,Ta:!0});return PT(c,R)}(await em(r),r.asyncQueue,t,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QT(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YT(r,t,n){if(!n)throw new ct(Y.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function kC(r,t,n,s){if(t===!0&&s===!0)throw new ct(Y.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function Dv(r){if(!ft.isDocumentKey(r))throw new ct(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Ov(r){if(ft.isDocumentKey(r))throw new ct(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Hm(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":yt()}function qn(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ct(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Hm(r);throw new ct(Y.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XT="firestore.googleapis.com",Nv=!0;class Mv{constructor(t){var n,s;if(t.host===void 0){if(t.ssl!==void 0)throw new ct(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=XT,this.ssl=Nv}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:Nv;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=AT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<dI)throw new ct(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}kC("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=QT((s=t.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new ct(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new ct(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new ct(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,l){return s.timeoutSeconds===l.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class uh{constructor(t,n,s,l){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Mv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ct(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ct(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Mv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new HR;switch(s.type){case"firstParty":return new QR(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ct(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=Cv.get(n);s&&(it("ComponentProvider","Removing Datastore"),Cv.delete(n),s.terminate())}(this),Promise.resolve()}}function UC(r,t,n,s={}){var l;const c=(r=qn(r,uh))._getSettings(),f=Object.assign(Object.assign({},c),{emulatorOptions:r._getEmulatorOptions()}),g=`${t}:${n}`;c.host!==XT&&c.host!==g&&Ga("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},c),{host:g,ssl:!1,emulatorOptions:s});if(!ks(p,f)&&(r._setSettings(p),s.mockUserToken)){let _,A;if(typeof s.mockUserToken=="string")_=s.mockUserToken,A=Qe.MOCK_USER;else{_=iS(s.mockUserToken,(l=r._app)===null||l===void 0?void 0:l.options.projectId);const R=s.mockUserToken.sub||s.mockUserToken.user_id;if(!R)throw new ct(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Qe(R)}r._authCredentials=new FR(new kE(_,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new Hl(this.firestore,t,this._query)}}class ln{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ln(this.firestore,t,this._key)}}class Fr extends Hl{constructor(t,n,s){super(t,n,bm(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ln(this.firestore,null,new ft(t))}withConverter(t){return new Fr(this.firestore,t,this._path)}}function nm(r,t,...n){if(r=Be(r),YT("collection","path",t),r instanceof uh){const s=Jt.fromString(t,...n);return Ov(s),new Fr(r,null,s)}{if(!(r instanceof ln||r instanceof Fr))throw new ct(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Jt.fromString(t,...n));return Ov(s),new Fr(r.firestore,null,s)}}function Ml(r,t,...n){if(r=Be(r),arguments.length===1&&(t=LE.newId()),YT("doc","path",t),r instanceof uh){const s=Jt.fromString(t,...n);return Dv(s),new ln(r,null,new ft(s))}{if(!(r instanceof ln||r instanceof Fr))throw new ct(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Jt.fromString(t,...n));return Dv(s),new ln(r.firestore,r instanceof Fr?r.converter:null,new ft(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vv="AsyncQueue";class Pv{constructor(t=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new RT(this,"async_queue_retry"),this.Su=()=>{const s=Id();s&&it(Vv,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.bu=t;const n=Id();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Du(),this.vu(t)}enterRestrictedMode(t){if(!this.mu){this.mu=!0,this.yu=t||!1;const n=Id();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(t){if(this.Du(),this.mu)return new Promise(()=>{});const n=new Hr;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Vu.push(t),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(t){if(!no(t))throw t;it(Vv,"Operation failed with retryable error: "+t)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(t){const n=this.bu.then(()=>(this.pu=!0,t().catch(s=>{this.gu=s,this.pu=!1;const l=function(f){let g=f.message||"";return f.stack&&(g=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),g}(s);throw Ki("INTERNAL UNHANDLED ERROR: ",l),s}).then(s=>(this.pu=!1,s))));return this.bu=n,n}enqueueAfterDelay(t,n,s){this.Du(),this.wu.indexOf(t)>-1&&(n=0);const l=xm.createAndSchedule(this,t,n,s,c=>this.Fu(c));return this.fu.push(l),l}Du(){this.gu&&yt()}verifyOperationInProgress(){}async Mu(){let t;do t=this.bu,await t;while(t!==this.bu)}xu(t){for(const n of this.fu)if(n.timerId===t)return!0;return!1}Ou(t){return this.Mu().then(()=>{this.fu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Mu()})}Nu(t){this.wu.push(t)}Fu(t){const n=this.fu.indexOf(t);this.fu.splice(n,1)}}function kv(r){return function(n,s){if(typeof n!="object"||n===null)return!1;const l=n;for(const c of s)if(c in l&&typeof l[c]=="function")return!0;return!1}(r,["next","error","complete"])}class Bs extends uh{constructor(t,n,s,l){super(t,n,s,l),this.type="firestore",this._queue=new Pv,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Pv(t),this._firestoreClient=void 0,await t}}}function LC(r,t){const n=typeof r=="object"?r:Gv(),s=typeof r=="string"?r:kc,l=lm(n,"firestore").getImmediate({identifier:s});if(!l._initialized){const c=eS("firestore");c&&UC(l,...c)}return l}function Fm(r){if(r._terminated)throw new ct(Y.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||xC(r),r._firestoreClient}function xC(r){var t,n,s;const l=r._freezeSettings(),c=function(g,p,_,A){return new l1(g,p,_,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,QT(A.experimentalLongPollingOptions),A.useFetchStreams)}(r._databaseId,((t=r._app)===null||t===void 0?void 0:t.options.appId)||"",r._persistenceKey,l);r._componentsProvider||!((n=l.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=l.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider}),r._firestoreClient=new NC(r._authCredentials,r._appCheckCredentials,r._queue,c,r._componentsProvider&&function(g){const p=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Wa(qe.fromBase64String(t))}catch(n){throw new ct(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Wa(qe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new ct(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new je(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new ct(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ct(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Ct(this._lat,t._lat)||Ct(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,l){if(s.length!==l.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==l[c])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zC=/^__.*__$/;class jC{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new ts(t,this.data,this.fieldMask,n,this.fieldTransforms):new zl(t,this.data,n,this.fieldTransforms)}}class $T{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return new ts(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function WT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yt()}}class Ym{constructor(t,n,s,l,c,f){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=l,c===void 0&&this.Bu(),this.fieldTransforms=c||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(t){return new Ym(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),l=this.ku({path:s,Qu:!1});return l.$u(t),l}Uu(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),l=this.ku({path:s,Qu:!1});return l.Bu(),l}Ku(t){return this.ku({path:void 0,Qu:!0})}Wu(t){return Gc(t,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let t=0;t<this.path.length;t++)this.$u(this.path.get(t))}$u(t){if(t.length===0)throw this.Wu("Document fields must not be empty");if(WT(this.Lu)&&zC.test(t))throw this.Wu('Document fields cannot begin and end with "__"')}}class BC{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||ah(t)}ju(t,n,s,l=!1){return new Ym({Lu:t,methodName:n,zu:s,path:je.emptyPath(),Qu:!1,Gu:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ZT(r){const t=r._freezeSettings(),n=ah(r._databaseId);return new BC(r._databaseId,!!t.ignoreUndefinedProperties,n)}function qC(r,t,n,s,l,c={}){const f=r.ju(c.merge||c.mergeFields?2:0,t,n,l);Xm("Data must be an object, but it was:",f,s);const g=JT(s,f);let p,_;if(c.merge)p=new pn(f.fieldMask),_=f.fieldTransforms;else if(c.mergeFields){const A=[];for(const R of c.mergeFields){const P=im(t,R,n);if(!f.contains(P))throw new ct(Y.INVALID_ARGUMENT,`Field '${P}' is specified in your field mask but missing from your input data.`);e0(A,P)||A.push(P)}p=new pn(A),_=f.fieldTransforms.filter(R=>p.covers(R.field))}else p=null,_=f.fieldTransforms;return new jC(new on(g),p,_)}class hh extends Gm{_toFieldTransform(t){if(t.Lu!==2)throw t.Lu===1?t.Wu(`${this._methodName}() can only appear at the top level of your update data`):t.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof hh}}function HC(r,t,n,s){const l=r.ju(1,t,n);Xm("Data must be an object, but it was:",l,s);const c=[],f=on.empty();Jr(s,(p,_)=>{const A=$m(t,p,n);_=Be(_);const R=l.Uu(A);if(_ instanceof hh)c.push(A);else{const P=fh(_,R);P!=null&&(c.push(A),f.set(A,P))}});const g=new pn(c);return new $T(f,g,l.fieldTransforms)}function FC(r,t,n,s,l,c){const f=r.ju(1,t,n),g=[im(t,s,n)],p=[l];if(c.length%2!=0)throw new ct(Y.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let P=0;P<c.length;P+=2)g.push(im(t,c[P])),p.push(c[P+1]);const _=[],A=on.empty();for(let P=g.length-1;P>=0;--P)if(!e0(_,g[P])){const j=g[P];let Q=p[P];Q=Be(Q);const J=f.Uu(j);if(Q instanceof hh)_.push(j);else{const $=fh(Q,J);$!=null&&(_.push(j),A.set(j,$))}}const R=new pn(_);return new $T(A,R,f.fieldTransforms)}function fh(r,t){if(t0(r=Be(r)))return Xm("Unsupported field value:",t,r),JT(r,t);if(r instanceof Gm)return function(s,l){if(!WT(l.Lu))throw l.Wu(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Wu(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(l);c&&l.fieldTransforms.push(c)}(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.Qu&&t.Lu!==4)throw t.Wu("Nested arrays are not supported");return function(s,l){const c=[];let f=0;for(const g of s){let p=fh(g,l.Ku(f));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),f++}return{arrayValue:{values:c}}}(r,t)}return function(s,l){if((s=Be(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return M1(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=we.fromDate(s);return{timestampValue:Bc(l.serializer,c)}}if(s instanceof we){const c=new we(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Bc(l.serializer,c)}}if(s instanceof Km)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Wa)return{bytesValue:gT(l.serializer,s._byteString)};if(s instanceof ln){const c=l.databaseId,f=s.firestore._databaseId;if(!f.isEqual(c))throw l.Wu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Dm(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof Qm)return function(f,g){return{mapValue:{fields:{[GE]:{stringValue:KE},[Uc]:{arrayValue:{values:f.toArray().map(_=>{if(typeof _!="number")throw g.Wu("VectorValues must only contain numeric values.");return wm(g.serializer,_)})}}}}}}(s,l);throw l.Wu(`Unsupported field value: ${Hm(s)}`)}(r,t)}function JT(r,t){const n={};return zE(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Jr(r,(s,l)=>{const c=fh(l,t.qu(s));c!=null&&(n[s]=c)}),{mapValue:{fields:n}}}function t0(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof we||r instanceof Km||r instanceof Wa||r instanceof ln||r instanceof Gm||r instanceof Qm)}function Xm(r,t,n){if(!t0(n)||!function(l){return typeof l=="object"&&l!==null&&(Object.getPrototypeOf(l)===Object.prototype||Object.getPrototypeOf(l)===null)}(n)){const s=Hm(n);throw s==="an object"?t.Wu(r+" a custom object"):t.Wu(r+" "+s)}}function im(r,t,n){if((t=Be(t))instanceof ch)return t._internalPath;if(typeof t=="string")return $m(r,t);throw Gc("Field path arguments must be of type string or ",r,!1,void 0,n)}const GC=new RegExp("[~\\*/\\[\\]]");function $m(r,t,n){if(t.search(GC)>=0)throw Gc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new ch(...t.split("."))._internalPath}catch{throw Gc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Gc(r,t,n,s,l){const c=s&&!s.isEmpty(),f=l!==void 0;let g=`Function ${t}() called with invalid data`;n&&(g+=" (via `toFirestore()`)"),g+=". ";let p="";return(c||f)&&(p+=" (found",c&&(p+=` in field ${s}`),f&&(p+=` in document ${l}`),p+=")"),new ct(Y.INVALID_ARGUMENT,g+r+p)}function e0(r,t){return r.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{constructor(t,n,s,l,c){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new ln(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new KC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(i0("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class KC extends n0{data(){return super.data()}}function i0(r,t){return typeof t=="string"?$m(r,t):t instanceof ch?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r0(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ct(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class QC{convertValue(t,n="none"){switch(Yr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return fe(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Qr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw yt()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return Jr(t,(l,c)=>{s[l]=this.convertValue(c,n)}),s}convertVectorValue(t){var n,s,l;const c=(l=(s=(n=t.fields)===null||n===void 0?void 0:n[Uc].arrayValue)===null||s===void 0?void 0:s.values)===null||l===void 0?void 0:l.map(f=>fe(f.doubleValue));return new Qm(c)}convertGeoPoint(t){return new Km(fe(t.latitude),fe(t.longitude))}convertArray(t,n){return(t.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(t,n){switch(n){case"previous":const s=Jc(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Il(t));default:return null}}convertTimestamp(t){const n=Kr(t);return new we(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=Jt.fromString(t);Gt(TT(s));const l=new Cl(s.get(1),s.get(3)),c=new ft(s.popFirst(5));return l.isEqual(n)||Ki(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YC(r,t,n){let s;return s=r?n&&(n.merge||n.mergeFields)?r.toFirestore(t,n):r.toFirestore(t):t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class s0 extends n0{constructor(t,n,s,l,c,f){super(t,n,s,l,f),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Rc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(i0("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class Rc extends s0{data(t={}){return super.data(t)}}class a0{constructor(t,n,s,l){this._firestore=t,this._userDataWriter=n,this._snapshot=l,this.metadata=new _l(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(s=>{t.call(n,new Rc(this._firestore,this._userDataWriter,s.key,s,new _l(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ct(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(l,c){if(l._snapshot.oldDocs.isEmpty()){let f=0;return l._snapshot.docChanges.map(g=>{const p=new Rc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new _l(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(g=>c||g.type!==3).map(g=>{const p=new Rc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new _l(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,A=-1;return g.type!==0&&(_=f.indexOf(g.doc.key),f=f.delete(g.doc.key)),g.type!==1&&(f=f.add(g.doc),A=f.indexOf(g.doc.key)),{type:XC(g.type),doc:p,oldIndex:_,newIndex:A}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function XC(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yt()}}class Wm extends QC{constructor(t){super(),this.firestore=t}convertBytes(t){return new Wa(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new ln(this.firestore,null,n)}}function $C(r){r=qn(r,Hl);const t=qn(r.firestore,Bs),n=Fm(t),s=new Wm(t);return r0(r._query),PC(n,r._query).then(l=>new a0(t,s,r,l))}function o0(r,t,n){r=qn(r,ln);const s=qn(r.firestore,Bs),l=YC(r.converter,t,n);return Zm(s,[qC(ZT(s),"setDoc",r._key,l,r.converter!==null,n).toMutation(r._key,Bn.none())])}function WC(r,t,n,...s){r=qn(r,ln);const l=qn(r.firestore,Bs),c=ZT(l);let f;return f=typeof(t=Be(t))=="string"||t instanceof ch?FC(c,"updateDoc",r._key,t,n,s):HC(c,"updateDoc",r._key,t),Zm(l,[f.toMutation(r._key,Bn.exists(!0))])}function l0(r){return Zm(qn(r.firestore,Bs),[new Rm(r._key,Bn.none())])}function Dd(r,...t){var n,s,l;r=Be(r);let c={includeMetadataChanges:!1,source:"default"},f=0;typeof t[f]!="object"||kv(t[f])||(c=t[f],f++);const g={includeMetadataChanges:c.includeMetadataChanges,source:c.source};if(kv(t[f])){const R=t[f];t[f]=(n=R.next)===null||n===void 0?void 0:n.bind(R),t[f+1]=(s=R.error)===null||s===void 0?void 0:s.bind(R),t[f+2]=(l=R.complete)===null||l===void 0?void 0:l.bind(R)}let p,_,A;if(r instanceof ln)_=qn(r.firestore,Bs),A=bm(r._key.path),p={next:R=>{t[f]&&t[f](ZC(_,r,R))},error:t[f+1],complete:t[f+2]};else{const R=qn(r,Hl);_=qn(R.firestore,Bs),A=R._query;const P=new Wm(_);p={next:j=>{t[f]&&t[f](new a0(_,P,R,j))},error:t[f+1],complete:t[f+2]},r0(r._query)}return function(P,j,Q,J){const $=new GT(J),vt=new UT(j,$,Q);return P.asyncQueue.enqueueAndForget(async()=>PT(await em(P),vt)),()=>{$.su(),P.asyncQueue.enqueueAndForget(async()=>kT(await em(P),vt))}}(Fm(_),A,g,p)}function Zm(r,t){return function(s,l){const c=new Hr;return s.asyncQueue.enqueueAndForget(async()=>AC(await VC(s),l,c)),c.promise}(Fm(r),t)}function ZC(r,t,n){const s=n.docs.get(t._key),l=new Wm(r);return new s0(r,l,t._key,s,new _l(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(l){to=l})(Za),Fa(new Us("firestore",(s,{instanceIdentifier:l,options:c})=>{const f=s.getProvider("app").getImmediate(),g=new Bs(new GR(s.getProvider("auth-internal")),new YR(f,s.getProvider("app-check-internal")),function(_,A){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new ct(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Cl(_.options.projectId,A)}(f,l),f);return c=Object.assign({useFetchStreams:n},c),g._setSettings(c),g},"PUBLIC").setMultipleInstances(!0)),Br(jy,By,t),Br(jy,By,"esm2017")})();const JC={apiKey:"AIzaSyD1hOhjU-csXHwoWRx3BQBl7NmWUcL-dDM",authDomain:"control-stock-v2.firebaseapp.com",projectId:"control-stock-v2",storageBucket:"control-stock-v2.firebasestorage.app",messagingSenderId:"899103445598",appId:"1:899103445598:web:d2d1261364fdef2c2bdacf"},u0=Fv(JC),rm=BR(u0),xr=LC(u0),Kc=({children:r,isOpen:t,onClose:n})=>t?X.jsx("div",{className:"modal-overlay",onClick:n,children:X.jsxs("div",{className:"modal-content",onClick:s=>s.stopPropagation(),children:[X.jsx("button",{className:"close-button",onClick:n,children:"×"}),r]})}):null,tD=({setUser:r})=>{const[t,n]=qt.useState(""),[s,l]=qt.useState(""),[c,f]=qt.useState(!1),[g,p]=qt.useState(""),[_,A]=qt.useState(!1),R=async P=>{P.preventDefault();try{const j=c?await Rw(rm,t,s):await Iw(rm,t,s);r(j.user)}catch{p("Usuario o contraseña incorrectos."),A(!0)}};return X.jsxs("div",{className:"login-container ",children:[X.jsxs("form",{onSubmit:R,children:[X.jsx("h2",{className:"mb-4",children:"Control de Stock"}),X.jsxs("div",{className:"input-group  mb-2",children:[X.jsx("span",{class:"input-group-text",children:X.jsx("span",{class:"fas fa-user"})}),X.jsx("input",{className:"form-control",type:"email",placeholder:"Correo electrónico",value:t,onChange:P=>n(P.target.value),required:!0})]}),X.jsxs("div",{class:"input-group mb-4",children:[X.jsx("span",{class:"input-group-text",children:X.jsx("span",{class:"fas fa-key"})}),X.jsx("input",{className:"form-control",type:"password",placeholder:"Contraseña",value:s,onChange:P=>l(P.target.value),required:!0})]}),X.jsx("button",{className:"btn",type:"submit",children:c?"Registrarse":"Iniciar Sesión"}),X.jsx("button",{className:"fw-bold text-primary",onClick:()=>f(!c),children:c?"¿Ya tienes cuenta? Inicia sesión":"Registrase"})]}),X.jsx(Kc,{isOpen:_,onClose:()=>A(!1),children:X.jsx("p",{children:g})})]})},eD=({user:r,distribuidor:t,onDistribuidorAgregado:n})=>{const[s,l]=qt.useState((t==null?void 0:t.nombre)||""),[c,f]=qt.useState((t==null?void 0:t.telefono)||""),[g,p]=qt.useState((t==null?void 0:t.diaSemana)||"Lunes");qt.useEffect(()=>{t&&(l(t.nombre),f(t.telefono),p(t.diaSemana))},[t]);const _=async A=>{if(A.preventDefault(),!s)return alert("El nombre es obligatorio");try{const R=(t==null?void 0:t.id)||crypto.randomUUID(),P=Ml(xr,`stocks/${r.email}/distribuidores/${R}`);await o0(P,{id:R,nombre:s,telefono:c,diaSemana:g},{merge:!0}),n()}catch(R){console.error("Error al guardar distribuidor",R)}};return X.jsxs("form",{onSubmit:_,className:"p-3 border rounded",children:[X.jsx("h3",{children:t?"Editar Distribuidor":"Agregar Distribuidor"}),X.jsx("input",{type:"text",placeholder:"Nombre",value:s,onChange:A=>l(A.target.value),className:"form-control mb-2",required:!0}),X.jsx("input",{type:"tel",placeholder:"Teléfono",value:c,onChange:A=>f(A.target.value),className:"form-control mb-2"}),X.jsxs("select",{value:g,onChange:A=>p(A.target.value),className:"form-control mb-2",children:[X.jsx("option",{value:"Lunes",children:"Lunes"}),X.jsx("option",{value:"Martes",children:"Martes"}),X.jsx("option",{value:"Miércoles",children:"Miércoles"}),X.jsx("option",{value:"Jueves",children:"Jueves"}),X.jsx("option",{value:"Viernes",children:"Viernes"}),X.jsx("option",{value:"Sábado",children:"Sábado"})]}),X.jsx("button",{type:"submit",className:"btn btn-success w-100",children:"Guardar"})]})},c0=({user:r,distribuidor:t,producto:n,onProductoAgregado:s})=>{const[l,c]=qt.useState((n==null?void 0:n.nombre)||""),[f,g]=qt.useState((n==null?void 0:n.cantActual)||0),[p,_]=qt.useState((n==null?void 0:n.cantDeseada)||0);qt.useEffect(()=>{n&&(c(n.nombre),g(n.cantActual),_(n.cantDeseada))},[n]);const A=async R=>{if(R.preventDefault(),!l)return alert("El nombre del producto es obligatorio");try{const P=Ml(xr,`stocks/${r.email}/distribuidores/${t}/productos/${(n==null?void 0:n.id)||l}`);await o0(P,{nombre:l,cantActual:Number(f),cantDeseada:Number(p)},{merge:!0}),s()}catch(P){console.error("Error al guardar producto",P)}};return X.jsxs("form",{onSubmit:A,className:"p-3 border rounded",children:[X.jsx("h3",{children:n?"Editar Producto":"Agregar Producto"}),X.jsx("input",{type:"text",placeholder:"Nombre del producto",value:l,onChange:R=>c(R.target.value),className:"form-control mb-2",required:!0}),X.jsx("input",{type:"number",placeholder:"Cantidad Actual",value:f,onChange:R=>g(Number(R.target.value)),className:"form-control mb-2"}),X.jsx("input",{type:"number",placeholder:"Cantidad Deseada",value:p,onChange:R=>_(Number(R.target.value)),className:"form-control mb-2"}),X.jsx("button",{type:"submit",className:"btn btn-success w-100",children:n?"Guardar Cambios":"Agregar Producto"})]})},nD=({user:r})=>{const[t,n]=qt.useState([]),[s,l]=qt.useState(null),[c,f]=qt.useState(!1),[g,p]=qt.useState(!1),[_,A]=qt.useState(!1);qt.useEffect(()=>{R()},[r]);const R=async()=>{const j=nm(xr,`stocks/${r.email}/distribuidores`),J=(await $C(j)).docs.map($=>({id:$.id,...$.data()}));n(J)},P=async j=>{if(window.confirm("¿Seguro que quieres eliminar este distribuidor y sus productos?"))try{await l0(Ml(xr,`stocks/${r.email}/distribuidores/${j}`)),n(t.filter(Q=>Q.id!==j))}catch(Q){console.error("Error al eliminar distribuidor",Q)}};return X.jsxs("div",{children:[X.jsxs("div",{className:"btn-group mb-3",children:[X.jsx("button",{className:"btn btn-success",onClick:()=>f(!0),children:"Crear Distribuidor"}),X.jsx("button",{className:"btn btn-warning",onClick:()=>A(!_),children:_?"Salir del modo edición":"Modo edición"})]}),X.jsx("h3",{className:"mt-4",children:"Distribuidores"}),t.length>0?X.jsx("ul",{className:"list-group mb-4",children:t.map(j=>X.jsxs("li",{className:"list-group-item d-flex justify-content-between align-items-center",onClick:()=>{_&&(l(j),f(!0))},children:[X.jsxs("div",{children:[X.jsx("strong",{children:j.nombre})," - ",j.diaSemana," ",X.jsx("br",{}),X.jsxs("small",{children:["📞 ",j.telefono]})]}),_?X.jsx("button",{className:"btn btn-danger btn-sm",onClick:Q=>{Q.stopPropagation(),P(j.id)},children:"×"}):X.jsx("button",{className:"btn btn-primary btn-sm",onClick:()=>{l(j.id),p(!0)},children:"+"})]},j.id))}):X.jsx("p",{children:"No hay distribuidores aún."}),X.jsx(Kc,{isOpen:c,onClose:()=>f(!1),children:X.jsx(eD,{user:r,distribuidor:s,onDistribuidorAgregado:()=>{R(),f(!1)}})}),X.jsx(Kc,{isOpen:g,onClose:()=>p(!1),children:X.jsx(c0,{user:r,distribuidor:s,onProductoAgregado:()=>p(!1)})})]})},iD=(r={},t={})=>{let n="";Object.keys(r).forEach(s=>{var c;const l=r[s].filter(f=>f.cantActual<f.cantDeseada).map(f=>`- ${f.nombre} ${f.cantDeseada-f.cantActual}`);l.length>0&&(n+=`${((c=t[s])==null?void 0:c.nombre)||s}:
`,n+=l.join(`
`)+`
-------------------
`)}),n?navigator.clipboard.writeText(n).then(()=>console.log(`📋 Copiado al portapapeles:
`+n)).catch(s=>console.error("Error al copiar: ",s)):console.log("No hay productos con faltante.")},rD=({user:r})=>{const[t,n]=qt.useState({}),[s,l]=qt.useState({}),[c,f]=qt.useState(null),[g,p]=qt.useState(!1),[_,A]=qt.useState(null),[R,P]=qt.useState(null),[j,Q]=qt.useState(!1),[J,$]=qt.useState(!1);qt.useEffect(()=>{if(!r)return;const dt=nm(xr,`stocks/${r.email}/distribuidores`),lt=Dd(dt,O=>{const b={};O.docs.forEach(S=>{const I=S.data();b[S.id]={nombre:I.nombre,telefono:I.telefono}}),l(b)}),st=Dd(dt,O=>{O.docs.forEach(b=>{const S=b.id,I=nm(xr,`stocks/${r.email}/distribuidores/${S}/productos`);Dd(I,M=>{const C=M.docs.map(Xt=>({id:Xt.id,...Xt.data()})).sort((Xt,te)=>(te.cantActual<te.cantDeseada)-(Xt.cantActual<Xt.cantDeseada));n(Xt=>({...Xt,[S]:C}))})})});return()=>{lt(),st()}},[r]);const vt=async(dt,lt,st)=>{const O=Ml(xr,`stocks/${r.email}/distribuidores/${dt}/productos/${lt}`);try{await WC(O,{cantActual:st})}catch(b){console.error("Error al actualizar cantidad",b)}},mt=async(dt,lt)=>{if(window.confirm("¿Seguro que quieres eliminar este producto?"))try{await l0(Ml(xr,`stocks/${r.email}/distribuidores/${dt}/productos/${lt}`)),n(st=>{const O={...st};return O[dt]=O[dt].filter(b=>b.id!==lt),O})}catch(st){console.error("Error al eliminar producto",st)}},Et=(dt,lt,st)=>{st[dt];const O=lt[dt].filter(I=>I.cantActual<I.cantDeseada).map(I=>`- ${I.nombre} ${I.cantDeseada-I.cantActual}`).join(`
`);if(!O){alert("No hay productos faltantes para este distribuidor.");return}const b=`${O}`,S=`https://wa.me/?text=${encodeURIComponent(b)}`;window.open(S,"_blank")};return X.jsxs("div",{children:[X.jsx("button",{className:"btn btn-warning mb-3",onClick:()=>p(!g),children:g?"Salir del modo edición":"Modo edición"}),X.jsx("button",{className:"btn btn-info mb-3",onClick:()=>iD(t,s),children:"Copiar productos faltantes 📋"}),Object.keys(t).length>0?Object.keys(t).map(dt=>{var lt;return X.jsx("div",{className:"mb-4",children:X.jsxs("table",{className:"table table-bordered",children:[X.jsxs("thead",{children:[X.jsx("tr",{className:"table-primary",children:X.jsxs("th",{colSpan:g?4:3,className:"text-center",children:[((lt=s[dt])==null?void 0:lt.nombre)||"Cargando...",X.jsx("button",{className:"btn btn-success btn-sm ms-2",onClick:()=>Et(dt,t,s),children:"WPP"})]})}),X.jsxs("tr",{className:"table-light",children:[X.jsx("th",{children:"Nombre"}),X.jsx("th",{children:"Cant. Actual"}),X.jsx("th",{children:"Cant. Deseada"}),g&&X.jsx("th",{children:"Acciones"})]})]}),X.jsx("tbody",{children:t[dt].map(st=>{const O=st.cantActual<st.cantDeseada;return X.jsxs(zA.Fragment,{children:[X.jsxs("tr",{style:{backgroundColor:O?"#ffcccc":"#ccffcc"},onClick:()=>{g?(A(st),P(dt),Q(!0)):f(c===st.id?null:st.id)},children:[X.jsx("td",{children:st.nombre}),X.jsx("td",{children:st.cantActual}),X.jsx("td",{children:st.cantDeseada}),g&&X.jsx("td",{children:X.jsx("button",{className:"btn btn-danger btn-sm",onClick:b=>{b.stopPropagation(),mt(dt,st.id)},children:"×"})})]}),c===st.id&&!g&&X.jsx("tr",{children:X.jsxs("td",{colSpan:"3",className:"text-center",children:[X.jsxs("button",{className:"btn btn-outline-secondary me-2",onClick:()=>vt(dt,st.id,st.cantActual-(J?10:1)),children:["-",J?"10":"1"]}),X.jsxs("button",{className:"btn btn-outline-secondary me-2",onClick:()=>vt(dt,st.id,st.cantActual+(J?10:1)),children:["+",J?"10":"1"]}),X.jsx("button",{className:`btn ${J?"btn-warning":"btn-outline-warning"}`,onClick:()=>$(!J),children:"×10"})]})})]},st.id)})})]})},dt)}):X.jsx("p",{children:"No hay productos disponibles."}),X.jsx(Kc,{isOpen:j,onClose:()=>Q(!1),children:X.jsx(c0,{user:r,distribuidor:R,producto:_,onProductoAgregado:()=>Q(!1)})})]})};function sD(){const[r,t]=qt.useState(null),[n,s]=qt.useState("distribuidores"),l=async()=>{await Ow(rm),t(null)};return X.jsx("div",{className:"main-container container-fluid",children:r?X.jsxs(X.Fragment,{children:[X.jsx("button",{className:"btn btn-danger mb-3",onClick:l,children:"Cerrar sesión"}),X.jsxs("div",{className:"btn-group mb-3",children:[X.jsx("button",{className:`btn ${n==="distribuidores"?"btn-primary":"btn-secondary"}`,onClick:()=>s("distribuidores"),children:"Distribuidores"}),X.jsx("button",{className:`btn ${n==="productos"?"btn-primary":"btn-secondary"}`,onClick:()=>s("productos"),children:"Productos"})]}),n==="distribuidores"?X.jsx(nD,{user:r}):X.jsx(rD,{user:r})]}):X.jsx(tD,{setUser:t})})}KA.createRoot(document.getElementById("root")).render(X.jsx(qt.StrictMode,{children:X.jsx(sD,{})}));
